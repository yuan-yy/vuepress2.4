<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.36" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://yuan-yy.github.io/vuepress2.4/vuepress2.4/book/chongGou/ch10.html"><meta property="og:site_name" content="é™å¿ƒ"><meta property="og:title" content="ç¬¬ 10 ç«  ç®€åŒ–æ¡ä»¶é€»è¾‘"><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><link rel="stylesheet" href="//at.alicdn.com/t/font_2410206_mfj6e1vbwo.css"><link rel="icon" href="/logo.jpg"><link rel="icon" href="/logo.jpg" type="image/jpg" sizes="512x512"><link rel="icon" href="/logo.jpg" type="image/jpg" sizes="192x192"><link rel="manifest" href="/vuepress2.4/manifest.webmanifest" crossorigin="use-credentials"><meta name="theme-color" content="#46bd87"><link rel="apple-touch-icon" href="/logo.jpg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="msapplication-TileImage" content="/logo.jpg"><meta name="msapplication-TileColor" content="#ffffff"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"><title>ç¬¬ 10 ç«  ç®€åŒ–æ¡ä»¶é€»è¾‘ | é™å¿ƒ</title><meta name="description" content="æ²¡æœ‰æè¿°">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background-color: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="stylesheet" href="/vuepress2.4/assets/style.a1ca8d71.css">
    <link rel="modulepreload" href="/vuepress2.4/assets/app.d843d859.js"><link rel="modulepreload" href="/vuepress2.4/assets/ch10.html.164e3b1e.js"><link rel="modulepreload" href="/vuepress2.4/assets/ch10.html.6bbc1af1.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Skip to content</a><!--]--><div class="theme-container has-toc sidebar-open"><!--[--><header class="navbar auto-hide"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><a href="/vuepress2.4/" class="home-link"><img class="logo" src="/vuepress2.4/logo.jpg" alt="é™å¿ƒ"><!----><span class="site-name hide-in-pad">é™å¿ƒ</span><!--[--><!----><!--]--></a><nav class="nav-links" style=""><div class="nav-item hide-in-mobile"><a href="/vuepress2.4/" class="nav-link" arialabel="HOME"><i class="icon iconfont icon-home"></i>HOME<!----></a></div><div class="nav-item hide-in-mobile"><a href="/vuepress2.4/DoubtfulCases/" class="nav-link" arialabel="DoubtfulCases"><i class="icon iconfont icon-creative"></i>DoubtfulCases<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" arialabel="Brower"><span class="title"><i class="icon iconfont icon-strong"></i>Brower</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/vuepress2.4/brower/%E6%B5%8F%E8%A7%88%E5%99%A8%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86%E7%AE%80%E8%BF%B0.html" class="nav-link" arialabel="å®è§‚ä¸‹äº†è§£æµè§ˆå™¨"><i class="icon iconfont icon-stack"></i>å®è§‚ä¸‹äº†è§£æµè§ˆå™¨<!----></a></li><li class="dropdown-item"><a href="/vuepress2.4/brower/%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%AD%E7%9A%84JavaScript%E6%89%A7%E8%A1%8C%E6%9C%BA%E5%88%B6.html" class="nav-link" arialabel="æµè§ˆå™¨ä¸­JavaScriptçš„æ‰§è¡Œæœºåˆ¶"><i class="icon iconfont icon-stack"></i>æµè§ˆå™¨ä¸­JavaScriptçš„æ‰§è¡Œæœºåˆ¶<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" arialabel="Frontend"><span class="title"><i class="icon iconfont icon-strong"></i>Frontend</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/vuepress2.4/frontend/css/a%E6%A0%87%E7%AD%BE.html" class="nav-link" arialabel="CSS"><i class="icon iconfont icon-stack"></i>CSS<!----></a></li><li class="dropdown-item"><a href="/vuepress2.4/frontend/javascript/%E6%B7%B1%E6%8B%B7%E8%B4%9D%E5%92%8C%E6%B5%85%E6%8B%B7%E8%B4%9D.html" class="nav-link" arialabel="JAVASCRIPT"><i class="icon iconfont icon-search"></i>JAVASCRIPT<!----></a></li><li class="dropdown-item"><a href="/vuepress2.4/frontend/typescript/%E7%BB%83%E4%B9%A0TS%E6%B3%9B%E5%9E%8B%E7%AE%80%E5%8D%95%E7%9A%84%E6%A1%88%E4%BE%8B.html" class="nav-link" arialabel="TYPESCRIPT"><i class="icon iconfont icon-search"></i>TYPESCRIPT<!----></a></li><li class="dropdown-item"><a href="/vuepress2.4/frontend/vue2/vue%E5%9F%BA%E7%A1%80.html" class="nav-link" arialabel="VUE2"><i class="icon iconfont icon-search"></i>VUE2<!----></a></li><li class="dropdown-item"><a href="/vuepress2.4/frontend/vue3.2/Vue3.2%E7%BB%8F%E5%85%B8%E6%80%BB%E7%BB%93.html" class="nav-link" arialabel="VUE3æ–°ç‰¹æ€§"><i class="icon iconfont icon-search"></i>VUE3æ–°ç‰¹æ€§<!----></a></li><li class="dropdown-item"><a href="/vuepress2.4/frontend/uniapp/" class="nav-link" arialabel="UNIAPP"><i class="icon iconfont icon-search"></i>UNIAPP<!----></a></li><li class="dropdown-item"><a href="/vuepress2.4/frontend/secret/%E5%89%8D%E7%AB%AF%E9%94%AE%E7%9B%98%E4%BE%A0%E7%A7%98%E7%B1%8D(%60VSCode%60).html" class="nav-link" arialabel="å‰ç«¯é”®ç›˜ä¾ åˆçº§é˜¶æ®µ"><i class="icon iconfont icon-Secret"></i>å‰ç«¯é”®ç›˜ä¾ åˆçº§é˜¶æ®µ<!----></a></li><li class="dropdown-item"><a href="/vuepress2.4/frontend/secret/%E9%94%AE%E7%9B%98%E4%BE%A0%E7%A7%98%E7%B1%8D%E8%BF%9B%E9%98%B6(VSCode).html" class="nav-link" arialabel="å‰ç«¯é”®ç›˜ä¾ è¿›é˜¶é˜¶æ®µ"><i class="icon iconfont icon-Secret"></i>å‰ç«¯é”®ç›˜ä¾ è¿›é˜¶é˜¶æ®µ<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" arialabel="BOOK"><span class="title"><i class="icon iconfont icon-stack"></i>BOOK</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>TypeScript</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/vuepress2.4/book/typescript/basics/" class="nav-link" arialabel="åŸºç¡€"><i class="icon iconfont icon-stack"></i>åŸºç¡€<!----></a></li><li class="dropdown-subitem"><a href="/vuepress2.4/book/typescript/advanced/" class="nav-link" arialabel="è¿›é˜¶"><i class="icon iconfont icon-stack"></i>è¿›é˜¶<!----></a></li></ul></li><li class="dropdown-item"><a href="/vuepress2.4/book/chongGou/" class="nav-link active" arialabel="é‡æ„2"><i class="icon iconfont icon-stack"></i>é‡æ„2<!----></a></li></ul></button></div></div></nav><div class="nav-actions-wrapper"><!--[--><!----><!--]--><div class="nav-item"><!----></div><div class="nav-item"><a class="repo-link" href="https://github.com/yuan-yy" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewbox="0 0 1024 1024" arialabelledby="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><title id="github" lang="en">github icon</title><g fill="currentColor"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></g></svg></a></div><div class="nav-item hide-in-mobile"><button class="outlook-button" tabindex="-1" ariahidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewbox="0 0 1024 1024" arialabelledby="outlook"><title id="outlook" lang="en">outlook icon</title><g fill="currentColor"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></g></svg><div class="outlook-dropdown"><!----></div></button></div><div id="docsearch-container"></div><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button><!--[--><!----><!--]--></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><!--[--><a href="/vuepress2.4/book/chongGou/ch1.html" class="nav-link sidebar-link sidebar-page" arialabel="ç¬¬ 1 ç«  é‡æ„ï¼Œç¬¬ä¸€ä¸ªç¤ºä¾‹"><!---->ç¬¬ 1 ç«  é‡æ„ï¼Œç¬¬ä¸€ä¸ªç¤ºä¾‹<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/vuepress2.4/book/chongGou/ch2.html" class="nav-link sidebar-link sidebar-page" arialabel="ç¬¬ 2 ç«  é‡æ„çš„åŸåˆ™"><!---->ç¬¬ 2 ç«  é‡æ„çš„åŸåˆ™<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/vuepress2.4/book/chongGou/ch3.html" class="nav-link sidebar-link sidebar-page" arialabel="ç¬¬ 3 ç«  ä»£ç çš„åå‘³é“"><!---->ç¬¬ 3 ç«  ä»£ç çš„åå‘³é“<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/vuepress2.4/book/chongGou/ch4.html" class="nav-link sidebar-link sidebar-page" arialabel="ç¬¬ 4 ç«  æ„ç­‘æµ‹è¯•ä½“ç³»"><!---->ç¬¬ 4 ç«  æ„ç­‘æµ‹è¯•ä½“ç³»<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/vuepress2.4/book/chongGou/ch5.html" class="nav-link sidebar-link sidebar-page" arialabel="ç¬¬ 5 ç«  ä»‹ç»é‡æ„åå½•"><!---->ç¬¬ 5 ç«  ä»‹ç»é‡æ„åå½•<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/vuepress2.4/book/chongGou/ch6.html" class="nav-link sidebar-link sidebar-page" arialabel="ç¬¬ 6 ç«  ç¬¬ä¸€ç»„é‡æ„"><!---->ç¬¬ 6 ç«  ç¬¬ä¸€ç»„é‡æ„<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/vuepress2.4/book/chongGou/ch7.html" class="nav-link sidebar-link sidebar-page" arialabel="ç¬¬ 7 ç«  å°è£…"><!---->ç¬¬ 7 ç«  å°è£…<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/vuepress2.4/book/chongGou/ch8.html" class="nav-link sidebar-link sidebar-page" arialabel="ç¬¬ 8 ç«  æ¬ç§»ç‰¹æ€§"><!---->ç¬¬ 8 ç«  æ¬ç§»ç‰¹æ€§<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/vuepress2.4/book/chongGou/ch9.html" class="nav-link sidebar-link sidebar-page" arialabel="ç¬¬ 9 ç«  é‡æ–°ç»„ç»‡æ•°æ®"><!---->ç¬¬ 9 ç«  é‡æ–°ç»„ç»‡æ•°æ®<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-current="page" href="/vuepress2.4/book/chongGou/ch10.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" arialabel="ç¬¬ 10 ç«  ç®€åŒ–æ¡ä»¶é€»è¾‘"><!---->ç¬¬ 10 ç«  ç®€åŒ–æ¡ä»¶é€»è¾‘<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/vuepress2.4/book/chongGou/ch10.html#_10-1-åˆ†è§£æ¡ä»¶è¡¨è¾¾å¼-decompose-conditional" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="10.1 åˆ†è§£æ¡ä»¶è¡¨è¾¾å¼ï¼ˆDecompose Conditionalï¼‰"><!---->10.1 åˆ†è§£æ¡ä»¶è¡¨è¾¾å¼ï¼ˆDecompose Conditionalï¼‰<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/vuepress2.4/book/chongGou/ch10.html#åŠ¨æœº" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="åŠ¨æœº"><!---->åŠ¨æœº<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/vuepress2.4/book/chongGou/ch10.html#åšæ³•" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="åšæ³•"><!---->åšæ³•<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/vuepress2.4/book/chongGou/ch10.html#èŒƒä¾‹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="èŒƒä¾‹"><!---->èŒƒä¾‹<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/vuepress2.4/book/chongGou/ch10.html#_10-2-åˆå¹¶æ¡ä»¶è¡¨è¾¾å¼-consolidate-conditional-expression" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="10.2 åˆå¹¶æ¡ä»¶è¡¨è¾¾å¼ï¼ˆConsolidate Conditional Expressionï¼‰"><!---->10.2 åˆå¹¶æ¡ä»¶è¡¨è¾¾å¼ï¼ˆConsolidate Conditional Expressionï¼‰<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/vuepress2.4/book/chongGou/ch10.html#åŠ¨æœº-1" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="åŠ¨æœº"><!---->åŠ¨æœº<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/vuepress2.4/book/chongGou/ch10.html#åšæ³•-1" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="åšæ³•"><!---->åšæ³•<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/vuepress2.4/book/chongGou/ch10.html#èŒƒä¾‹-1" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="èŒƒä¾‹"><!---->èŒƒä¾‹<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/vuepress2.4/book/chongGou/ch10.html#èŒƒä¾‹-ä½¿ç”¨é€»è¾‘ä¸" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="èŒƒä¾‹ï¼šä½¿ç”¨é€»è¾‘ä¸"><!---->èŒƒä¾‹ï¼šä½¿ç”¨é€»è¾‘ä¸<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/vuepress2.4/book/chongGou/ch10.html#_10-3-ä»¥å«è¯­å¥å–ä»£åµŒå¥—æ¡ä»¶è¡¨è¾¾å¼-replace-nested-conditional-with-guard-clauses" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="10.3 ä»¥å«è¯­å¥å–ä»£åµŒå¥—æ¡ä»¶è¡¨è¾¾å¼ï¼ˆReplace Nested Conditional with Guard Clausesï¼‰"><!---->10.3 ä»¥å«è¯­å¥å–ä»£åµŒå¥—æ¡ä»¶è¡¨è¾¾å¼ï¼ˆReplace Nested Conditional with Guard Clausesï¼‰<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/vuepress2.4/book/chongGou/ch10.html#åŠ¨æœº-2" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="åŠ¨æœº"><!---->åŠ¨æœº<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/vuepress2.4/book/chongGou/ch10.html#åšæ³•-2" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="åšæ³•"><!---->åšæ³•<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/vuepress2.4/book/chongGou/ch10.html#èŒƒä¾‹-2" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="èŒƒä¾‹"><!---->èŒƒä¾‹<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/vuepress2.4/book/chongGou/ch10.html#èŒƒä¾‹-å°†æ¡ä»¶åè½¬" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="èŒƒä¾‹ï¼šå°†æ¡ä»¶åè½¬"><!---->èŒƒä¾‹ï¼šå°†æ¡ä»¶åè½¬<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/vuepress2.4/book/chongGou/ch10.html#_10-4-ä»¥å¤šæ€å–ä»£æ¡ä»¶è¡¨è¾¾å¼-replace-conditional-with-polymorphism" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="10.4 ä»¥å¤šæ€å–ä»£æ¡ä»¶è¡¨è¾¾å¼ï¼ˆReplace Conditional with Polymorphismï¼‰"><!---->10.4 ä»¥å¤šæ€å–ä»£æ¡ä»¶è¡¨è¾¾å¼ï¼ˆReplace Conditional with Polymorphismï¼‰<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/vuepress2.4/book/chongGou/ch10.html#åŠ¨æœº-3" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="åŠ¨æœº"><!---->åŠ¨æœº<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/vuepress2.4/book/chongGou/ch10.html#åšæ³•-3" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="åšæ³•"><!---->åšæ³•<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/vuepress2.4/book/chongGou/ch10.html#èŒƒä¾‹-3" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="èŒƒä¾‹"><!---->èŒƒä¾‹<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/vuepress2.4/book/chongGou/ch10.html#èŒƒä¾‹-ç”¨å¤šæ€å¤„ç†å˜ä½“é€»è¾‘" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="èŒƒä¾‹ï¼šç”¨å¤šæ€å¤„ç†å˜ä½“é€»è¾‘"><!---->èŒƒä¾‹ï¼šç”¨å¤šæ€å¤„ç†å˜ä½“é€»è¾‘<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/vuepress2.4/book/chongGou/ch10.html#_10-5-å¼•å…¥ç‰¹ä¾‹-introduce-special-case" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="10.5 å¼•å…¥ç‰¹ä¾‹ï¼ˆIntroduce Special Caseï¼‰"><!---->10.5 å¼•å…¥ç‰¹ä¾‹ï¼ˆIntroduce Special Caseï¼‰<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/vuepress2.4/book/chongGou/ch10.html#åŠ¨æœº-4" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="åŠ¨æœº"><!---->åŠ¨æœº<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/vuepress2.4/book/chongGou/ch10.html#åšæ³•-4" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="åšæ³•"><!---->åšæ³•<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/vuepress2.4/book/chongGou/ch10.html#èŒƒä¾‹-4" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="èŒƒä¾‹"><!---->èŒƒä¾‹<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/vuepress2.4/book/chongGou/ch10.html#èŒƒä¾‹-ä½¿ç”¨å¯¹è±¡å­—é¢é‡" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="èŒƒä¾‹ï¼šä½¿ç”¨å¯¹è±¡å­—é¢é‡"><!---->èŒƒä¾‹ï¼šä½¿ç”¨å¯¹è±¡å­—é¢é‡<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/vuepress2.4/book/chongGou/ch10.html#èŒƒä¾‹-ä½¿ç”¨å˜æ¢" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="èŒƒä¾‹ï¼šä½¿ç”¨å˜æ¢"><!---->èŒƒä¾‹ï¼šä½¿ç”¨å˜æ¢<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/vuepress2.4/book/chongGou/ch10.html#_10-6-å¼•å…¥æ–­è¨€-introduce-assertion" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="10.6 å¼•å…¥æ–­è¨€ï¼ˆIntroduce Assertionï¼‰"><!---->10.6 å¼•å…¥æ–­è¨€ï¼ˆIntroduce Assertionï¼‰<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/vuepress2.4/book/chongGou/ch10.html#åŠ¨æœº-5" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="åŠ¨æœº"><!---->åŠ¨æœº<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/vuepress2.4/book/chongGou/ch10.html#åšæ³•-5" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="åšæ³•"><!---->åšæ³•<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/vuepress2.4/book/chongGou/ch10.html#èŒƒä¾‹-5" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="èŒƒä¾‹"><!---->èŒƒä¾‹<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li></ul><!--]--></li><li><!--[--><a href="/vuepress2.4/book/chongGou/ch11.html" class="nav-link sidebar-link sidebar-page" arialabel="ç¬¬ 11 ç«  é‡æ„ API"><!---->ç¬¬ 11 ç«  é‡æ„ API<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/vuepress2.4/book/chongGou/ch12.html" class="nav-link sidebar-link sidebar-page" arialabel="ç¬¬ 12 ç«  å¤„ç†ç»§æ‰¿å…³ç³»"><!---->ç¬¬ 12 ç«  å¤„ç†ç»§æ‰¿å…³ç³»<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->ç¬¬ 10 ç«  ç®€åŒ–æ¡ä»¶é€»è¾‘</h1><div class="article-info"><span class="author-info" arialabel="ä½œè€…ğŸ–Š" data-balloon-pos="down" isoriginal="false" pageview="false" color="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewbox="0 0 1024 1024" arialabelledby="author"><title id="author" lang="en">author icon</title><g fill="currentColor"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></g></svg><span><a class="author-item" href="https://yuan-yy.github.io/vuepress2.4/" target="_blank" rel="noopener noreferrer">YY</a></span><span property="author" content="YY"></span></span><!----><!----><!----><!----><span class="reading-time-info" arialabel="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="down" isoriginal="false" pageview="false" color="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewbox="0 0 1024 1024" arialabelledby="timer"><title id="timer" lang="en">timer icon</title><g fill="currentColor"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></g></svg><span>å¤§çº¦ 40 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT40M"></span></div><hr></div><div class="toc-place-holder"><aside id="toc-list"><div class="toc-header">æ­¤é¡µå†…å®¹</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/vuepress2.4/book/chongGou/ch10.html#_10-1-åˆ†è§£æ¡ä»¶è¡¨è¾¾å¼-decompose-conditional" class="router-link-active router-link-exact-active toc-link level2">10.1 åˆ†è§£æ¡ä»¶è¡¨è¾¾å¼ï¼ˆDecompose Conditionalï¼‰</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/vuepress2.4/book/chongGou/ch10.html#åŠ¨æœº" class="router-link-active router-link-exact-active toc-link level3">åŠ¨æœº</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/vuepress2.4/book/chongGou/ch10.html#åšæ³•" class="router-link-active router-link-exact-active toc-link level3">åšæ³•</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/vuepress2.4/book/chongGou/ch10.html#èŒƒä¾‹" class="router-link-active router-link-exact-active toc-link level3">èŒƒä¾‹</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/vuepress2.4/book/chongGou/ch10.html#_10-2-åˆå¹¶æ¡ä»¶è¡¨è¾¾å¼-consolidate-conditional-expression" class="router-link-active router-link-exact-active toc-link level2">10.2 åˆå¹¶æ¡ä»¶è¡¨è¾¾å¼ï¼ˆConsolidate Conditional Expressionï¼‰</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/vuepress2.4/book/chongGou/ch10.html#åŠ¨æœº-1" class="router-link-active router-link-exact-active toc-link level3">åŠ¨æœº</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/vuepress2.4/book/chongGou/ch10.html#åšæ³•-1" class="router-link-active router-link-exact-active toc-link level3">åšæ³•</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/vuepress2.4/book/chongGou/ch10.html#èŒƒä¾‹-1" class="router-link-active router-link-exact-active toc-link level3">èŒƒä¾‹</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/vuepress2.4/book/chongGou/ch10.html#èŒƒä¾‹-ä½¿ç”¨é€»è¾‘ä¸" class="router-link-active router-link-exact-active toc-link level3">èŒƒä¾‹ï¼šä½¿ç”¨é€»è¾‘ä¸</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/vuepress2.4/book/chongGou/ch10.html#_10-3-ä»¥å«è¯­å¥å–ä»£åµŒå¥—æ¡ä»¶è¡¨è¾¾å¼-replace-nested-conditional-with-guard-clauses" class="router-link-active router-link-exact-active toc-link level2">10.3 ä»¥å«è¯­å¥å–ä»£åµŒå¥—æ¡ä»¶è¡¨è¾¾å¼ï¼ˆReplace Nested Conditional with Guard Clausesï¼‰</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/vuepress2.4/book/chongGou/ch10.html#åŠ¨æœº-2" class="router-link-active router-link-exact-active toc-link level3">åŠ¨æœº</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/vuepress2.4/book/chongGou/ch10.html#åšæ³•-2" class="router-link-active router-link-exact-active toc-link level3">åšæ³•</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/vuepress2.4/book/chongGou/ch10.html#èŒƒä¾‹-2" class="router-link-active router-link-exact-active toc-link level3">èŒƒä¾‹</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/vuepress2.4/book/chongGou/ch10.html#èŒƒä¾‹-å°†æ¡ä»¶åè½¬" class="router-link-active router-link-exact-active toc-link level3">èŒƒä¾‹ï¼šå°†æ¡ä»¶åè½¬</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/vuepress2.4/book/chongGou/ch10.html#_10-4-ä»¥å¤šæ€å–ä»£æ¡ä»¶è¡¨è¾¾å¼-replace-conditional-with-polymorphism" class="router-link-active router-link-exact-active toc-link level2">10.4 ä»¥å¤šæ€å–ä»£æ¡ä»¶è¡¨è¾¾å¼ï¼ˆReplace Conditional with Polymorphismï¼‰</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/vuepress2.4/book/chongGou/ch10.html#åŠ¨æœº-3" class="router-link-active router-link-exact-active toc-link level3">åŠ¨æœº</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/vuepress2.4/book/chongGou/ch10.html#åšæ³•-3" class="router-link-active router-link-exact-active toc-link level3">åšæ³•</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/vuepress2.4/book/chongGou/ch10.html#èŒƒä¾‹-3" class="router-link-active router-link-exact-active toc-link level3">èŒƒä¾‹</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/vuepress2.4/book/chongGou/ch10.html#èŒƒä¾‹-ç”¨å¤šæ€å¤„ç†å˜ä½“é€»è¾‘" class="router-link-active router-link-exact-active toc-link level3">èŒƒä¾‹ï¼šç”¨å¤šæ€å¤„ç†å˜ä½“é€»è¾‘</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/vuepress2.4/book/chongGou/ch10.html#_10-5-å¼•å…¥ç‰¹ä¾‹-introduce-special-case" class="router-link-active router-link-exact-active toc-link level2">10.5 å¼•å…¥ç‰¹ä¾‹ï¼ˆIntroduce Special Caseï¼‰</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/vuepress2.4/book/chongGou/ch10.html#åŠ¨æœº-4" class="router-link-active router-link-exact-active toc-link level3">åŠ¨æœº</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/vuepress2.4/book/chongGou/ch10.html#åšæ³•-4" class="router-link-active router-link-exact-active toc-link level3">åšæ³•</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/vuepress2.4/book/chongGou/ch10.html#èŒƒä¾‹-4" class="router-link-active router-link-exact-active toc-link level3">èŒƒä¾‹</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/vuepress2.4/book/chongGou/ch10.html#èŒƒä¾‹-ä½¿ç”¨å¯¹è±¡å­—é¢é‡" class="router-link-active router-link-exact-active toc-link level3">èŒƒä¾‹ï¼šä½¿ç”¨å¯¹è±¡å­—é¢é‡</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/vuepress2.4/book/chongGou/ch10.html#èŒƒä¾‹-ä½¿ç”¨å˜æ¢" class="router-link-active router-link-exact-active toc-link level3">èŒƒä¾‹ï¼šä½¿ç”¨å˜æ¢</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/vuepress2.4/book/chongGou/ch10.html#_10-6-å¼•å…¥æ–­è¨€-introduce-assertion" class="router-link-active router-link-exact-active toc-link level2">10.6 å¼•å…¥æ–­è¨€ï¼ˆIntroduce Assertionï¼‰</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/vuepress2.4/book/chongGou/ch10.html#åŠ¨æœº-5" class="router-link-active router-link-exact-active toc-link level3">åŠ¨æœº</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/vuepress2.4/book/chongGou/ch10.html#åšæ³•-5" class="router-link-active router-link-exact-active toc-link level3">åšæ³•</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/vuepress2.4/book/chongGou/ch10.html#èŒƒä¾‹-5" class="router-link-active router-link-exact-active toc-link level3">èŒƒä¾‹</a></li><!----><!--]--></ul><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><!--[--><h1 id="ç¬¬-10-ç« -ç®€åŒ–æ¡ä»¶é€»è¾‘" tabindex="-1"><a class="header-anchor" href="#ç¬¬-10-ç« -ç®€åŒ–æ¡ä»¶é€»è¾‘" aria-hidden="true">#</a> ç¬¬ 10 ç«  ç®€åŒ–æ¡ä»¶é€»è¾‘</h1><p>ç¨‹åºçš„å¤§éƒ¨åˆ†å¨åŠ›æ¥è‡ªæ¡ä»¶é€»è¾‘ï¼Œä½†å¾ˆä¸å¹¸ï¼Œç¨‹åºçš„å¤æ‚åº¦ä¹Ÿå¤§å¤šæ¥è‡ªæ¡ä»¶é€»è¾‘ã€‚æˆ‘ç»å¸¸å€ŸåŠ©é‡æ„æŠŠæ¡ä»¶é€»è¾‘å˜å¾—æ›´å®¹æ˜“ç†è§£ã€‚æˆ‘å¸¸ç”¨åˆ†è§£æ¡ä»¶è¡¨è¾¾å¼ï¼ˆ260ï¼‰å¤„ç†å¤æ‚çš„æ¡ä»¶è¡¨è¾¾å¼ï¼Œç”¨åˆå¹¶æ¡ä»¶è¡¨è¾¾å¼ï¼ˆ263ï¼‰å˜æ¸…é€»è¾‘ç»„åˆã€‚æˆ‘ä¼šç”¨ä»¥å«è¯­å¥å–ä»£åµŒå¥—æ¡ä»¶è¡¨è¾¾å¼ï¼ˆ266ï¼‰æ¸…æ™°è¡¨è¾¾â€œåœ¨ä¸»è¦å¤„ç†é€»è¾‘ä¹‹å‰å…ˆåšæ£€æŸ¥â€çš„æ„å›¾ã€‚å¦‚æœæˆ‘å‘ç°ä¸€å¤„ switch é€»è¾‘å¤„ç†äº†å‡ ç§æƒ…å†µï¼Œå¯ä»¥è€ƒè™‘æ‹¿å‡ºä»¥å¤šæ€å–ä»£æ¡ä»¶è¡¨è¾¾å¼ï¼ˆ272ï¼‰é‡æ„æ‰‹æ³•ã€‚</p><p>å¾ˆå¤šæ¡ä»¶é€»è¾‘æ˜¯ç”¨äºå¤„ç†ç‰¹æ®Šæƒ…å†µçš„ï¼Œä¾‹å¦‚å¤„ç† null å€¼ã€‚å¦‚æœå¯¹æŸç§ç‰¹æ®Šæƒ…å†µçš„å¤„ç†é€»è¾‘å¤§å¤šç›¸åŒï¼Œé‚£ä¹ˆå¯ä»¥ç”¨å¼•å…¥ç‰¹ä¾‹ï¼ˆ289ï¼‰ï¼ˆå¸¸è¢«ç§°ä½œå¼•å…¥ç©ºå¯¹è±¡ï¼‰æ¶ˆé™¤é‡å¤ä»£ç ã€‚å¦å¤–ï¼Œè™½ç„¶æˆ‘å¾ˆå–œæ¬¢å»é™¤æ¡ä»¶é€»è¾‘ï¼Œä½†å¦‚æœæˆ‘æƒ³æ˜ç¡®åœ°è¡¨è¿°ï¼ˆä»¥åŠæ£€æŸ¥ï¼‰ç¨‹åºçš„çŠ¶æ€ï¼Œå¼•å…¥æ–­è¨€ï¼ˆ302ï¼‰æ˜¯ä¸€ä¸ªä¸é”™çš„è¡¥å……ã€‚</p><h2 id="_10-1-åˆ†è§£æ¡ä»¶è¡¨è¾¾å¼-decompose-conditional" tabindex="-1"><a class="header-anchor" href="#_10-1-åˆ†è§£æ¡ä»¶è¡¨è¾¾å¼-decompose-conditional" aria-hidden="true">#</a> 10.1 åˆ†è§£æ¡ä»¶è¡¨è¾¾å¼ï¼ˆDecompose Conditionalï¼‰</h2><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>aDate<span class="token punctuation">.</span><span class="token function">isBefore</span><span class="token punctuation">(</span>plan<span class="token punctuation">.</span>summerStart<span class="token punctuation">)</span> <span class="token operator">&amp;</span>amp<span class="token punctuation">;</span><span class="token operator">&amp;</span>amp<span class="token punctuation">;</span> <span class="token operator">!</span>aDate<span class="token punctuation">.</span><span class="token function">isAfter</span><span class="token punctuation">(</span>plan<span class="token punctuation">.</span>summerEnd<span class="token punctuation">)</span><span class="token punctuation">)</span>
 charge <span class="token operator">=</span> quantity <span class="token operator">*</span> plan<span class="token punctuation">.</span>summerRate<span class="token punctuation">;</span>
<span class="token keyword">else</span>
 charge <span class="token operator">=</span> quantity <span class="token operator">*</span> plan<span class="token punctuation">.</span>regularRate <span class="token operator">+</span> plan<span class="token punctuation">.</span>regularServiceCharge<span class="token punctuation">;</span>


<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">summer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
 charge <span class="token operator">=</span> <span class="token function">summerCharge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">else</span>
 charge <span class="token operator">=</span> <span class="token function">regularCharge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="åŠ¨æœº" tabindex="-1"><a class="header-anchor" href="#åŠ¨æœº" aria-hidden="true">#</a> åŠ¨æœº</h3><p>ç¨‹åºä¹‹ä¸­ï¼Œå¤æ‚çš„æ¡ä»¶é€»è¾‘æ˜¯æœ€å¸¸å¯¼è‡´å¤æ‚åº¦ä¸Šå‡çš„åœ°ç‚¹ä¹‹ä¸€ã€‚æˆ‘å¿…é¡»ç¼–å†™ä»£ç æ¥æ£€æŸ¥ä¸åŒçš„æ¡ä»¶åˆ†æ”¯ï¼Œæ ¹æ®ä¸åŒçš„æ¡ä»¶åšä¸åŒçš„äº‹ï¼Œç„¶åï¼Œæˆ‘å¾ˆå¿«å°±ä¼šå¾—åˆ°ä¸€ä¸ªç›¸å½“é•¿çš„å‡½æ•°ã€‚å¤§å‹å‡½æ•°æœ¬èº«å°±ä¼šä½¿ä»£ç çš„å¯è¯»æ€§ä¸‹é™ï¼Œè€Œæ¡ä»¶é€»è¾‘åˆ™ä¼šä½¿ä»£ç æ›´éš¾é˜…è¯»ã€‚åœ¨å¸¦æœ‰å¤æ‚æ¡ä»¶é€»è¾‘çš„å‡½æ•°ä¸­ï¼Œä»£ç ï¼ˆåŒ…æ‹¬æ£€æŸ¥æ¡ä»¶åˆ†æ”¯çš„ä»£ç å’ŒçœŸæ­£å®ç°åŠŸèƒ½çš„ä»£ç ï¼‰ä¼šå‘Šè¯‰æˆ‘å‘ç”Ÿçš„äº‹ï¼Œä½†å¸¸å¸¸è®©æˆ‘å¼„ä¸æ¸…æ¥šä¸ºä»€ä¹ˆä¼šå‘ç”Ÿè¿™æ ·çš„äº‹ï¼Œè¿™å°±è¯´æ˜ä»£ç çš„å¯è¯»æ€§çš„ç¡®å¤§å¤§é™ä½äº†ã€‚</p><p>å’Œä»»ä½•å¤§å—å¤´ä»£ç ä¸€æ ·ï¼Œæˆ‘å¯ä»¥å°†å®ƒåˆ†è§£ä¸ºå¤šä¸ªç‹¬ç«‹çš„å‡½æ•°ï¼Œæ ¹æ®æ¯ä¸ªå°å—ä»£ç çš„ç”¨é€”ï¼Œä¸ºåˆ†è§£è€Œå¾—çš„æ–°å‡½æ•°å‘½åï¼Œå¹¶å°†åŸå‡½æ•°ä¸­å¯¹åº”çš„ä»£ç æ”¹ä¸ºè°ƒç”¨æ–°å‡½æ•°ï¼Œä»è€Œæ›´æ¸…æ¥šåœ°è¡¨è¾¾è‡ªå·±çš„æ„å›¾ã€‚å¯¹äºæ¡ä»¶é€»è¾‘ï¼Œå°†æ¯ä¸ªåˆ†æ”¯æ¡ä»¶åˆ†è§£æˆæ–°å‡½æ•°è¿˜å¯ä»¥å¸¦æ¥æ›´å¤šå¥½å¤„ï¼šå¯ä»¥çªå‡ºæ¡ä»¶é€»è¾‘ï¼Œæ›´æ¸…æ¥šåœ°è¡¨æ˜æ¯ä¸ªåˆ†æ”¯çš„ä½œç”¨ï¼Œå¹¶ä¸”çªå‡ºæ¯ä¸ªåˆ†æ”¯çš„åŸå› ã€‚</p><p>æœ¬é‡æ„æ‰‹æ³•å…¶å®åªæ˜¯æç‚¼å‡½æ•°ï¼ˆ106ï¼‰çš„ä¸€ä¸ªåº”ç”¨åœºæ™¯ã€‚ä½†æˆ‘è¦ç‰¹åˆ«å¼ºè°ƒè¿™ä¸ªåœºæ™¯ï¼Œå› ä¸ºæˆ‘å‘ç°å®ƒç»å¸¸ä¼šå¸¦æ¥å¾ˆå¤§çš„ä»·å€¼ã€‚</p><h3 id="åšæ³•" tabindex="-1"><a class="header-anchor" href="#åšæ³•" aria-hidden="true">#</a> åšæ³•</h3><p>å¯¹æ¡ä»¶åˆ¤æ–­å’Œæ¯ä¸ªæ¡ä»¶åˆ†æ”¯åˆ†åˆ«è¿ç”¨æç‚¼å‡½æ•°ï¼ˆ106ï¼‰æ‰‹æ³•ã€‚</p><h3 id="èŒƒä¾‹" tabindex="-1"><a class="header-anchor" href="#èŒƒä¾‹" aria-hidden="true">#</a> èŒƒä¾‹</h3><p>å‡è®¾æˆ‘è¦è®¡ç®—è´­ä¹°æŸæ ·å•†å“çš„æ€»ä»·ï¼ˆæ€»ä»·=æ•°é‡ Ã— å•ä»·ï¼‰ï¼Œè€Œè¿™ä¸ªå•†å“åœ¨å†¬å­£å’Œå¤å­£çš„å•ä»·æ˜¯ä¸åŒçš„ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>aDate<span class="token punctuation">.</span><span class="token function">isBefore</span><span class="token punctuation">(</span>plan<span class="token punctuation">.</span>summerStart<span class="token punctuation">)</span> <span class="token operator">&amp;</span>amp<span class="token punctuation">;</span><span class="token operator">&amp;</span>amp<span class="token punctuation">;</span> <span class="token operator">!</span>aDate<span class="token punctuation">.</span><span class="token function">isAfter</span><span class="token punctuation">(</span>plan<span class="token punctuation">.</span>summerEnd<span class="token punctuation">)</span><span class="token punctuation">)</span>
 charge <span class="token operator">=</span> quantity <span class="token operator">*</span> plan<span class="token punctuation">.</span>summerRate<span class="token punctuation">;</span>
<span class="token keyword">else</span>
 charge <span class="token operator">=</span> quantity <span class="token operator">*</span> plan<span class="token punctuation">.</span>regularRate <span class="token operator">+</span> plan<span class="token punctuation">.</span>regularServiceCharge<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>æˆ‘æŠŠæ¡ä»¶åˆ¤æ–­æç‚¼åˆ°ä¸€ä¸ªç‹¬ç«‹çš„å‡½æ•°ä¸­ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">summer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
 charge <span class="token operator">=</span> quantity <span class="token operator">*</span> plan<span class="token punctuation">.</span>summerRate<span class="token punctuation">;</span>
<span class="token keyword">else</span>
 charge <span class="token operator">=</span> quantity <span class="token operator">*</span> plan<span class="token punctuation">.</span>regularRate <span class="token operator">+</span> plan<span class="token punctuation">.</span>regularServiceCharge<span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">summer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">return</span> <span class="token operator">!</span>aDate<span class="token punctuation">.</span><span class="token function">isBefore</span><span class="token punctuation">(</span>plan<span class="token punctuation">.</span>summerStart<span class="token punctuation">)</span> <span class="token operator">&amp;</span>amp<span class="token punctuation">;</span><span class="token operator">&amp;</span>amp<span class="token punctuation">;</span> <span class="token operator">!</span>aDate<span class="token punctuation">.</span><span class="token function">isAfter</span><span class="token punctuation">(</span>plan<span class="token punctuation">.</span>summerEnd<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>ç„¶åæç‚¼æ¡ä»¶åˆ¤æ–­ä¸ºçœŸçš„åˆ†æ”¯ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">summer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
 charge <span class="token operator">=</span> <span class="token function">summerCharge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">else</span>
 charge <span class="token operator">=</span> quantity <span class="token operator">*</span> plan<span class="token punctuation">.</span>regularRate <span class="token operator">+</span> plan<span class="token punctuation">.</span>regularServiceCharge<span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">summer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">return</span> <span class="token operator">!</span>aDate<span class="token punctuation">.</span><span class="token function">isBefore</span><span class="token punctuation">(</span>plan<span class="token punctuation">.</span>summerStart<span class="token punctuation">)</span> <span class="token operator">&amp;</span>amp<span class="token punctuation">;</span><span class="token operator">&amp;</span>amp<span class="token punctuation">;</span> <span class="token operator">!</span>aDate<span class="token punctuation">.</span><span class="token function">isAfter</span><span class="token punctuation">(</span>plan<span class="token punctuation">.</span>summerEnd<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">summerCharge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">return</span> quantity <span class="token operator">*</span> plan<span class="token punctuation">.</span>summerRate<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>æœ€åæç‚¼æ¡ä»¶åˆ¤æ–­ä¸ºå‡çš„åˆ†æ”¯ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">summer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
 charge <span class="token operator">=</span> <span class="token function">summerCharge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">else</span>
 charge <span class="token operator">=</span> <span class="token function">regularCharge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">summer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">return</span> <span class="token operator">!</span>aDate<span class="token punctuation">.</span><span class="token function">isBefore</span><span class="token punctuation">(</span>plan<span class="token punctuation">.</span>summerStart<span class="token punctuation">)</span> <span class="token operator">&amp;</span>amp<span class="token punctuation">;</span><span class="token operator">&amp;</span>amp<span class="token punctuation">;</span> <span class="token operator">!</span>aDate<span class="token punctuation">.</span><span class="token function">isAfter</span><span class="token punctuation">(</span>plan<span class="token punctuation">.</span>summerEnd<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">summerCharge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">return</span> quantity <span class="token operator">*</span> plan<span class="token punctuation">.</span>summerRate<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">regularCharge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">return</span> quantity <span class="token operator">*</span> plan<span class="token punctuation">.</span>regularRate <span class="token operator">+</span> plan<span class="token punctuation">.</span>regularServiceCharge<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>æç‚¼å®Œæˆåï¼Œæˆ‘å–œæ¬¢ç”¨ä¸‰å…ƒè¿ç®—ç¬¦é‡æ–°å®‰æ’æ¡ä»¶è¯­å¥ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>  charge <span class="token operator">=</span> <span class="token function">summer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token function">summerCharge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">regularCharge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">summer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">return</span> <span class="token operator">!</span>aDate<span class="token punctuation">.</span><span class="token function">isBefore</span><span class="token punctuation">(</span>plan<span class="token punctuation">.</span>summerStart<span class="token punctuation">)</span> <span class="token operator">&amp;</span>amp<span class="token punctuation">;</span><span class="token operator">&amp;</span>amp<span class="token punctuation">;</span> <span class="token operator">!</span>aDate<span class="token punctuation">.</span><span class="token function">isAfter</span><span class="token punctuation">(</span>plan<span class="token punctuation">.</span>summerEnd<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">summerCharge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">return</span> quantity <span class="token operator">*</span> plan<span class="token punctuation">.</span>summerRate<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">regularCharge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">return</span> quantity <span class="token operator">*</span> plan<span class="token punctuation">.</span>regularRate <span class="token operator">+</span> plan<span class="token punctuation">.</span>regularServiceCharge<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="_10-2-åˆå¹¶æ¡ä»¶è¡¨è¾¾å¼-consolidate-conditional-expression" tabindex="-1"><a class="header-anchor" href="#_10-2-åˆå¹¶æ¡ä»¶è¡¨è¾¾å¼-consolidate-conditional-expression" aria-hidden="true">#</a> 10.2 åˆå¹¶æ¡ä»¶è¡¨è¾¾å¼ï¼ˆConsolidate Conditional Expressionï¼‰</h2><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>anEmployee<span class="token punctuation">.</span>seniority <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>anEmployee<span class="token punctuation">.</span>monthsDisabled <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">12</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>anEmployee<span class="token punctuation">.</span>isPartTime<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>


<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isNotEligibleForDisability</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">isNotEligibleForDisability</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>anEmployee<span class="token punctuation">.</span>seniority <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span> <span class="token number">2</span><span class="token punctuation">)</span>
     <span class="token operator">||</span> <span class="token punctuation">(</span>anEmployee<span class="token punctuation">.</span>monthsDisabled <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">12</span><span class="token punctuation">)</span>
     <span class="token operator">||</span> <span class="token punctuation">(</span>anEmployee<span class="token punctuation">.</span>isPartTime<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="åŠ¨æœº-1" tabindex="-1"><a class="header-anchor" href="#åŠ¨æœº-1" aria-hidden="true">#</a> åŠ¨æœº</h3><p>æœ‰æ—¶æˆ‘ä¼šå‘ç°è¿™æ ·ä¸€ä¸²æ¡ä»¶æ£€æŸ¥ï¼šæ£€æŸ¥æ¡ä»¶å„ä¸ç›¸åŒï¼Œæœ€ç»ˆè¡Œä¸ºå´ä¸€è‡´ã€‚å¦‚æœå‘ç°è¿™ç§æƒ…å†µï¼Œå°±åº”è¯¥ä½¿ç”¨â€œé€»è¾‘æˆ–â€å’Œâ€œé€»è¾‘ä¸â€å°†å®ƒä»¬åˆå¹¶ä¸ºä¸€ä¸ªæ¡ä»¶è¡¨è¾¾å¼ã€‚</p><p>ä¹‹æ‰€ä»¥è¦åˆå¹¶æ¡ä»¶ä»£ç ï¼Œæœ‰ä¸¤ä¸ªé‡è¦åŸå› ã€‚é¦–å…ˆï¼Œåˆå¹¶åçš„æ¡ä»¶ä»£ç ä¼šè¡¨è¿°â€œå®é™…ä¸Šåªæœ‰ä¸€æ¬¡æ¡ä»¶æ£€æŸ¥ï¼Œåªä¸è¿‡æœ‰å¤šä¸ªå¹¶åˆ—æ¡ä»¶éœ€è¦æ£€æŸ¥è€Œå·²â€ï¼Œä»è€Œä½¿è¿™ä¸€æ¬¡æ£€æŸ¥çš„ç”¨æ„æ›´æ¸…æ™°ã€‚å½“ç„¶ï¼Œåˆå¹¶å‰å’Œåˆå¹¶åçš„ä»£ç æœ‰ç€ç›¸åŒçš„æ•ˆæœï¼Œä½†åŸå…ˆä»£ç ä¼ è¾¾å‡ºçš„ä¿¡æ¯å´æ˜¯â€œè¿™é‡Œæœ‰ä¸€äº›å„è‡ªç‹¬ç«‹çš„æ¡ä»¶æµ‹è¯•ï¼Œå®ƒä»¬åªæ˜¯æ°å¥½åŒæ—¶å‘ç”Ÿâ€ã€‚å…¶æ¬¡ï¼Œè¿™é¡¹é‡æ„å¾€å¾€å¯ä»¥ä¸ºä½¿ç”¨æç‚¼å‡½æ•°ï¼ˆ106ï¼‰åšå¥½å‡†å¤‡ã€‚å°†æ£€æŸ¥æ¡ä»¶æç‚¼æˆä¸€ä¸ªç‹¬ç«‹çš„å‡½æ•°å¯¹äºå˜æ¸…ä»£ç æ„ä¹‰éå¸¸æœ‰ç”¨ï¼Œå› ä¸ºå®ƒæŠŠæè¿°â€œåšä»€ä¹ˆâ€çš„è¯­å¥æ¢æˆäº†â€œä¸ºä»€ä¹ˆè¿™æ ·åšâ€ã€‚</p><p>æ¡ä»¶è¯­å¥çš„åˆå¹¶ç†ç”±ä¹ŸåŒæ—¶æŒ‡å‡ºäº†ä¸è¦åˆå¹¶çš„ç†ç”±ï¼šå¦‚æœæˆ‘è®¤ä¸ºè¿™äº›æ£€æŸ¥çš„ç¡®å½¼æ­¤ç‹¬ç«‹ï¼Œçš„ç¡®ä¸åº”è¯¥è¢«è§†ä¸ºåŒä¸€æ¬¡æ£€æŸ¥ï¼Œæˆ‘å°±ä¸ä¼šä½¿ç”¨æœ¬é¡¹é‡æ„ã€‚</p><h3 id="åšæ³•-1" tabindex="-1"><a class="header-anchor" href="#åšæ³•-1" aria-hidden="true">#</a> åšæ³•</h3><p>ç¡®å®šè¿™äº›æ¡ä»¶è¡¨è¾¾å¼éƒ½æ²¡æœ‰å‰¯ä½œç”¨ã€‚</p><p>å¦‚æœæŸä¸ªæ¡ä»¶è¡¨è¾¾å¼æœ‰å‰¯ä½œç”¨ï¼Œå¯ä»¥å…ˆç”¨å°†æŸ¥è¯¢å‡½æ•°å’Œä¿®æ”¹å‡½æ•°åˆ†ç¦»ï¼ˆ306ï¼‰å¤„ç†ã€‚</p><p>ä½¿ç”¨é€‚å½“çš„é€»è¾‘è¿ç®—ç¬¦ï¼Œå°†ä¸¤ä¸ªç›¸å…³æ¡ä»¶è¡¨è¾¾å¼åˆå¹¶ä¸ºä¸€ä¸ªã€‚</p><p>é¡ºåºæ‰§è¡Œçš„æ¡ä»¶è¡¨è¾¾å¼ç”¨é€»è¾‘æˆ–æ¥åˆå¹¶ï¼ŒåµŒå¥—çš„ if è¯­å¥ç”¨é€»è¾‘ä¸æ¥åˆå¹¶ã€‚</p><p>æµ‹è¯•ã€‚</p><p>é‡å¤å‰é¢çš„åˆå¹¶è¿‡ç¨‹ï¼Œç›´åˆ°æ‰€æœ‰ç›¸å…³çš„æ¡ä»¶è¡¨è¾¾å¼éƒ½åˆå¹¶åˆ°ä¸€èµ·ã€‚</p><p>å¯ä»¥è€ƒè™‘å¯¹åˆå¹¶åçš„æ¡ä»¶è¡¨è¾¾å¼å®æ–½æç‚¼å‡½æ•°ï¼ˆ106ï¼‰ã€‚</p><h3 id="èŒƒä¾‹-1" tabindex="-1"><a class="header-anchor" href="#èŒƒä¾‹-1" aria-hidden="true">#</a> èŒƒä¾‹</h3><p>åœ¨èµ°è¯»ä»£ç çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘çœ‹åˆ°äº†ä¸‹é¢çš„ä»£ç ç‰‡æ®µï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">disabilityAmount</span><span class="token punctuation">(</span><span class="token parameter">anEmployee</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span>anEmployee<span class="token punctuation">.</span>seniority <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span>anEmployee<span class="token punctuation">.</span>monthsDisabled <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">12</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span>anEmployee<span class="token punctuation">.</span>isPartTime<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
 <span class="token comment">// compute the disability amount</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>è¿™é‡Œæœ‰ä¸€è¿ä¸²çš„æ¡ä»¶æ£€æŸ¥ï¼Œéƒ½æŒ‡å‘åŒæ ·çš„ç»“æœã€‚æ—¢ç„¶ç»“æœæ˜¯ç›¸åŒçš„ï¼Œå°±åº”è¯¥æŠŠè¿™äº›æ¡ä»¶æ£€æŸ¥åˆå¹¶æˆä¸€æ¡è¡¨è¾¾å¼ã€‚å¯¹äºè¿™æ ·é¡ºåºæ‰§è¡Œçš„æ¡ä»¶æ£€æŸ¥ï¼Œå¯ä»¥ç”¨é€»è¾‘æˆ–è¿ç®—ç¬¦æ¥åˆå¹¶ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">disabilityAmount</span><span class="token punctuation">(</span><span class="token parameter">anEmployee</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>anEmployee<span class="token punctuation">.</span>seniority <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span> <span class="token number">2</span><span class="token punctuation">)</span>
   <span class="token operator">||</span> <span class="token punctuation">(</span>anEmployee<span class="token punctuation">.</span>monthsDisabled <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span>anEmployee<span class="token punctuation">.</span>isPartTime<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
 <span class="token comment">// compute the disability amount</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>æµ‹è¯•ï¼Œç„¶åæŠŠä¸‹ä¸€ä¸ªæ¡ä»¶æ£€æŸ¥ä¹Ÿåˆå¹¶è¿›æ¥ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">disabilityAmount</span><span class="token punctuation">(</span><span class="token parameter">anEmployee</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>anEmployee<span class="token punctuation">.</span>seniority <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span> <span class="token number">2</span><span class="token punctuation">)</span>
   <span class="token operator">||</span> <span class="token punctuation">(</span>anEmployee<span class="token punctuation">.</span>monthsDisabled <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">12</span><span class="token punctuation">)</span>
   <span class="token operator">||</span> <span class="token punctuation">(</span>anEmployee<span class="token punctuation">.</span>isPartTime<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
 <span class="token comment">// compute the disability amount</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>åˆå¹¶å®Œæˆåï¼Œå†å¯¹è¿™å¥æ¡ä»¶è¡¨è¾¾å¼ä½¿ç”¨æç‚¼å‡½æ•°ï¼ˆ106ï¼‰ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">disabilityAmount</span><span class="token punctuation">(</span><span class="token parameter">anEmployee</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isNotEligableForDisability</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
 <span class="token comment">// compute the disability amount</span>

<span class="token keyword">function</span> <span class="token function">isNotEligableForDisability</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>anEmployee<span class="token punctuation">.</span>seniority <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span> <span class="token number">2</span><span class="token punctuation">)</span>
     <span class="token operator">||</span> <span class="token punctuation">(</span>anEmployee<span class="token punctuation">.</span>monthsDisabled <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">12</span><span class="token punctuation">)</span>
     <span class="token operator">||</span> <span class="token punctuation">(</span>anEmployee<span class="token punctuation">.</span>isPartTime<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="èŒƒä¾‹-ä½¿ç”¨é€»è¾‘ä¸" tabindex="-1"><a class="header-anchor" href="#èŒƒä¾‹-ä½¿ç”¨é€»è¾‘ä¸" aria-hidden="true">#</a> èŒƒä¾‹ï¼šä½¿ç”¨é€»è¾‘ä¸</h3><p>ä¸Šé¢çš„ä¾‹å­å±•ç¤ºäº†ç”¨é€»è¾‘æˆ–åˆå¹¶æ¡ä»¶è¡¨è¾¾å¼çš„åšæ³•ã€‚ä¸è¿‡ï¼Œæˆ‘æœ‰å¯èƒ½é‡åˆ°éœ€è¦é€»è¾‘ä¸çš„æƒ…å†µã€‚ä¾‹å¦‚ï¼ŒåµŒå¥— if è¯­å¥çš„æƒ…å†µï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>anEmployee<span class="token punctuation">.</span>onVacation<span class="token punctuation">)</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span>anEmployee<span class="token punctuation">.</span>seniority <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">10</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> <span class="token number">0.5</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>å¯ä»¥ç”¨é€»è¾‘ä¸è¿ç®—ç¬¦å°†å…¶åˆå¹¶ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>anEmployee<span class="token punctuation">.</span>onVacation<span class="token punctuation">)</span>
  <span class="token operator">&amp;</span>amp<span class="token punctuation">;</span><span class="token operator">&amp;</span>amp<span class="token punctuation">;</span> <span class="token punctuation">(</span>anEmployee<span class="token punctuation">.</span>seniority <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> <span class="token number">0.5</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>å¦‚æœåŸæ¥çš„æ¡ä»¶é€»è¾‘æ··æ‚äº†è¿™ä¸¤ç§æƒ…å†µï¼Œæˆ‘ä¹Ÿä¼šæ ¹æ®éœ€è¦ç»„åˆä½¿ç”¨é€»è¾‘ä¸å’Œé€»è¾‘æˆ–è¿ç®—ç¬¦ã€‚åœ¨è¿™ç§æ—¶å€™ï¼Œä»£ç å¾ˆå¯èƒ½å˜å¾—æ··ä¹±ï¼Œæ‰€ä»¥æˆ‘ä¼šé¢‘ç¹ä½¿ç”¨æç‚¼å‡½æ•°ï¼ˆ106ï¼‰ï¼ŒæŠŠä»£ç å˜å¾—å¯è¯»ã€‚</p><h2 id="_10-3-ä»¥å«è¯­å¥å–ä»£åµŒå¥—æ¡ä»¶è¡¨è¾¾å¼-replace-nested-conditional-with-guard-clauses" tabindex="-1"><a class="header-anchor" href="#_10-3-ä»¥å«è¯­å¥å–ä»£åµŒå¥—æ¡ä»¶è¡¨è¾¾å¼-replace-nested-conditional-with-guard-clauses" aria-hidden="true">#</a> 10.3 ä»¥å«è¯­å¥å–ä»£åµŒå¥—æ¡ä»¶è¡¨è¾¾å¼ï¼ˆReplace Nested Conditional with Guard Clausesï¼‰</h2><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">getPayAmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> result<span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>isDead<span class="token punctuation">)</span> result <span class="token operator">=</span> <span class="token function">deadAmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>isSeparated<span class="token punctuation">)</span> result <span class="token operator">=</span> <span class="token function">separatedAmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>isRetired<span class="token punctuation">)</span> result <span class="token operator">=</span> <span class="token function">retiredAmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">else</span> result <span class="token operator">=</span> <span class="token function">normalPayAmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">getPayAmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>isDead<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">deadAmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>isSeparated<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">separatedAmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>isRetired<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">retiredAmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token function">normalPayAmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h3 id="åŠ¨æœº-2" tabindex="-1"><a class="header-anchor" href="#åŠ¨æœº-2" aria-hidden="true">#</a> åŠ¨æœº</h3><p>æ ¹æ®æˆ‘çš„ç»éªŒï¼Œæ¡ä»¶è¡¨è¾¾å¼é€šå¸¸æœ‰ä¸¤ç§é£æ ¼ã€‚ç¬¬ä¸€ç§é£æ ¼æ˜¯ï¼šä¸¤ä¸ªæ¡ä»¶åˆ†æ”¯éƒ½å±äºæ­£å¸¸è¡Œä¸ºã€‚ç¬¬äºŒç§é£æ ¼åˆ™æ˜¯ï¼šåªæœ‰ä¸€ä¸ªæ¡ä»¶åˆ†æ”¯æ˜¯æ­£å¸¸è¡Œä¸ºï¼Œå¦ä¸€ä¸ªåˆ†æ”¯åˆ™æ˜¯å¼‚å¸¸çš„æƒ…å†µã€‚</p><p>è¿™ä¸¤ç±»æ¡ä»¶è¡¨è¾¾å¼æœ‰ä¸åŒçš„ç”¨é€”ï¼Œè¿™ä¸€ç‚¹åº”è¯¥é€šè¿‡ä»£ç è¡¨ç°å‡ºæ¥ã€‚å¦‚æœä¸¤æ¡åˆ†æ”¯éƒ½æ˜¯æ­£å¸¸è¡Œä¸ºï¼Œå°±åº”è¯¥ä½¿ç”¨å½¢å¦‚ if...else...çš„æ¡ä»¶è¡¨è¾¾å¼ï¼›å¦‚æœæŸä¸ªæ¡ä»¶æå…¶ç½•è§ï¼Œå°±åº”è¯¥å•ç‹¬æ£€æŸ¥è¯¥æ¡ä»¶ï¼Œå¹¶åœ¨è¯¥æ¡ä»¶ä¸ºçœŸæ—¶ç«‹åˆ»ä»å‡½æ•°ä¸­è¿”å›ã€‚è¿™æ ·çš„å•ç‹¬æ£€æŸ¥å¸¸å¸¸è¢«ç§°ä¸ºâ€œå«è¯­å¥â€ï¼ˆguard clausesï¼‰ã€‚</p><p>ä»¥å«è¯­å¥å–ä»£åµŒå¥—æ¡ä»¶è¡¨è¾¾å¼çš„ç²¾é«“å°±æ˜¯ï¼šç»™æŸä¸€æ¡åˆ†æ”¯ä»¥ç‰¹åˆ«çš„é‡è§†ã€‚å¦‚æœä½¿ç”¨ if-then-else ç»“æ„ï¼Œä½ å¯¹ if åˆ†æ”¯å’Œ else åˆ†æ”¯çš„é‡è§†æ˜¯åŒç­‰çš„ã€‚è¿™æ ·çš„ä»£ç ç»“æ„ä¼ é€’ç»™é˜…è¯»è€…çš„æ¶ˆæ¯å°±æ˜¯ï¼šå„ä¸ªåˆ†æ”¯æœ‰åŒæ ·çš„é‡è¦æ€§ã€‚å«è¯­å¥å°±ä¸åŒäº†ï¼Œå®ƒå‘Šè¯‰é˜…è¯»è€…ï¼šâ€œè¿™ç§æƒ…å†µä¸æ˜¯æœ¬å‡½æ•°çš„æ ¸å¿ƒé€»è¾‘æ‰€å…³å¿ƒçš„ï¼Œå¦‚æœå®ƒçœŸå‘ç”Ÿäº†ï¼Œè¯·åšä¸€äº›å¿…è¦çš„æ•´ç†å·¥ä½œï¼Œç„¶åé€€å‡ºã€‚â€</p><p>â€œæ¯ä¸ªå‡½æ•°åªèƒ½æœ‰ä¸€ä¸ªå…¥å£å’Œä¸€ä¸ªå‡ºå£â€çš„è§‚å¿µï¼Œæ ¹æ·±è’‚å›ºäºæŸäº›ç¨‹åºå‘˜çš„è„‘æµ·é‡Œã€‚æˆ‘å‘ç°ï¼Œå½“æˆ‘å¤„ç†ä»–ä»¬ç¼–å†™çš„ä»£ç æ—¶ï¼Œç»å¸¸éœ€è¦ä½¿ç”¨ä»¥å«è¯­å¥å–ä»£åµŒå¥—æ¡ä»¶è¡¨è¾¾å¼ã€‚ç°ä»Šçš„ç¼–ç¨‹è¯­è¨€éƒ½ä¼šå¼ºåˆ¶ä¿è¯æ¯ä¸ªå‡½æ•°åªæœ‰ä¸€ä¸ªå…¥å£ï¼Œè‡³äºâ€œå•ä¸€å‡ºå£â€è§„åˆ™ï¼Œå…¶å®ä¸æ˜¯é‚£ä¹ˆæœ‰ç”¨ã€‚åœ¨æˆ‘çœ‹æ¥ï¼Œä¿æŒä»£ç æ¸…æ™°æ‰æ˜¯æœ€å…³é”®çš„ï¼šå¦‚æœå•ä¸€å‡ºå£èƒ½ä½¿è¿™ä¸ªå‡½æ•°æ›´æ¸…æ¥šæ˜“è¯»ï¼Œé‚£ä¹ˆå°±ä½¿ç”¨å•ä¸€å‡ºå£ï¼›å¦åˆ™å°±ä¸å¿…è¿™ä¹ˆåšã€‚</p><h3 id="åšæ³•-2" tabindex="-1"><a class="header-anchor" href="#åšæ³•-2" aria-hidden="true">#</a> åšæ³•</h3><p>é€‰ä¸­æœ€å¤–å±‚éœ€è¦è¢«æ›¿æ¢çš„æ¡ä»¶é€»è¾‘ï¼Œå°†å…¶æ›¿æ¢ä¸ºå«è¯­å¥ã€‚</p><p>æµ‹è¯•ã€‚</p><p>æœ‰éœ€è¦çš„è¯ï¼Œé‡å¤ä¸Šè¿°æ­¥éª¤ã€‚</p><p>å¦‚æœæ‰€æœ‰å«è¯­å¥éƒ½å¼•å‘åŒæ ·çš„ç»“æœï¼Œå¯ä»¥ä½¿ç”¨åˆå¹¶æ¡ä»¶è¡¨è¾¾å¼ï¼ˆ263ï¼‰åˆå¹¶ä¹‹ã€‚</p><h3 id="èŒƒä¾‹-2" tabindex="-1"><a class="header-anchor" href="#èŒƒä¾‹-2" aria-hidden="true">#</a> èŒƒä¾‹</h3><p>ä¸‹é¢çš„ä»£ç ç”¨äºè®¡ç®—è¦æ”¯ä»˜ç»™å‘˜å·¥ï¼ˆemployeeï¼‰çš„å·¥èµ„ã€‚åªæœ‰è¿˜åœ¨å…¬å¸ä¸Šç­çš„å‘˜å·¥æ‰éœ€è¦æ”¯ä»˜å·¥èµ„ï¼Œæ‰€ä»¥è¿™ä¸ªå‡½æ•°éœ€è¦æ£€æŸ¥ä¸¤ç§â€œå‘˜å·¥å·²ç»ä¸åœ¨å…¬å¸ä¸Šç­â€çš„æƒ…å†µã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">payAmount</span><span class="token punctuation">(</span><span class="token parameter">employee</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">let</span> result<span class="token punctuation">;</span>
 <span class="token keyword">if</span><span class="token punctuation">(</span>employee<span class="token punctuation">.</span>isSeparated<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  result <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">amount</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">reasonCode</span><span class="token operator">:</span><span class="token string">&quot;SEP&quot;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">else</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>employee<span class="token punctuation">.</span>isRetired<span class="token punctuation">)</span> <span class="token punctuation">{</span>
   result <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">amount</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">reasonCode</span><span class="token operator">:</span> <span class="token string">&quot;RET&quot;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">else</span> <span class="token punctuation">{</span>
   <span class="token comment">// logic to compute amount</span>
   lorem<span class="token punctuation">.</span><span class="token function">ipsum</span><span class="token punctuation">(</span>dolor<span class="token punctuation">.</span>sitAmet<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token number">1</span>
   <span class="token function">consectetur</span><span class="token punctuation">(</span>adipiscing<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">elit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   sed<span class="token punctuation">.</span>do<span class="token punctuation">.</span>eiusmod <span class="token operator">=</span> tempor<span class="token punctuation">.</span>incididunt<span class="token punctuation">.</span><span class="token function">ut</span><span class="token punctuation">(</span>labore<span class="token punctuation">)</span> <span class="token operator">&amp;</span>amp<span class="token punctuation">;</span><span class="token operator">&amp;</span>amp<span class="token punctuation">;</span> <span class="token function">dolore</span><span class="token punctuation">(</span>magna<span class="token punctuation">.</span>aliqua<span class="token punctuation">)</span><span class="token punctuation">;</span>
   ut<span class="token punctuation">.</span>enim<span class="token punctuation">.</span><span class="token function">ad</span><span class="token punctuation">(</span>minim<span class="token punctuation">.</span>veniam<span class="token punctuation">)</span><span class="token punctuation">;</span>
   result <span class="token operator">=</span> <span class="token function">someFinalComputation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>åµŒå¥—çš„æ¡ä»¶é€»è¾‘è®©æˆ‘ä»¬çœ‹ä¸æ¸…ä»£ç çœŸå®çš„å«ä¹‰ã€‚åªæœ‰å½“å‰ä¸¤ä¸ªæ¡ä»¶è¡¨è¾¾å¼éƒ½ä¸ä¸ºçœŸçš„æ—¶å€™ï¼Œè¿™æ®µä»£ç æ‰çœŸæ­£å¼€å§‹å®ƒçš„ä¸»è¦å·¥ä½œã€‚æ‰€ä»¥ï¼Œå«è¯­å¥èƒ½è®©ä»£ç æ›´æ¸…æ™°åœ°é˜è¿°è‡ªå·±çš„æ„å›¾ã€‚</p><p>ä¸€å¦‚æ—¢å¾€åœ°ï¼Œæˆ‘å–œæ¬¢å°æ­¥å‰è¿›ï¼Œæ‰€ä»¥æˆ‘å…ˆå¤„ç†æœ€é¡¶ä¸Šçš„æ¡ä»¶é€»è¾‘ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">payAmount</span><span class="token punctuation">(</span><span class="token parameter">employee</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">let</span> result<span class="token punctuation">;</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span>employee<span class="token punctuation">.</span>isSeparated<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token literal-property property">amount</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">reasonCode</span><span class="token operator">:</span> <span class="token string">&quot;SEP&quot;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span>employee<span class="token punctuation">.</span>isRetired<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  result <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">amount</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">reasonCode</span><span class="token operator">:</span> <span class="token string">&quot;RET&quot;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">else</span> <span class="token punctuation">{</span>
  <span class="token comment">// logic to compute amount</span>
  lorem<span class="token punctuation">.</span><span class="token function">ipsum</span><span class="token punctuation">(</span>dolor<span class="token punctuation">.</span>sitAmet<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">consectetur</span><span class="token punctuation">(</span>adipiscing<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">elit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  sed<span class="token punctuation">.</span>do<span class="token punctuation">.</span>eiusmod <span class="token operator">=</span> tempor<span class="token punctuation">.</span>incididunt<span class="token punctuation">.</span><span class="token function">ut</span><span class="token punctuation">(</span>labore<span class="token punctuation">)</span> <span class="token operator">&amp;</span>amp<span class="token punctuation">;</span><span class="token operator">&amp;</span>amp<span class="token punctuation">;</span> <span class="token function">dolore</span><span class="token punctuation">(</span>magna<span class="token punctuation">.</span>aliqua<span class="token punctuation">)</span><span class="token punctuation">;</span>
  ut<span class="token punctuation">.</span>enim<span class="token punctuation">.</span><span class="token function">ad</span><span class="token punctuation">(</span>minim<span class="token punctuation">.</span>veniam<span class="token punctuation">)</span><span class="token punctuation">;</span>
  result <span class="token operator">=</span> <span class="token function">someFinalComputation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>åšå®Œè¿™æ­¥ä¿®æ”¹ï¼Œæˆ‘æ‰§è¡Œæµ‹è¯•ï¼Œç„¶åç»§ç»­ä¸‹ä¸€æ­¥ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">payAmount</span><span class="token punctuation">(</span><span class="token parameter">employee</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">let</span> result<span class="token punctuation">;</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span>employee<span class="token punctuation">.</span>isSeparated<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token literal-property property">amount</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">reasonCode</span><span class="token operator">:</span> <span class="token string">&quot;SEP&quot;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span>employee<span class="token punctuation">.</span>isRetired<span class="token punctuation">)</span>   <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token literal-property property">amount</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">reasonCode</span><span class="token operator">:</span> <span class="token string">&quot;RET&quot;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
 <span class="token comment">// logic to compute amount</span>
 lorem<span class="token punctuation">.</span><span class="token function">ipsum</span><span class="token punctuation">(</span>dolor<span class="token punctuation">.</span>sitAmet<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token function">consectetur</span><span class="token punctuation">(</span>adipiscing<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">elit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 sed<span class="token punctuation">.</span>do<span class="token punctuation">.</span>eiusmod <span class="token operator">=</span> tempor<span class="token punctuation">.</span>incididunt<span class="token punctuation">.</span><span class="token function">ut</span><span class="token punctuation">(</span>labore<span class="token punctuation">)</span> <span class="token operator">&amp;</span>amp<span class="token punctuation">;</span><span class="token operator">&amp;</span>amp<span class="token punctuation">;</span> <span class="token function">dolore</span><span class="token punctuation">(</span>magna<span class="token punctuation">.</span>aliqua<span class="token punctuation">)</span><span class="token punctuation">;</span>
 ut<span class="token punctuation">.</span>enim<span class="token punctuation">.</span><span class="token function">ad</span><span class="token punctuation">(</span>minim<span class="token punctuation">.</span>veniam<span class="token punctuation">)</span><span class="token punctuation">;</span>
 result <span class="token operator">=</span> <span class="token function">someFinalComputation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>æ­¤æ—¶ï¼Œresult å˜é‡å·²ç»æ²¡æœ‰ç”¨å¤„äº†ï¼Œæ‰€ä»¥æˆ‘æŠŠå®ƒåˆ æ‰ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">payAmount</span><span class="token punctuation">(</span><span class="token parameter">employee</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">let</span> result<span class="token punctuation">;</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span>employee<span class="token punctuation">.</span>isSeparated<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token literal-property property">amount</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">reasonCode</span><span class="token operator">:</span> <span class="token string">&quot;SEP&quot;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span>employee<span class="token punctuation">.</span>isRetired<span class="token punctuation">)</span>   <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token literal-property property">amount</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">reasonCode</span><span class="token operator">:</span> <span class="token string">&quot;RET&quot;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
 <span class="token comment">// logic to compute amount</span>
 lorem<span class="token punctuation">.</span><span class="token function">ipsum</span><span class="token punctuation">(</span>dolor<span class="token punctuation">.</span>sitAmet<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token function">consectetur</span><span class="token punctuation">(</span>adipiscing<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">elit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 sed<span class="token punctuation">.</span>do<span class="token punctuation">.</span>eiusmod <span class="token operator">=</span> tempor<span class="token punctuation">.</span>incididunt<span class="token punctuation">.</span><span class="token function">ut</span><span class="token punctuation">(</span>labore<span class="token punctuation">)</span> <span class="token operator">&amp;</span>amp<span class="token punctuation">;</span><span class="token operator">&amp;</span>amp<span class="token punctuation">;</span> <span class="token function">dolore</span><span class="token punctuation">(</span>magna<span class="token punctuation">.</span>aliqua<span class="token punctuation">)</span><span class="token punctuation">;</span>
 ut<span class="token punctuation">.</span>enim<span class="token punctuation">.</span><span class="token function">ad</span><span class="token punctuation">(</span>minim<span class="token punctuation">.</span>veniam<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token keyword">return</span> <span class="token function">someFinalComputation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>èƒ½å‡å°‘ä¸€ä¸ªå¯å˜å˜é‡æ€»æ˜¯å¥½çš„ã€‚</p><h3 id="èŒƒä¾‹-å°†æ¡ä»¶åè½¬" tabindex="-1"><a class="header-anchor" href="#èŒƒä¾‹-å°†æ¡ä»¶åè½¬" aria-hidden="true">#</a> èŒƒä¾‹ï¼šå°†æ¡ä»¶åè½¬</h3><p>å®¡é˜…æœ¬ä¹¦ç¬¬ 1 ç‰ˆçš„åˆç¨¿æ—¶ï¼ŒJoshua Kerievsky æŒ‡å‡ºï¼šæˆ‘ä»¬å¸¸å¸¸å¯ä»¥å°†æ¡ä»¶è¡¨è¾¾å¼åè½¬ï¼Œä»è€Œå®ç°ä»¥å«è¯­å¥å–ä»£åµŒå¥—æ¡ä»¶è¡¨è¾¾å¼ã€‚ä¸ºäº†æ‹¯æ•‘æˆ‘å¯æ€œçš„æƒ³è±¡åŠ›ï¼Œä»–è¿˜å¥½å¿ƒå¸®æˆ‘æƒ³äº†ä¸€ä¸ªä¾‹å­ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">adjustedCapital</span><span class="token punctuation">(</span><span class="token parameter">anInstrument</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span>anInstrument<span class="token punctuation">.</span>capital <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>anInstrument<span class="token punctuation">.</span>interestRate <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">0</span> <span class="token operator">&amp;</span>amp<span class="token punctuation">;</span><span class="token operator">&amp;</span>amp<span class="token punctuation">;</span> anInstrument<span class="token punctuation">.</span>duration <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   result <span class="token operator">=</span> <span class="token punctuation">(</span>anInstrument<span class="token punctuation">.</span>income <span class="token operator">/</span> anInstrument<span class="token punctuation">.</span>duration<span class="token punctuation">)</span> <span class="token operator">*</span> anInstrument<span class="token punctuation">.</span>adjustmentFactor<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>åŒæ ·åœ°ï¼Œæˆ‘é€ä¸€è¿›è¡Œæ›¿æ¢ã€‚ä¸è¿‡è¿™æ¬¡åœ¨æ’å…¥å«è¯­å¥æ—¶ï¼Œæˆ‘éœ€è¦å°†ç›¸åº”çš„æ¡ä»¶åè½¬è¿‡æ¥ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">adjustedCapital</span><span class="token punctuation">(</span><span class="token parameter">anInstrument</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span>anInstrument<span class="token punctuation">.</span>capital <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span><span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> result<span class="token punctuation">;</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span>anInstrument<span class="token punctuation">.</span>interestRate <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">0</span> <span class="token operator">&amp;</span>amp<span class="token punctuation">;</span><span class="token operator">&amp;</span>amp<span class="token punctuation">;</span> anInstrument<span class="token punctuation">.</span>duration <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  result <span class="token operator">=</span> <span class="token punctuation">(</span>anInstrument<span class="token punctuation">.</span>income <span class="token operator">/</span> anInstrument<span class="token punctuation">.</span>duration<span class="token punctuation">)</span> <span class="token operator">*</span> anInstrument<span class="token punctuation">.</span>adjustmentFactor<span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>ä¸‹ä¸€ä¸ªæ¡ä»¶ç¨å¾®å¤æ‚ä¸€ç‚¹ï¼Œæ‰€ä»¥æˆ‘åˆ†ä¸¤æ­¥è¿›è¡Œåè½¬ã€‚é¦–å…ˆåŠ å…¥ä¸€ä¸ªé€»è¾‘éæ“ä½œï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">adjustedCapital</span><span class="token punctuation">(</span><span class="token parameter">anInstrument</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span>anInstrument<span class="token punctuation">.</span>capital <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span><span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> result<span class="token punctuation">;</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>anInstrument<span class="token punctuation">.</span>interestRate <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">0</span> <span class="token operator">&amp;</span>amp<span class="token punctuation">;</span><span class="token operator">&amp;</span>amp<span class="token punctuation">;</span> anInstrument<span class="token punctuation">.</span>duration <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> result<span class="token punctuation">;</span>
 result <span class="token operator">=</span> <span class="token punctuation">(</span>anInstrument<span class="token punctuation">.</span>income <span class="token operator">/</span> anInstrument<span class="token punctuation">.</span>duration<span class="token punctuation">)</span> <span class="token operator">*</span> anInstrument<span class="token punctuation">.</span>adjustmentFactor<span class="token punctuation">;</span>
 <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>ä½†æ˜¯åœ¨è¿™æ ·çš„æ¡ä»¶è¡¨è¾¾å¼ä¸­ç•™ä¸‹ä¸€ä¸ªé€»è¾‘éï¼Œä¼šæŠŠæˆ‘çš„è„‘è¢‹æ‹§æˆä¸€å›¢ä¹±éº»ï¼Œæ‰€ä»¥æˆ‘æŠŠå®ƒç®€åŒ–æˆä¸‹é¢è¿™æ ·ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>  <span class="token keyword">function</span> <span class="token function">adjustedCapital</span><span class="token punctuation">(</span><span class="token parameter">anInstrument</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span>anInstrument<span class="token punctuation">.</span>capital <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span><span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> result<span class="token punctuation">;</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span>anInstrument<span class="token punctuation">.</span>interestRate <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span><span class="token operator">=</span> <span class="token number">0</span> <span class="token operator">||</span> anInstrument<span class="token punctuation">.</span>duration <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span><span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> result<span class="token punctuation">;</span>
 result <span class="token operator">=</span> <span class="token punctuation">(</span>anInstrument<span class="token punctuation">.</span>income <span class="token operator">/</span> anInstrument<span class="token punctuation">.</span>duration<span class="token punctuation">)</span> <span class="token operator">*</span> anInstrument<span class="token punctuation">.</span>adjustmentFactor<span class="token punctuation">;</span>
 <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>è¿™ä¸¤è¡Œé€»è¾‘è¯­å¥å¼•å‘çš„ç»“æœä¸€æ ·ï¼Œæ‰€ä»¥æˆ‘å¯ä»¥ç”¨åˆå¹¶æ¡ä»¶è¡¨è¾¾å¼ï¼ˆ263ï¼‰å°†å…¶åˆå¹¶ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">adjustedCapital</span><span class="token punctuation">(</span><span class="token parameter">anInstrument</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span>   anInstrument<span class="token punctuation">.</span>capital      <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span><span class="token operator">=</span> <span class="token number">0</span>
   <span class="token operator">||</span> anInstrument<span class="token punctuation">.</span>interestRate <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span><span class="token operator">=</span> <span class="token number">0</span>
   <span class="token operator">||</span> anInstrument<span class="token punctuation">.</span>duration     <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span><span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> result<span class="token punctuation">;</span>
 result <span class="token operator">=</span> <span class="token punctuation">(</span>anInstrument<span class="token punctuation">.</span>income <span class="token operator">/</span> anInstrument<span class="token punctuation">.</span>duration<span class="token punctuation">)</span> <span class="token operator">*</span> anInstrument<span class="token punctuation">.</span>adjustmentFactor<span class="token punctuation">;</span>
 <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>æ­¤æ—¶ result å˜é‡åšäº†ä¸¤ä»¶äº‹ï¼šä¸€å¼€å§‹æˆ‘æŠŠå®ƒè®¾ä¸º 0ï¼Œä»£è¡¨å«è¯­å¥è¢«è§¦å‘æ—¶çš„è¿”å›å€¼ï¼›ç„¶ååˆç”¨æœ€ç»ˆè®¡ç®—çš„ç»“æœç»™å®ƒèµ‹å€¼ã€‚æˆ‘å¯ä»¥å½»åº•ç§»é™¤è¿™ä¸ªå˜é‡ï¼Œé¿å…ç”¨ä¸€ä¸ªå˜é‡æ‰¿æ‹…ä¸¤é‡è´£ä»»ï¼Œè€Œä¸”åˆå‡å°‘äº†ä¸€ä¸ªå¯å˜å˜é‡ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">adjustedCapital</span><span class="token punctuation">(</span><span class="token parameter">anInstrument</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span>   anInstrument<span class="token punctuation">.</span>capital     <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span><span class="token operator">=</span> <span class="token number">0</span>
   <span class="token operator">||</span> anInstrument<span class="token punctuation">.</span>interestRate <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span><span class="token operator">=</span> <span class="token number">0</span>
   <span class="token operator">||</span> anInstrument<span class="token punctuation">.</span>duration   <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span><span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
 <span class="token keyword">return</span> <span class="token punctuation">(</span>anInstrument<span class="token punctuation">.</span>income <span class="token operator">/</span> anInstrument<span class="token punctuation">.</span>duration<span class="token punctuation">)</span> <span class="token operator">*</span> anInstrument<span class="token punctuation">.</span>adjustmentFactor<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>1 â€œlorem.ipsumâ€¦â€¦â€æ˜¯ä¸€ç¯‡å¸¸è§äºæ’ç‰ˆè®¾è®¡é¢†åŸŸçš„æ–‡ç« ï¼Œå…¶å†…å®¹ä¸ºä¸å…·å¯è¯»æ€§çš„å­—ç¬¦ç»„åˆï¼Œç›®çš„æ˜¯ä½¿é˜…è¯»è€…åªä¸“æ³¨äºè§‚å¯Ÿæ®µè½çš„å­—å‹å’Œç‰ˆå‹ã€‚â€”â€”è¯‘è€…æ³¨</p><h2 id="_10-4-ä»¥å¤šæ€å–ä»£æ¡ä»¶è¡¨è¾¾å¼-replace-conditional-with-polymorphism" tabindex="-1"><a class="header-anchor" href="#_10-4-ä»¥å¤šæ€å–ä»£æ¡ä»¶è¡¨è¾¾å¼-replace-conditional-with-polymorphism" aria-hidden="true">#</a> 10.4 ä»¥å¤šæ€å–ä»£æ¡ä»¶è¡¨è¾¾å¼ï¼ˆReplace Conditional with Polymorphismï¼‰</h2><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">switch</span> <span class="token punctuation">(</span>bird<span class="token punctuation">.</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">case</span> <span class="token string">&#39;EuropeanSwallow&#39;</span><span class="token operator">:</span>
  <span class="token keyword">return</span> <span class="token string">&quot;average&quot;</span><span class="token punctuation">;</span>
 <span class="token keyword">case</span> <span class="token string">&#39;AfricanSwallow&#39;</span><span class="token operator">:</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>bird<span class="token punctuation">.</span>numberOfCoconuts <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">&quot;tired&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;average&quot;</span><span class="token punctuation">;</span>
 <span class="token keyword">case</span> <span class="token string">&#39;NorwegianBlueParrot&#39;</span><span class="token operator">:</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>bird<span class="token punctuation">.</span>voltage <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">&quot;scorched&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;beautiful&quot;</span><span class="token punctuation">;</span>
 <span class="token keyword">default</span><span class="token operator">:</span>
  <span class="token keyword">return</span> <span class="token string">&quot;unknown&quot;</span><span class="token punctuation">;</span>


<span class="token keyword">class</span> <span class="token class-name">EuropeanSwallow</span> <span class="token punctuation">{</span>
 <span class="token keyword">get</span> <span class="token function">plumage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token string">&quot;average&quot;</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">AfricanSwallow</span> <span class="token punctuation">{</span>
 <span class="token keyword">get</span> <span class="token function">plumage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>numberOfCoconuts <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">&quot;tired&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;average&quot;</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">NorwegianBlueParrot</span> <span class="token punctuation">{</span>
 <span class="token keyword">get</span> <span class="token function">plumage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>voltage <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">&quot;scorched&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;beautiful&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h3 id="åŠ¨æœº-3" tabindex="-1"><a class="header-anchor" href="#åŠ¨æœº-3" aria-hidden="true">#</a> åŠ¨æœº</h3><p>å¤æ‚çš„æ¡ä»¶é€»è¾‘æ˜¯ç¼–ç¨‹ä¸­æœ€éš¾ç†è§£çš„ä¸œè¥¿ä¹‹ä¸€ï¼Œå› æ­¤æˆ‘ä¸€ç›´åœ¨å¯»æ±‚ç»™æ¡ä»¶é€»è¾‘æ·»åŠ ç»“æ„ã€‚å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘å‘ç°å¯ä»¥å°†æ¡ä»¶é€»è¾‘æ‹†åˆ†åˆ°ä¸åŒçš„åœºæ™¯ï¼ˆæˆ–è€…å«é«˜é˜¶ç”¨ä¾‹ï¼‰ï¼Œä»è€Œæ‹†è§£å¤æ‚çš„æ¡ä»¶é€»è¾‘ã€‚è¿™ç§æ‹†åˆ†æœ‰æ—¶ç”¨æ¡ä»¶é€»è¾‘æœ¬èº«çš„ç»“æ„å°±è¶³ä»¥è¡¨è¾¾ï¼Œä½†ä½¿ç”¨ç±»å’Œå¤šæ€èƒ½æŠŠé€»è¾‘çš„æ‹†åˆ†è¡¨è¿°å¾—æ›´æ¸…æ™°ã€‚</p><p>ä¸€ä¸ªå¸¸è§çš„åœºæ™¯æ˜¯ï¼šæˆ‘å¯ä»¥æ„é€ ä¸€ç»„ç±»å‹ï¼Œæ¯ä¸ªç±»å‹å¤„ç†å„è‡ªçš„ä¸€ç§æ¡ä»¶é€»è¾‘ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä¼šæ³¨æ„åˆ°ï¼Œå›¾ä¹¦ã€éŸ³ä¹ã€é£Ÿå“çš„å¤„ç†æ–¹å¼ä¸åŒï¼Œè¿™æ˜¯å› ä¸ºå®ƒä»¬åˆ†å±ä¸åŒç±»å‹çš„å•†å“ã€‚æœ€æ˜æ˜¾çš„å¾å…†å°±æ˜¯æœ‰å¥½å‡ ä¸ªå‡½æ•°éƒ½æœ‰åŸºäºç±»å‹ä»£ç çš„ switch è¯­å¥ã€‚è‹¥æœçœŸå¦‚æ­¤ï¼Œæˆ‘å°±å¯ä»¥é’ˆå¯¹ switch è¯­å¥ä¸­çš„æ¯ç§åˆ†æ”¯é€»è¾‘åˆ›å»ºä¸€ä¸ªç±»ï¼Œç”¨å¤šæ€æ¥æ‰¿è½½å„ä¸ªç±»å‹ç‰¹æœ‰çš„è¡Œä¸ºï¼Œä»è€Œå»é™¤é‡å¤çš„åˆ†æ”¯é€»è¾‘ã€‚</p><p>å¦ä¸€ç§æƒ…å†µæ˜¯ï¼šæœ‰ä¸€ä¸ªåŸºç¡€é€»è¾‘ï¼Œåœ¨å…¶ä¸Šåˆæœ‰ä¸€äº›å˜ä½“ã€‚åŸºç¡€é€»è¾‘å¯èƒ½æ˜¯æœ€å¸¸ç”¨çš„ï¼Œä¹Ÿå¯èƒ½æ˜¯æœ€ç®€å•çš„ã€‚æˆ‘å¯ä»¥æŠŠåŸºç¡€é€»è¾‘æ”¾è¿›è¶…ç±»ï¼Œè¿™æ ·æˆ‘å¯ä»¥é¦–å…ˆç†è§£è¿™éƒ¨åˆ†é€»è¾‘ï¼Œæš‚æ—¶ä¸ç®¡å„ç§å˜ä½“ï¼Œç„¶åæˆ‘å¯ä»¥æŠŠæ¯ç§å˜ä½“é€»è¾‘å•ç‹¬æ”¾è¿›ä¸€ä¸ªå­ç±»ï¼Œå…¶ä¸­çš„ä»£ç ç€é‡å¼ºè°ƒä¸åŸºç¡€é€»è¾‘çš„å·®å¼‚ã€‚</p><p>å¤šæ€æ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹çš„å…³é”®ç‰¹æ€§ä¹‹ä¸€ã€‚è·Ÿå…¶ä»–ä¸€åˆ‡æœ‰ç”¨çš„ç‰¹æ€§ä¸€æ ·ï¼Œå®ƒä¹Ÿå¾ˆå®¹æ˜“è¢«æ»¥ç”¨ã€‚æˆ‘æ›¾ç»é‡åˆ°æœ‰äººäº‰è®ºè¯´æ‰€æœ‰æ¡ä»¶é€»è¾‘éƒ½åº”è¯¥ç”¨å¤šæ€å–ä»£ã€‚æˆ‘ä¸èµåŒè¿™ç§è§‚ç‚¹ã€‚æˆ‘çš„å¤§éƒ¨åˆ†æ¡ä»¶é€»è¾‘åªç”¨åˆ°äº†åŸºæœ¬çš„æ¡ä»¶è¯­å¥â€”â€”if/else å’Œ switch/caseï¼Œå¹¶ä¸éœ€è¦åŠ³å¸ˆåŠ¨ä¼—åœ°å¼•å…¥å¤šæ€ã€‚ä½†å¦‚æœå‘ç°å¦‚å‰æ‰€è¿°çš„å¤æ‚æ¡ä»¶é€»è¾‘ï¼Œå¤šæ€æ˜¯æ”¹å–„è¿™ç§æƒ…å†µçš„æœ‰åŠ›å·¥å…·ã€‚</p><h3 id="åšæ³•-3" tabindex="-1"><a class="header-anchor" href="#åšæ³•-3" aria-hidden="true">#</a> åšæ³•</h3><p>å¦‚æœç°æœ‰çš„ç±»å°šä¸å…·å¤‡å¤šæ€è¡Œä¸ºï¼Œå°±ç”¨å·¥å‚å‡½æ•°åˆ›å»ºä¹‹ï¼Œä»¤å·¥å‚å‡½æ•°è¿”å›æ°å½“çš„å¯¹è±¡å®ä¾‹ã€‚</p><p>åœ¨è°ƒç”¨æ–¹ä»£ç ä¸­ä½¿ç”¨å·¥å‚å‡½æ•°è·å¾—å¯¹è±¡å®ä¾‹ã€‚</p><p>å°†å¸¦æœ‰æ¡ä»¶é€»è¾‘çš„å‡½æ•°ç§»åˆ°è¶…ç±»ä¸­ã€‚</p><p>å¦‚æœæ¡ä»¶é€»è¾‘è¿˜æœªæç‚¼è‡³ç‹¬ç«‹çš„å‡½æ•°ï¼Œé¦–å…ˆå¯¹å…¶ä½¿ç”¨æç‚¼å‡½æ•°ï¼ˆ106ï¼‰ã€‚</p><p>ä»»é€‰ä¸€ä¸ªå­ç±»ï¼Œåœ¨å…¶ä¸­å»ºç«‹ä¸€ä¸ªå‡½æ•°ï¼Œä½¿ä¹‹è¦†å†™è¶…ç±»ä¸­å®¹çº³æ¡ä»¶è¡¨è¾¾å¼çš„é‚£ä¸ªå‡½æ•°ã€‚å°†ä¸è¯¥å­ç±»ç›¸å…³çš„æ¡ä»¶è¡¨è¾¾å¼åˆ†æ”¯å¤åˆ¶åˆ°æ–°å‡½æ•°ä¸­ï¼Œå¹¶å¯¹å®ƒè¿›è¡Œé€‚å½“è°ƒæ•´ã€‚</p><p>é‡å¤ä¸Šè¿°è¿‡ç¨‹ï¼Œå¤„ç†å…¶ä»–æ¡ä»¶åˆ†æ”¯ã€‚</p><p>åœ¨è¶…ç±»å‡½æ•°ä¸­ä¿ç•™é»˜è®¤æƒ…å†µçš„é€»è¾‘ã€‚æˆ–è€…ï¼Œå¦‚æœè¶…ç±»åº”è¯¥æ˜¯æŠ½è±¡çš„ï¼Œå°±æŠŠè¯¥å‡½æ•°å£°æ˜ä¸º abstractï¼Œæˆ–åœ¨å…¶ä¸­ç›´æ¥æŠ›å‡ºå¼‚å¸¸ï¼Œè¡¨æ˜è®¡ç®—è´£ä»»éƒ½åœ¨å­ç±»ä¸­ã€‚</p><h3 id="èŒƒä¾‹-3" tabindex="-1"><a class="header-anchor" href="#èŒƒä¾‹-3" aria-hidden="true">#</a> èŒƒä¾‹</h3><p>æˆ‘çš„æœ‹å‹æœ‰ä¸€ç¾¤é¸Ÿå„¿ï¼Œä»–æƒ³çŸ¥é“è¿™äº›é¸Ÿé£å¾—æœ‰å¤šå¿«ï¼Œä»¥åŠå®ƒä»¬çš„ç¾½æ¯›æ˜¯ä»€ä¹ˆæ ·çš„ã€‚æ‰€ä»¥æˆ‘ä»¬å†™äº†ä¸€å°æ®µç¨‹åºæ¥åˆ¤æ–­è¿™äº›ä¿¡æ¯ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">plumages</span><span class="token punctuation">(</span><span class="token parameter">birds</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span>birds<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>b <span class="token operator">=</span><span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token punctuation">[</span>b<span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token function">plumage</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">speeds</span><span class="token punctuation">(</span><span class="token parameter">birds</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span>birds<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>b <span class="token operator">=</span><span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token punctuation">[</span>b<span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token function">airSpeedVelocity</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">plumage</span><span class="token punctuation">(</span><span class="token parameter">bird</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">switch</span> <span class="token punctuation">(</span>bird<span class="token punctuation">.</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">case</span> <span class="token string">&#39;EuropeanSwallow&#39;</span><span class="token operator">:</span>
  <span class="token keyword">return</span> <span class="token string">&quot;average&quot;</span><span class="token punctuation">;</span>
 <span class="token keyword">case</span> <span class="token string">&#39;AfricanSwallow&#39;</span><span class="token operator">:</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>bird<span class="token punctuation">.</span>numberOfCoconuts <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">&quot;tired&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;average&quot;</span><span class="token punctuation">;</span>
 <span class="token keyword">case</span> <span class="token string">&#39;NorwegianBlueParrot&#39;</span><span class="token operator">:</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>bird<span class="token punctuation">.</span>voltage <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">&quot;scorched&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;beautiful&quot;</span><span class="token punctuation">;</span>
 <span class="token keyword">default</span><span class="token operator">:</span>
  <span class="token keyword">return</span> <span class="token string">&quot;unknown&quot;</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">airSpeedVelocity</span><span class="token punctuation">(</span><span class="token parameter">bird</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">switch</span> <span class="token punctuation">(</span>bird<span class="token punctuation">.</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">case</span> <span class="token string">&#39;EuropeanSwallow&#39;</span><span class="token operator">:</span>
  <span class="token keyword">return</span> <span class="token number">35</span><span class="token punctuation">;</span>
 <span class="token keyword">case</span> <span class="token string">&#39;AfricanSwallow&#39;</span><span class="token operator">:</span>
  <span class="token keyword">return</span> <span class="token number">40</span> <span class="token operator">-</span> <span class="token number">2</span> <span class="token operator">*</span> bird<span class="token punctuation">.</span>numberOfCoconuts<span class="token punctuation">;</span>
 <span class="token keyword">case</span> <span class="token string">&#39;NorwegianBlueParrot&#39;</span><span class="token operator">:</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>bird<span class="token punctuation">.</span>isNailed<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> <span class="token number">10</span> <span class="token operator">+</span> bird<span class="token punctuation">.</span>voltage <span class="token operator">/</span> <span class="token number">10</span><span class="token punctuation">;</span>
 <span class="token keyword">default</span><span class="token operator">:</span>
  <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><p>æœ‰ä¸¤ä¸ªä¸åŒçš„æ“ä½œï¼Œå…¶è¡Œä¸ºéƒ½éšç€â€œé¸Ÿçš„ç±»å‹â€å‘ç”Ÿå˜åŒ–ï¼Œå› æ­¤å¯ä»¥åˆ›å»ºå‡ºå¯¹åº”çš„ç±»ï¼Œç”¨å¤šæ€æ¥å¤„ç†å„ç±»å‹ç‰¹æœ‰çš„è¡Œä¸ºã€‚</p><p>æˆ‘å…ˆå¯¹ airSpeedVelocity å’Œ plumage ä¸¤ä¸ªå‡½æ•°ä½¿ç”¨å‡½æ•°ç»„åˆæˆç±»ï¼ˆ144ï¼‰ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">plumage</span><span class="token punctuation">(</span><span class="token parameter">bird</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Bird</span><span class="token punctuation">(</span>bird<span class="token punctuation">)</span><span class="token punctuation">.</span>plumage<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">airSpeedVelocity</span><span class="token punctuation">(</span><span class="token parameter">bird</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Bird</span><span class="token punctuation">(</span>bird<span class="token punctuation">)</span><span class="token punctuation">.</span>airSpeedVelocity<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Bird</span> <span class="token punctuation">{</span>
 <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">birdObject</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> birdObject<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">get</span> <span class="token function">plumage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">switch</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">case</span> <span class="token string">&#39;EuropeanSwallow&#39;</span><span class="token operator">:</span>
   <span class="token keyword">return</span> <span class="token string">&quot;average&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">case</span> <span class="token string">&#39;AfricanSwallow&#39;</span><span class="token operator">:</span>
   <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>numberOfCoconuts <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">&quot;tired&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;average&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">case</span> <span class="token string">&#39;NorwegianBlueParrot&#39;</span><span class="token operator">:</span>
   <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>voltage <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">&quot;scorched&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;beautiful&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">default</span><span class="token operator">:</span>
   <span class="token keyword">return</span> <span class="token string">&quot;unknown&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">get</span> <span class="token function">airSpeedVelocity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">switch</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">case</span> <span class="token string">&#39;EuropeanSwallow&#39;</span><span class="token operator">:</span>
   <span class="token keyword">return</span> <span class="token number">35</span><span class="token punctuation">;</span>
  <span class="token keyword">case</span> <span class="token string">&#39;AfricanSwallow&#39;</span><span class="token operator">:</span>
   <span class="token keyword">return</span> <span class="token number">40</span> <span class="token operator">-</span> <span class="token number">2</span> <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>numberOfCoconuts<span class="token punctuation">;</span>
  <span class="token keyword">case</span> <span class="token string">&#39;NorwegianBlueParrot&#39;</span><span class="token operator">:</span>
   <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>isNailed<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> <span class="token number">10</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>voltage <span class="token operator">/</span> <span class="token number">10</span><span class="token punctuation">;</span>
  <span class="token keyword">default</span><span class="token operator">:</span>
   <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div><p>ç„¶åé’ˆå¯¹æ¯ç§é¸Ÿåˆ›å»ºä¸€ä¸ªå­ç±»ï¼Œç”¨ä¸€ä¸ªå·¥å‚å‡½æ•°æ¥å®ä¾‹åŒ–åˆé€‚çš„å­ç±»å¯¹è±¡ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">plumage</span><span class="token punctuation">(</span><span class="token parameter">bird</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">createBird</span><span class="token punctuation">(</span>bird<span class="token punctuation">)</span><span class="token punctuation">.</span>plumage<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">airSpeedVelocity</span><span class="token punctuation">(</span><span class="token parameter">bird</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">createBird</span><span class="token punctuation">(</span>bird<span class="token punctuation">)</span><span class="token punctuation">.</span>airSpeedVelocity<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">createBird</span><span class="token punctuation">(</span><span class="token parameter">bird</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">switch</span> <span class="token punctuation">(</span>bird<span class="token punctuation">.</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token string">&quot;EuropeanSwallow&quot;</span><span class="token operator">:</span>
      <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">EuropeanSwallow</span><span class="token punctuation">(</span>bird<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token string">&quot;AfricanSwallow&quot;</span><span class="token operator">:</span>
      <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">AfricanSwallow</span><span class="token punctuation">(</span>bird<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token string">&quot;NorweigianBlueParrot&quot;</span><span class="token operator">:</span>
      <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">NorwegianBlueParrot</span><span class="token punctuation">(</span>bird<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">default</span><span class="token operator">:</span>
      <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Bird</span><span class="token punctuation">(</span>bird<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">EuropeanSwallow</span> <span class="token keyword">extends</span> <span class="token class-name">Bird</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">AfricanSwallow</span> <span class="token keyword">extends</span> <span class="token class-name">Bird</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">NorwegianBlueParrot</span> <span class="token keyword">extends</span> <span class="token class-name">Bird</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><p>ç°åœ¨æˆ‘å·²ç»æœ‰äº†éœ€è¦çš„ç±»ç»“æ„ï¼Œå¯ä»¥å¤„ç†ä¸¤ä¸ªæ¡ä»¶é€»è¾‘äº†ã€‚å…ˆä» plumage å‡½æ•°å¼€å§‹ï¼Œæˆ‘ä» switch è¯­å¥ä¸­é€‰ä¸€ä¸ªåˆ†æ”¯ï¼Œåœ¨é€‚å½“çš„å­ç±»ä¸­è¦†å†™è¿™ä¸ªé€»è¾‘ã€‚</p><h4 id="class-europeanswallow" tabindex="-1"><a class="header-anchor" href="#class-europeanswallow" aria-hidden="true">#</a> class EuropeanSwallow...</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">get</span> <span class="token function">plumage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token string">&quot;average&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="class-bird" tabindex="-1"><a class="header-anchor" href="#class-bird" aria-hidden="true">#</a> class Bird...</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">get</span> <span class="token function">plumage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">switch</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">case</span> <span class="token string">&#39;EuropeanSwallow&#39;</span><span class="token operator">:</span>
  <span class="token keyword">throw</span> <span class="token string">&quot;oops&quot;</span><span class="token punctuation">;</span>
 <span class="token keyword">case</span> <span class="token string">&#39;AfricanSwallow&#39;</span><span class="token operator">:</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>numberOfCoconuts <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">&quot;tired&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;average&quot;</span><span class="token punctuation">;</span>
 <span class="token keyword">case</span> <span class="token string">&#39;NorwegianBlueParrot&#39;</span><span class="token operator">:</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>voltage <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">&quot;scorched&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;beautiful&quot;</span><span class="token punctuation">;</span>
 <span class="token keyword">default</span><span class="token operator">:</span>
  <span class="token keyword">return</span> <span class="token string">&quot;unknown&quot;</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>åœ¨è¶…ç±»ä¸­ï¼Œæˆ‘æŠŠå¯¹åº”çš„é€»è¾‘åˆ†æ”¯æ”¹ä¸ºæŠ›å‡ºå¼‚å¸¸ï¼Œå› ä¸ºæˆ‘æ€»æ˜¯åæ‰§åœ°æ‹…å¿ƒå‡ºé”™ã€‚</p><p>æ­¤æ—¶æˆ‘å°±å¯ä»¥ç¼–è¯‘å¹¶æµ‹è¯•ã€‚å¦‚æœä¸€åˆ‡é¡ºåˆ©çš„è¯ï¼Œæˆ‘å¯ä»¥æ¥ç€å¤„ç†ä¸‹ä¸€ä¸ªåˆ†æ”¯ã€‚</p><h4 id="class-africanswallow" tabindex="-1"><a class="header-anchor" href="#class-africanswallow" aria-hidden="true">#</a> class AfricanSwallow...</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">get</span> <span class="token function">plumage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>numberOfCoconuts <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">&quot;tired&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;average&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>ç„¶åæ˜¯æŒªå¨è“é¹¦é¹‰ï¼ˆNorwegian Blueï¼‰çš„åˆ†æ”¯ã€‚</p><h4 id="class-norwegianblueparrot" tabindex="-1"><a class="header-anchor" href="#class-norwegianblueparrot" aria-hidden="true">#</a> class NorwegianBlueParrot...</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">get</span> <span class="token function">plumage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>voltage <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">&quot;scorched&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;beautiful&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>è¶…ç±»å‡½æ•°ä¿ç•™ä¸‹æ¥å¤„ç†é»˜è®¤æƒ…å†µã€‚</p><h4 id="class-bird-1" tabindex="-1"><a class="header-anchor" href="#class-bird-1" aria-hidden="true">#</a> class Bird...</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">get</span> <span class="token function">plumage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token string">&quot;unknown&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>airSpeedVelocity ä¹Ÿå¦‚æ³•ç‚®åˆ¶ã€‚å®Œæˆä»¥åï¼Œä»£ç å¤§è‡´å¦‚ä¸‹ï¼ˆæˆ‘è¿˜å¯¹é¡¶å±‚çš„ airSpeedVelocity å’Œ plumage å‡½æ•°åšäº†å†…è”å¤„ç†ï¼‰ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">plumages</span><span class="token punctuation">(</span><span class="token parameter">birds</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span>birds
         <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>b <span class="token operator">=</span><span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token function">createBird</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span>
         <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>bird <span class="token operator">=</span><span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token punctuation">[</span>bird<span class="token punctuation">.</span>name<span class="token punctuation">,</span> bird<span class="token punctuation">.</span>plumage<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">speeds</span><span class="token punctuation">(</span><span class="token parameter">birds</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span>birds
         <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>b <span class="token operator">=</span><span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token function">createBird</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span>
         <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>bird <span class="token operator">=</span><span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token punctuation">[</span>bird<span class="token punctuation">.</span>name<span class="token punctuation">,</span> bird<span class="token punctuation">.</span>airSpeedVelocity<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">createBird</span><span class="token punctuation">(</span><span class="token parameter">bird</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">switch</span> <span class="token punctuation">(</span>bird<span class="token punctuation">.</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">case</span> <span class="token string">&#39;EuropeanSwallow&#39;</span><span class="token operator">:</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">EuropeanSwallow</span><span class="token punctuation">(</span>bird<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token keyword">case</span> <span class="token string">&#39;AfricanSwallow&#39;</span><span class="token operator">:</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">AfricanSwallow</span><span class="token punctuation">(</span>bird<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token keyword">case</span> <span class="token string">&#39;NorwegianBlueParrot&#39;</span><span class="token operator">:</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">NorwegianBlueParrot</span><span class="token punctuation">(</span>bird<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token keyword">default</span><span class="token operator">:</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Bird</span><span class="token punctuation">(</span>bird<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Bird</span> <span class="token punctuation">{</span>
 <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">birdObject</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> birdObject<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">get</span> <span class="token function">plumage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token string">&quot;unknown&quot;</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">get</span> <span class="token function">airSpeedVelocity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">EuropeanSwallow</span> <span class="token keyword">extends</span> <span class="token class-name">Bird</span> <span class="token punctuation">{</span>
 <span class="token keyword">get</span> <span class="token function">plumage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token string">&quot;average&quot;</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">get</span> <span class="token function">airSpeedVelocity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token number">35</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">AfricanSwallow</span> <span class="token keyword">extends</span> <span class="token class-name">Bird</span> <span class="token punctuation">{</span>
 <span class="token keyword">get</span> <span class="token function">plumage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>numberOfCoconuts <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">&quot;tired&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;average&quot;</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">get</span> <span class="token function">airSpeedVelocity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token number">40</span> <span class="token operator">-</span> <span class="token number">2</span> <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>numberOfCoconuts<span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">NorwegianBlueParrot</span> <span class="token keyword">extends</span> <span class="token class-name">Bird</span> <span class="token punctuation">{</span>
 <span class="token keyword">get</span> <span class="token function">plumage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>voltage <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">&quot;scorched&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;beautiful&quot;</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">get</span> <span class="token function">airSpeedVelocity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>isNailed<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> <span class="token number">10</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>voltage <span class="token operator">/</span> <span class="token number">10</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br></div></div><p>çœ‹ç€æœ€ç»ˆçš„ä»£ç ï¼Œå¯ä»¥çœ‹å‡º Bird è¶…ç±»å¹¶ä¸æ˜¯å¿…éœ€çš„ã€‚åœ¨ JavaScript ä¸­ï¼Œå¤šæ€ä¸ä¸€å®šéœ€è¦ç±»å‹å±‚çº§ï¼Œåªè¦å¯¹è±¡å®ç°äº†é€‚å½“çš„å‡½æ•°å°±è¡Œã€‚ä½†åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘æ„¿æ„ä¿ç•™è¿™ä¸ªä¸å¿…è¦çš„è¶…ç±»ï¼Œå› ä¸ºå®ƒèƒ½å¸®åŠ©é˜é‡Šå„ä¸ªå­ç±»ä¸é—®é¢˜åŸŸä¹‹é—´çš„å…³ç³»ã€‚</p><h3 id="èŒƒä¾‹-ç”¨å¤šæ€å¤„ç†å˜ä½“é€»è¾‘" tabindex="-1"><a class="header-anchor" href="#èŒƒä¾‹-ç”¨å¤šæ€å¤„ç†å˜ä½“é€»è¾‘" aria-hidden="true">#</a> èŒƒä¾‹ï¼šç”¨å¤šæ€å¤„ç†å˜ä½“é€»è¾‘</h3><p>åœ¨å‰é¢çš„ä¾‹å­ä¸­ï¼Œâ€œé¸Ÿâ€çš„ç±»å‹ä½“ç³»æ˜¯ä¸€ä¸ªæ¸…æ™°çš„æ³›åŒ–ä½“ç³»ï¼šè¶…ç±»æ˜¯æŠ½è±¡çš„â€œé¸Ÿâ€ï¼Œå­ç±»æ˜¯å„ç§å…·ä½“çš„é¸Ÿã€‚è¿™æ˜¯æ•™ç§‘ä¹¦ï¼ˆåŒ…æ‹¬æˆ‘å†™çš„ä¹¦ï¼‰ä¸­ç»å¸¸è®¨è®ºçš„ç»§æ‰¿å’Œå¤šæ€ï¼Œä½†å¹¶ä¸æ˜¯å®è·µä¸­ä½¿ç”¨ç»§æ‰¿çš„å”¯ä¸€æ–¹å¼ã€‚å®é™…ä¸Šï¼Œè¿™ç§æ–¹å¼å¾ˆå¯èƒ½ä¸æ˜¯æœ€å¸¸ç”¨æˆ–æœ€å¥½çš„æ–¹å¼ã€‚å¦ä¸€ç§ä½¿ç”¨ç»§æ‰¿çš„æƒ…å†µæ˜¯ï¼šæˆ‘æƒ³è¡¨è¾¾æŸä¸ªå¯¹è±¡ä¸å¦ä¸€ä¸ªå¯¹è±¡å¤§ä½“ç±»ä¼¼ï¼Œä½†åˆæœ‰ä¸€äº›ä¸åŒä¹‹å¤„ã€‚</p><p>ä¸‹é¢æœ‰ä¸€ä¸ªè¿™æ ·çš„ä¾‹å­ï¼šæœ‰ä¸€å®¶è¯„çº§æœºæ„ï¼Œè¦å¯¹è¿œæ´‹èˆªèˆ¹çš„èˆªè¡Œè¿›è¡ŒæŠ•èµ„è¯„çº§ã€‚è¿™å®¶è¯„çº§æœºæ„ä¼šç»™å‡ºâ€œAâ€æˆ–è€…â€œBâ€ä¸¤ç§è¯„çº§ï¼Œå–å†³äºå¤šç§é£é™©å’Œç›ˆåˆ©æ½œåŠ›çš„å› ç´ ã€‚åœ¨è¯„ä¼°é£é™©æ—¶ï¼Œæ—¢è¦è€ƒè™‘èˆªç¨‹æœ¬èº«çš„ç‰¹å¾ï¼Œä¹Ÿè¦è€ƒè™‘èˆ¹é•¿è¿‡å¾€èˆªè¡Œçš„å†å²ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">rating</span><span class="token punctuation">(</span><span class="token parameter">voyage<span class="token punctuation">,</span> history</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">const</span> vpf <span class="token operator">=</span> <span class="token function">voyageProfitFactor</span><span class="token punctuation">(</span>voyage<span class="token punctuation">,</span> history<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token keyword">const</span> vr <span class="token operator">=</span> <span class="token function">voyageRisk</span><span class="token punctuation">(</span>voyage<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token keyword">const</span> chr <span class="token operator">=</span> <span class="token function">captainHistoryRisk</span><span class="token punctuation">(</span>voyage<span class="token punctuation">,</span> history<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span>vpf <span class="token operator">*</span> <span class="token number">3</span> <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token punctuation">(</span>vr <span class="token operator">+</span> chr <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">&quot;A&quot;</span><span class="token punctuation">;</span>
 <span class="token keyword">else</span> <span class="token keyword">return</span> <span class="token string">&quot;B&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">voyageRisk</span><span class="token punctuation">(</span><span class="token parameter">voyage</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span>voyage<span class="token punctuation">.</span>length <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">4</span><span class="token punctuation">)</span> result <span class="token operator">+=</span> <span class="token number">2</span><span class="token punctuation">;</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span>voyage<span class="token punctuation">.</span>length <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">8</span><span class="token punctuation">)</span> result <span class="token operator">+=</span> voyage<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">8</span><span class="token punctuation">;</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;china&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;east-indies&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>voyage<span class="token punctuation">.</span>zone<span class="token punctuation">)</span><span class="token punctuation">)</span> result <span class="token operator">+=</span> <span class="token number">4</span><span class="token punctuation">;</span>
 <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>result<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">captainHistoryRisk</span><span class="token punctuation">(</span><span class="token parameter">voyage<span class="token punctuation">,</span> history</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span>history<span class="token punctuation">.</span>length <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span> <span class="token number">5</span><span class="token punctuation">)</span> result <span class="token operator">+=</span> <span class="token number">4</span><span class="token punctuation">;</span>
 result <span class="token operator">+=</span> history<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>v <span class="token operator">=</span><span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> v<span class="token punctuation">.</span>profit <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span>voyage<span class="token punctuation">.</span>zone <span class="token operator">===</span> <span class="token string">&quot;china&quot;</span> <span class="token operator">&amp;</span>amp<span class="token punctuation">;</span><span class="token operator">&amp;</span>amp<span class="token punctuation">;</span> <span class="token function">hasChina</span><span class="token punctuation">(</span>history<span class="token punctuation">)</span><span class="token punctuation">)</span> result <span class="token operator">-=</span> <span class="token number">2</span><span class="token punctuation">;</span>
 <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>result<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">hasChina</span><span class="token punctuation">(</span><span class="token parameter">history</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">return</span> history<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span>v <span class="token operator">=</span><span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token string">&quot;china&quot;</span> <span class="token operator">===</span> v<span class="token punctuation">.</span>zone<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">voyageProfitFactor</span><span class="token punctuation">(</span><span class="token parameter">voyage<span class="token punctuation">,</span> history</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span>voyage<span class="token punctuation">.</span>zone <span class="token operator">===</span> <span class="token string">&quot;china&quot;</span><span class="token punctuation">)</span> result <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span>voyage<span class="token punctuation">.</span>zone <span class="token operator">===</span> <span class="token string">&quot;east-indies&quot;</span><span class="token punctuation">)</span> result <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span>voyage<span class="token punctuation">.</span>zone <span class="token operator">===</span> <span class="token string">&quot;china&quot;</span> <span class="token operator">&amp;</span>amp<span class="token punctuation">;</span><span class="token operator">&amp;</span>amp<span class="token punctuation">;</span> <span class="token function">hasChina</span><span class="token punctuation">(</span>history<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  result <span class="token operator">+=</span> <span class="token number">3</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>history<span class="token punctuation">.</span>length <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">10</span><span class="token punctuation">)</span> result <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>voyage<span class="token punctuation">.</span>length <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">12</span><span class="token punctuation">)</span> result <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>voyage<span class="token punctuation">.</span>length <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">18</span><span class="token punctuation">)</span> result <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">else</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>history<span class="token punctuation">.</span>length <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">8</span><span class="token punctuation">)</span> result <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>voyage<span class="token punctuation">.</span>length <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">14</span><span class="token punctuation">)</span> result <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br></div></div><p>voyageRisk å’Œ captainHistoryRisk ä¸¤ä¸ªå‡½æ•°è´Ÿè´£æ‰“å‡ºé£é™©åˆ†æ•°ï¼ŒvoyageProfitFactor è´Ÿè´£æ‰“å‡ºç›ˆåˆ©æ½œåŠ›åˆ†æ•°ï¼Œrating å‡½æ•°å°† 3 ä¸ªåˆ†æ•°ç»„åˆåˆ°ä¸€èµ·ï¼Œç»™å‡ºä¸€æ¬¡èˆªè¡Œçš„ç»¼åˆè¯„çº§ã€‚</p><p>è°ƒç”¨æ–¹çš„ä»£ç å¤§æ¦‚æ˜¯è¿™æ ·ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> voyage <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">zone</span><span class="token operator">:</span> <span class="token string">&quot;west-indies&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">length</span><span class="token operator">:</span> <span class="token number">10</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> history <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">zone</span><span class="token operator">:</span> <span class="token string">&quot;east-indies&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">profit</span><span class="token operator">:</span> <span class="token number">5</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">zone</span><span class="token operator">:</span> <span class="token string">&quot;west-indies&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">profit</span><span class="token operator">:</span> <span class="token number">15</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">zone</span><span class="token operator">:</span> <span class="token string">&quot;china&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">profit</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">zone</span><span class="token operator">:</span> <span class="token string">&quot;west-africa&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">profit</span><span class="token operator">:</span> <span class="token number">7</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> myRating <span class="token operator">=</span> <span class="token function">rating</span><span class="token punctuation">(</span>voyage<span class="token punctuation">,</span> history<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>ä»£ç ä¸­æœ‰ä¸¤å¤„åŒæ ·çš„æ¡ä»¶é€»è¾‘ï¼Œéƒ½åœ¨è¯¢é—®â€œæ˜¯å¦æœ‰åˆ°ä¸­å›½çš„èˆªç¨‹â€ä»¥åŠâ€œèˆ¹é•¿æ˜¯å¦æ›¾å»è¿‡ä¸­å›½â€ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">rating</span><span class="token punctuation">(</span><span class="token parameter">voyage<span class="token punctuation">,</span> history</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">const</span> vpf <span class="token operator">=</span> <span class="token function">voyageProfitFactor</span><span class="token punctuation">(</span>voyage<span class="token punctuation">,</span> history<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token keyword">const</span> vr <span class="token operator">=</span> <span class="token function">voyageRisk</span><span class="token punctuation">(</span>voyage<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token keyword">const</span> chr <span class="token operator">=</span> <span class="token function">captainHistoryRisk</span><span class="token punctuation">(</span>voyage<span class="token punctuation">,</span> history<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span>vpf <span class="token operator">*</span> <span class="token number">3</span> <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token punctuation">(</span>vr <span class="token operator">+</span> chr <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">&quot;A&quot;</span><span class="token punctuation">;</span>
 <span class="token keyword">else</span> <span class="token keyword">return</span> <span class="token string">&quot;B&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">voyageRisk</span><span class="token punctuation">(</span><span class="token parameter">voyage</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span>voyage<span class="token punctuation">.</span>length <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">4</span><span class="token punctuation">)</span> result <span class="token operator">+=</span> <span class="token number">2</span><span class="token punctuation">;</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span>voyage<span class="token punctuation">.</span>length <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">8</span><span class="token punctuation">)</span> result <span class="token operator">+=</span> voyage<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">8</span><span class="token punctuation">;</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;china&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;east-indies&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>voyage<span class="token punctuation">.</span>zone<span class="token punctuation">)</span><span class="token punctuation">)</span> result <span class="token operator">+=</span> <span class="token number">4</span><span class="token punctuation">;</span>
 <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>result<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">captainHistoryRisk</span><span class="token punctuation">(</span><span class="token parameter">voyage<span class="token punctuation">,</span> history</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span>history<span class="token punctuation">.</span>length <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span> <span class="token number">5</span><span class="token punctuation">)</span> result <span class="token operator">+=</span> <span class="token number">4</span><span class="token punctuation">;</span>
 result <span class="token operator">+=</span> history<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>v <span class="token operator">=</span><span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> v<span class="token punctuation">.</span>profit <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span>voyage<span class="token punctuation">.</span>zone <span class="token operator">===</span> <span class="token string">&quot;china&quot;</span> <span class="token operator">&amp;</span>amp<span class="token punctuation">;</span><span class="token operator">&amp;</span>amp<span class="token punctuation">;</span> <span class="token function">hasChina</span><span class="token punctuation">(</span>history<span class="token punctuation">)</span><span class="token punctuation">)</span> result <span class="token operator">-=</span> <span class="token number">2</span><span class="token punctuation">;</span>
 <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>result<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">hasChina</span><span class="token punctuation">(</span><span class="token parameter">history</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">return</span> history<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span>v <span class="token operator">=</span><span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token string">&quot;china&quot;</span> <span class="token operator">===</span> v<span class="token punctuation">.</span>zone<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">voyageProfitFactor</span><span class="token punctuation">(</span><span class="token parameter">voyage<span class="token punctuation">,</span> history</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span>voyage<span class="token punctuation">.</span>zone <span class="token operator">===</span> <span class="token string">&quot;china&quot;</span><span class="token punctuation">)</span> result <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span>voyage<span class="token punctuation">.</span>zone <span class="token operator">===</span> <span class="token string">&quot;east-indies&quot;</span><span class="token punctuation">)</span> result <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span>voyage<span class="token punctuation">.</span>zone <span class="token operator">===</span> <span class="token string">&quot;china&quot;</span> <span class="token operator">&amp;</span>amp<span class="token punctuation">;</span><span class="token operator">&amp;</span>amp<span class="token punctuation">;</span> <span class="token function">hasChina</span><span class="token punctuation">(</span>history<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  result <span class="token operator">+=</span> <span class="token number">3</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>history<span class="token punctuation">.</span>length <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">10</span><span class="token punctuation">)</span> result <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>voyage<span class="token punctuation">.</span>length <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">12</span><span class="token punctuation">)</span> result <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>voyage<span class="token punctuation">.</span>length <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">18</span><span class="token punctuation">)</span> result <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">else</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>history<span class="token punctuation">.</span>length <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">8</span><span class="token punctuation">)</span> result <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>voyage<span class="token punctuation">.</span>length <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">14</span><span class="token punctuation">)</span> result <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br></div></div><p>æˆ‘ä¼šç”¨ç»§æ‰¿å’Œå¤šæ€å°†å¤„ç†â€œä¸­å›½å› ç´ â€çš„é€»è¾‘ä»åŸºç¡€é€»è¾‘ä¸­åˆ†ç¦»å‡ºæ¥ã€‚å¦‚æœè¿˜è¦å¼•å…¥æ›´å¤šçš„ç‰¹æ®Šé€»è¾‘ï¼Œè¿™ä¸ªé‡æ„å°±å¾ˆæœ‰ç”¨â€”â€”è¿™äº›é‡å¤çš„â€œä¸­å›½å› ç´ â€ä¼šæ··æ·†è§†å¬ï¼Œè®©åŸºç¡€é€»è¾‘éš¾ä»¥ç†è§£ã€‚</p><p>èµ·åˆä»£ç é‡Œåªæœ‰ä¸€å †å‡½æ•°ï¼Œå¦‚æœè¦å¼•å…¥å¤šæ€çš„è¯ï¼Œæˆ‘éœ€è¦å…ˆå»ºç«‹ä¸€ä¸ªç±»ç»“æ„ï¼Œå› æ­¤æˆ‘é¦–å…ˆä½¿ç”¨å‡½æ•°ç»„åˆæˆç±»ï¼ˆ144ï¼‰ã€‚è¿™ä¸€æ­¥é‡æ„çš„ç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">rating</span><span class="token punctuation">(</span><span class="token parameter">voyage<span class="token punctuation">,</span> history</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Rating</span><span class="token punctuation">(</span>voyage<span class="token punctuation">,</span> history<span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Rating</span> <span class="token punctuation">{</span>
 <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">voyage<span class="token punctuation">,</span> history</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>voyage <span class="token operator">=</span> voyage<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>history <span class="token operator">=</span> history<span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">get</span> <span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> vpf <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>voyageProfitFactor<span class="token punctuation">;</span>
  <span class="token keyword">const</span> vr <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>voyageRisk<span class="token punctuation">;</span>
  <span class="token keyword">const</span> chr <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>captainHistoryRisk<span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>vpf <span class="token operator">*</span> <span class="token number">3</span> <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token punctuation">(</span>vr <span class="token operator">+</span> chr <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">&quot;A&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">else</span> <span class="token keyword">return</span> <span class="token string">&quot;B&quot;</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">get</span> <span class="token function">voyageRisk</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>voyage<span class="token punctuation">.</span>length <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">4</span><span class="token punctuation">)</span> result <span class="token operator">+=</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>voyage<span class="token punctuation">.</span>length <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">8</span><span class="token punctuation">)</span> result <span class="token operator">+=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>voyage<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">8</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;china&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;east-indies&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>voyage<span class="token punctuation">.</span>zone<span class="token punctuation">)</span><span class="token punctuation">)</span> result <span class="token operator">+=</span> <span class="token number">4</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>result<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">get</span> <span class="token function">captainHistoryRisk</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>history<span class="token punctuation">.</span>length <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span> <span class="token number">5</span><span class="token punctuation">)</span> result <span class="token operator">+=</span> <span class="token number">4</span><span class="token punctuation">;</span>
  result <span class="token operator">+=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>v <span class="token operator">=</span><span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> v<span class="token punctuation">.</span>profit <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>voyage<span class="token punctuation">.</span>zone <span class="token operator">===</span> <span class="token string">&quot;china&quot;</span> <span class="token operator">&amp;</span>amp<span class="token punctuation">;</span><span class="token operator">&amp;</span>amp<span class="token punctuation">;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>hasChinaHistory<span class="token punctuation">)</span> result <span class="token operator">-=</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>result<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">get</span> <span class="token function">voyageProfitFactor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>voyage<span class="token punctuation">.</span>zone <span class="token operator">===</span> <span class="token string">&quot;china&quot;</span><span class="token punctuation">)</span> result <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>voyage<span class="token punctuation">.</span>zone <span class="token operator">===</span> <span class="token string">&quot;east-indies&quot;</span><span class="token punctuation">)</span> result <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>voyage<span class="token punctuation">.</span>zone <span class="token operator">===</span> <span class="token string">&quot;china&quot;</span> <span class="token operator">&amp;</span>amp<span class="token punctuation">;</span><span class="token operator">&amp;</span>amp<span class="token punctuation">;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>hasChinaHistory<span class="token punctuation">)</span> <span class="token punctuation">{</span>
   result <span class="token operator">+=</span> <span class="token number">3</span><span class="token punctuation">;</span>
   <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>history<span class="token punctuation">.</span>length <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">10</span><span class="token punctuation">)</span> result <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
   <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>voyage<span class="token punctuation">.</span>length <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">12</span><span class="token punctuation">)</span> result <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
   <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>voyage<span class="token punctuation">.</span>length <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">18</span><span class="token punctuation">)</span> result <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">else</span> <span class="token punctuation">{</span>
   <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>history<span class="token punctuation">.</span>length <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">8</span><span class="token punctuation">)</span> result <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
   <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>voyage<span class="token punctuation">.</span>length <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">14</span><span class="token punctuation">)</span> result <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> result<span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">get</span> <span class="token function">hasChinaHistory</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span>v <span class="token operator">=</span><span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token string">&quot;china&quot;</span> <span class="token operator">===</span> v<span class="token punctuation">.</span>zone<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br></div></div><p>äºæ˜¯æˆ‘å°±æœ‰äº†ä¸€ä¸ªç±»ï¼Œç”¨æ¥å®‰æ”¾åŸºç¡€é€»è¾‘ã€‚ç°åœ¨æˆ‘éœ€è¦å¦å»ºä¸€ä¸ªç©ºçš„å­ç±»ï¼Œç”¨æ¥å®‰æ”¾ä¸è¶…ç±»ä¸åŒçš„è¡Œä¸ºã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">ExperiencedChinaRating</span> <span class="token keyword">extends</span> <span class="token class-name">Rating</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>ç„¶åï¼Œå»ºç«‹ä¸€ä¸ªå·¥å‚å‡½æ•°ï¼Œç”¨äºåœ¨éœ€è¦æ—¶è¿”å›å˜ä½“ç±»ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">createRating</span><span class="token punctuation">(</span><span class="token parameter">voyage<span class="token punctuation">,</span> history</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span>voyage<span class="token punctuation">.</span>zone <span class="token operator">===</span> <span class="token string">&quot;china&quot;</span> <span class="token operator">&amp;</span>amp<span class="token punctuation">;</span><span class="token operator">&amp;</span>amp<span class="token punctuation">;</span> history<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span>v <span class="token operator">=</span><span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token string">&quot;china&quot;</span> <span class="token operator">===</span> v<span class="token punctuation">.</span>zone<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ExperiencedChinaRating</span><span class="token punctuation">(</span>voyage<span class="token punctuation">,</span> history<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token keyword">else</span> <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Rating</span><span class="token punctuation">(</span>voyage<span class="token punctuation">,</span> history<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>æˆ‘éœ€è¦ä¿®æ”¹æ‰€æœ‰è°ƒç”¨æ–¹ä»£ç ï¼Œè®©å®ƒä»¬ä½¿ç”¨è¯¥å·¥å‚å‡½æ•°ï¼Œè€Œä¸è¦ç›´æ¥è°ƒç”¨æ„é€ å‡½æ•°ã€‚è¿˜å¥½ç°åœ¨è°ƒç”¨æ„é€ å‡½æ•°çš„åªæœ‰ rating å‡½æ•°ä¸€å¤„ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">rating</span><span class="token punctuation">(</span><span class="token parameter">voyage<span class="token punctuation">,</span> history</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">createRating</span><span class="token punctuation">(</span>voyage<span class="token punctuation">,</span> history<span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>æœ‰ä¸¤å¤„è¡Œä¸ºéœ€è¦ç§»å…¥å­ç±»ä¸­ã€‚æˆ‘å…ˆå¤„ç† captainHistoryRisk ä¸­çš„é€»è¾‘ã€‚</p><h4 id="class-rating" tabindex="-1"><a class="header-anchor" href="#class-rating" aria-hidden="true">#</a> class Rating...</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">get</span> <span class="token function">captainHistoryRisk</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>history<span class="token punctuation">.</span>length <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span> <span class="token number">5</span><span class="token punctuation">)</span> result <span class="token operator">+=</span> <span class="token number">4</span><span class="token punctuation">;</span>
 result <span class="token operator">+=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>v <span class="token operator">=</span><span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> v<span class="token punctuation">.</span>profit <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>voyage<span class="token punctuation">.</span>zone <span class="token operator">===</span> <span class="token string">&quot;china&quot;</span> <span class="token operator">&amp;</span>amp<span class="token punctuation">;</span><span class="token operator">&amp;</span>amp<span class="token punctuation">;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>hasChinaHistory<span class="token punctuation">)</span> result <span class="token operator">-=</span> <span class="token number">2</span><span class="token punctuation">;</span>
 <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>result<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>åœ¨å­ç±»ä¸­è¦†å†™è¿™ä¸ªå‡½æ•°ã€‚</p><p>class ExperiencedChinaRating</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">get</span> <span class="token function">captainHistoryRisk</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token keyword">super</span><span class="token punctuation">.</span>captainHistoryRisk <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>result<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="class-rating-1" tabindex="-1"><a class="header-anchor" href="#class-rating-1" aria-hidden="true">#</a> class Rating...</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">get</span> <span class="token function">captainHistoryRisk</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>history<span class="token punctuation">.</span>length <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span> <span class="token number">5</span><span class="token punctuation">)</span> result <span class="token operator">+=</span> <span class="token number">4</span><span class="token punctuation">;</span>
 result <span class="token operator">+=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>v <span class="token operator">=</span><span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> v<span class="token punctuation">.</span>profit <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>voyage<span class="token punctuation">.</span>zone <span class="token operator">===</span> <span class="token string">&quot;china&quot;</span> <span class="token operator">&amp;</span>amp<span class="token punctuation">;</span><span class="token operator">&amp;</span>amp<span class="token punctuation">;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>hasChinaHistory<span class="token punctuation">)</span> result <span class="token operator">-=</span> <span class="token number">2</span><span class="token punctuation">;</span>
 <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>result<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>åˆ†ç¦» voyageProfitFactor å‡½æ•°ä¸­çš„å˜ä½“è¡Œä¸ºè¦æ›´éº»çƒ¦ä¸€äº›ã€‚æˆ‘ä¸èƒ½ç›´æ¥ä»è¶…ç±»ä¸­åˆ æ‰å˜ä½“è¡Œä¸ºï¼Œå› ä¸ºåœ¨è¶…ç±»ä¸­è¿˜æœ‰å¦ä¸€æ¡æ‰§è¡Œè·¯å¾„ã€‚æˆ‘åˆä¸æƒ³æŠŠæ•´ä¸ªè¶…ç±»ä¸­çš„å‡½æ•°å¤åˆ¶åˆ°å­ç±»ä¸­ã€‚</p><h4 id="class-rating-2" tabindex="-1"><a class="header-anchor" href="#class-rating-2" aria-hidden="true">#</a> class Rating...</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">get</span> <span class="token function">voyageProfitFactor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>

 <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>voyage<span class="token punctuation">.</span>zone <span class="token operator">===</span> <span class="token string">&quot;china&quot;</span><span class="token punctuation">)</span> result <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>voyage<span class="token punctuation">.</span>zone <span class="token operator">===</span> <span class="token string">&quot;east-indies&quot;</span><span class="token punctuation">)</span> result <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>voyage<span class="token punctuation">.</span>zone <span class="token operator">===</span> <span class="token string">&quot;china&quot;</span> <span class="token operator">&amp;</span>amp<span class="token punctuation">;</span><span class="token operator">&amp;</span>amp<span class="token punctuation">;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>hasChinaHistory<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  result <span class="token operator">+=</span> <span class="token number">3</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>history<span class="token punctuation">.</span>length <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">10</span><span class="token punctuation">)</span> result <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>voyage<span class="token punctuation">.</span>length <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">12</span><span class="token punctuation">)</span> result <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>voyage<span class="token punctuation">.</span>length <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">18</span><span class="token punctuation">)</span> result <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">else</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>history<span class="token punctuation">.</span>length <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">8</span><span class="token punctuation">)</span> result <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>voyage<span class="token punctuation">.</span>length <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">14</span><span class="token punctuation">)</span> result <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>æ‰€ä»¥æˆ‘å…ˆç”¨æç‚¼å‡½æ•°ï¼ˆ106ï¼‰å°†æ•´ä¸ªæ¡ä»¶é€»è¾‘å—æç‚¼å‡ºæ¥ã€‚</p><h4 id="class-rating-3" tabindex="-1"><a class="header-anchor" href="#class-rating-3" aria-hidden="true">#</a> class Rating...</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">get</span> <span class="token function">voyageProfitFactor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>

 <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>voyage<span class="token punctuation">.</span>zone <span class="token operator">===</span> <span class="token string">&quot;china&quot;</span><span class="token punctuation">)</span> result <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>voyage<span class="token punctuation">.</span>zone <span class="token operator">===</span> <span class="token string">&quot;east-indies&quot;</span><span class="token punctuation">)</span> result <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
 result <span class="token operator">+=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>voyageAndHistoryLengthFactor<span class="token punctuation">;</span>
 <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">get</span> <span class="token function">voyageAndHistoryLengthFactor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>voyage<span class="token punctuation">.</span>zone <span class="token operator">===</span> <span class="token string">&quot;china&quot;</span> <span class="token operator">&amp;</span>amp<span class="token punctuation">;</span><span class="token operator">&amp;</span>amp<span class="token punctuation">;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>hasChinaHistory<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  result <span class="token operator">+=</span> <span class="token number">3</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>history<span class="token punctuation">.</span>length <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">10</span><span class="token punctuation">)</span> result <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>voyage<span class="token punctuation">.</span>length <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">12</span><span class="token punctuation">)</span> result <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>voyage<span class="token punctuation">.</span>length <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">18</span><span class="token punctuation">)</span> result <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">else</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>history<span class="token punctuation">.</span>length <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">8</span><span class="token punctuation">)</span> result <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>voyage<span class="token punctuation">.</span>length <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">14</span><span class="token punctuation">)</span> result <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p>å‡½æ•°åä¸­å‡ºç°â€œAndâ€å­—æ ·æ˜¯ä¸€ä¸ªå¾ˆä¸å¥½çš„å‘³é“ï¼Œä¸è¿‡æˆ‘ä¼šæš‚æ—¶å®¹å¿å®ƒï¼Œå…ˆèšç„¦å­ç±»åŒ–æ“ä½œã€‚</p><h4 id="class-rating-4" tabindex="-1"><a class="header-anchor" href="#class-rating-4" aria-hidden="true">#</a> class Rating...</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">get</span> <span class="token function">voyageAndHistoryLengthFactor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>history<span class="token punctuation">.</span>length <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">8</span><span class="token punctuation">)</span> result <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>voyage<span class="token punctuation">.</span>length <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">14</span><span class="token punctuation">)</span> result <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">;</span>
 <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="class-experiencedchinarating" tabindex="-1"><a class="header-anchor" href="#class-experiencedchinarating" aria-hidden="true">#</a> class ExperiencedChinaRating...</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">get</span> <span class="token function">voyageAndHistoryLengthFactor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
 result <span class="token operator">+=</span> <span class="token number">3</span><span class="token punctuation">;</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>history<span class="token punctuation">.</span>length <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">10</span><span class="token punctuation">)</span> result <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>voyage<span class="token punctuation">.</span>length <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">12</span><span class="token punctuation">)</span> result <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>voyage<span class="token punctuation">.</span>length <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">18</span><span class="token punctuation">)</span> result <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">;</span>
 <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>ä¸¥æ ¼è¯´æ¥ï¼Œé‡æ„åˆ°è¿™å„¿å°±ç»“æŸäº†â€”â€”æˆ‘å·²ç»æŠŠå˜ä½“è¡Œä¸ºåˆ†ç¦»åˆ°äº†å­ç±»ä¸­ï¼Œè¶…ç±»çš„é€»è¾‘ç†è§£å’Œç»´æŠ¤èµ·æ¥æ›´ç®€å•äº†ï¼Œåªæœ‰åœ¨è¿›å…¥å­ç±»ä»£ç æ—¶æˆ‘æ‰éœ€è¦æ“å¿ƒå˜ä½“é€»è¾‘ã€‚å­ç±»çš„ä»£ç è¡¨è¿°äº†å®ƒä¸è¶…ç±»çš„å·®å¼‚ã€‚</p><p>ä½†æˆ‘è§‰å¾—è‡³å°‘åº”è¯¥è°ˆè°ˆå¦‚ä½•å¤„ç†è¿™ä¸ªä¸‘é™‹çš„æ–°å‡½æ•°ã€‚å¼•å…¥ä¸€ä¸ªå‡½æ•°ä»¥ä¾¿å­ç±»è¦†å†™ï¼Œè¿™åœ¨å¤„ç†è¿™ç§â€œåŸºç¡€å’Œå˜ä½“â€çš„ç»§æ‰¿å…³ç³»æ—¶æ˜¯å¸¸è§æ“ä½œã€‚ä½†è¿™æ ·ä¸€ä¸ªéš¾çœ‹çš„å‡½æ•°åªä¼šå¦¨ç¢â€”â€”è€Œä¸æ˜¯å¸®åŠ©â€”â€”åˆ«äººç†è§£å…¶ä¸­çš„é€»è¾‘ã€‚</p><p>å‡½æ•°åä¸­çš„â€œAndâ€å­—æ ·è¯´æ˜å…¶ä¸­åŒ…å«äº†ä¸¤ä»¶äº‹ï¼Œæ‰€ä»¥æˆ‘è§‰å¾—åº”è¯¥å°†å®ƒä»¬åˆ†å¼€ã€‚æˆ‘ä¼šç”¨æç‚¼å‡½æ•°ï¼ˆ106ï¼‰æŠŠâ€œå†å²èˆªè¡Œæ•°â€ï¼ˆhistory lengthï¼‰çš„ç›¸å…³é€»è¾‘æç‚¼å‡ºæ¥ã€‚è¿™ä¸€æ­¥æç‚¼åœ¨è¶…ç±»å’Œå­ç±»ä¸­éƒ½è¦å‘ç”Ÿï¼Œæˆ‘é¦–å…ˆä»è¶…ç±»å¼€å§‹ã€‚</p><h4 id="class-rating-5" tabindex="-1"><a class="header-anchor" href="#class-rating-5" aria-hidden="true">#</a> class Rating...</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">get</span> <span class="token function">voyageAndHistoryLengthFactor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
 result <span class="token operator">+=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>historyLengthFactor<span class="token punctuation">;</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>voyage<span class="token punctuation">.</span>length <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">14</span><span class="token punctuation">)</span> result <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">;</span>
 <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">get</span> <span class="token function">historyLengthFactor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>history<span class="token punctuation">.</span>length <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>ç„¶ååœ¨å­ç±»ä¸­ä¹Ÿå¦‚æ³•ç‚®åˆ¶ã€‚</p><h4 id="class-experiencedchinarating-1" tabindex="-1"><a class="header-anchor" href="#class-experiencedchinarating-1" aria-hidden="true">#</a> class ExperiencedChinaRating...</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">get</span> <span class="token function">voyageAndHistoryLengthFactor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
 result <span class="token operator">+=</span> <span class="token number">3</span><span class="token punctuation">;</span>
 result <span class="token operator">+=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>historyLengthFactor<span class="token punctuation">;</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>voyage<span class="token punctuation">.</span>length <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">12</span><span class="token punctuation">)</span> result <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>voyage<span class="token punctuation">.</span>length <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">18</span><span class="token punctuation">)</span> result <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">;</span>
 <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">get</span> <span class="token function">historyLengthFactor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>history<span class="token punctuation">.</span>length <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>ç„¶ååœ¨è¶…ç±»ä¸­ä½¿ç”¨æ¬ç§»è¯­å¥åˆ°è°ƒç”¨è€…ï¼ˆ217ï¼‰ã€‚</p><h4 id="class-rating-6" tabindex="-1"><a class="header-anchor" href="#class-rating-6" aria-hidden="true">#</a> class Rating...</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">get</span> <span class="token function">voyageProfitFactor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>voyage<span class="token punctuation">.</span>zone <span class="token operator">===</span> <span class="token string">&quot;china&quot;</span><span class="token punctuation">)</span> result <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>voyage<span class="token punctuation">.</span>zone <span class="token operator">===</span> <span class="token string">&quot;east-indies&quot;</span><span class="token punctuation">)</span> result <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
 result <span class="token operator">+=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>historyLengthFactor<span class="token punctuation">;</span>
 result <span class="token operator">+=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>voyageAndHistoryLengthFactor<span class="token punctuation">;</span>
 <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">get</span> <span class="token function">voyageAndHistoryLengthFactor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
 result <span class="token operator">+=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>historyLengthFactor<span class="token punctuation">;</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>voyage<span class="token punctuation">.</span>length <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">14</span><span class="token punctuation">)</span> result <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">;</span>
 <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h4 id="class-experiencedchinarating-2" tabindex="-1"><a class="header-anchor" href="#class-experiencedchinarating-2" aria-hidden="true">#</a> class ExperiencedChinaRating...</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">get</span> <span class="token function">voyageAndHistoryLengthFactor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
 result <span class="token operator">+=</span> <span class="token number">3</span><span class="token punctuation">;</span>
 result <span class="token operator">+=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>historyLengthFactor<span class="token punctuation">;</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>voyage<span class="token punctuation">.</span>length <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">12</span><span class="token punctuation">)</span> result <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>voyage<span class="token punctuation">.</span>length <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">18</span><span class="token punctuation">)</span> result <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">;</span>
 <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>å†ç”¨å‡½æ•°æ”¹åï¼ˆ124ï¼‰æ”¹æ‰è¿™ä¸ªéš¾å¬çš„åå­—ã€‚</p><h4 id="class-rating-7" tabindex="-1"><a class="header-anchor" href="#class-rating-7" aria-hidden="true">#</a> class Rating...</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">get</span> <span class="token function">voyageProfitFactor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>voyage<span class="token punctuation">.</span>zone <span class="token operator">===</span> <span class="token string">&quot;china&quot;</span><span class="token punctuation">)</span> result <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>voyage<span class="token punctuation">.</span>zone <span class="token operator">===</span> <span class="token string">&quot;east-indies&quot;</span><span class="token punctuation">)</span> result <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
 result <span class="token operator">+=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>historyLengthFactor<span class="token punctuation">;</span>
 result <span class="token operator">+=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>voyageLengthFactor<span class="token punctuation">;</span>
 <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">get</span> <span class="token function">voyageLengthFactor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>voyage<span class="token punctuation">.</span>length <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">14</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>æ”¹ä¸ºä¸‰å…ƒè¡¨è¾¾å¼ï¼Œä»¥ç®€åŒ– voyageLengthFactor å‡½æ•°ã€‚</p><h4 id="class-experiencedchinarating-3" tabindex="-1"><a class="header-anchor" href="#class-experiencedchinarating-3" aria-hidden="true">#</a> class ExperiencedChinaRating...</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">get</span> <span class="token function">voyageLengthFactor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
 result <span class="token operator">+=</span> <span class="token number">3</span><span class="token punctuation">;</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>voyage<span class="token punctuation">.</span>length <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">12</span><span class="token punctuation">)</span> result <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>voyage<span class="token punctuation">.</span>length <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">18</span><span class="token punctuation">)</span> result <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">;</span>
 <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>æœ€åä¸€ä»¶äº‹ï¼šåœ¨â€œèˆªç¨‹æ•°â€ï¼ˆvoyage lengthï¼‰å› ç´ ä¸ŠåŠ ä¸Š 3 åˆ†ï¼Œæˆ‘è®¤ä¸ºè¿™ä¸ªé€»è¾‘ä¸åˆç†ï¼Œåº”è¯¥æŠŠè¿™ 3 åˆ†åŠ åœ¨æœ€ç»ˆçš„ç»“æœä¸Šã€‚</p><h4 id="class-experiencedchinarating-4" tabindex="-1"><a class="header-anchor" href="#class-experiencedchinarating-4" aria-hidden="true">#</a> class ExperiencedChinaRating...</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">get</span> <span class="token function">voyageProfitFactor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">super</span><span class="token punctuation">.</span>voyageProfitFactor <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">get</span> <span class="token function">voyageLengthFactor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  result <span class="token operator">+=</span> <span class="token number">3</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>voyage<span class="token punctuation">.</span>length <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">12</span><span class="token punctuation">)</span> result <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>voyage<span class="token punctuation">.</span>length <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">18</span><span class="token punctuation">)</span> result <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>é‡æ„ç»“æŸï¼Œæˆ‘å¾—åˆ°äº†å¦‚ä¸‹ä»£ç ã€‚é¦–å…ˆï¼Œæˆ‘æœ‰ä¸€ä¸ªåŸºæœ¬çš„ Rating ç±»ï¼Œå…¶ä¸­ä¸è€ƒè™‘ä¸â€œä¸­å›½ç»éªŒâ€ç›¸å…³çš„å¤æ‚æ€§ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Rating</span> <span class="token punctuation">{</span>
 <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">voyage<span class="token punctuation">,</span> history</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>voyage <span class="token operator">=</span> voyage<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>history <span class="token operator">=</span> history<span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">get</span> <span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> vpf <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>voyageProfitFactor<span class="token punctuation">;</span>
  <span class="token keyword">const</span> vr <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>voyageRisk<span class="token punctuation">;</span>
  <span class="token keyword">const</span> chr <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>captainHistoryRisk<span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>vpf <span class="token operator">*</span> <span class="token number">3</span> <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token punctuation">(</span>vr <span class="token operator">+</span> chr <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">&quot;A&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">else</span> <span class="token keyword">return</span> <span class="token string">&quot;B&quot;</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">get</span> <span class="token function">voyageRisk</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>voyage<span class="token punctuation">.</span>length <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">4</span><span class="token punctuation">)</span> result <span class="token operator">+=</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>voyage<span class="token punctuation">.</span>length <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">8</span><span class="token punctuation">)</span> result <span class="token operator">+=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>voyage<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">8</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;china&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;east-indies&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>voyage<span class="token punctuation">.</span>zone<span class="token punctuation">)</span><span class="token punctuation">)</span> result <span class="token operator">+=</span> <span class="token number">4</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>result<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">get</span> <span class="token function">captainHistoryRisk</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>history<span class="token punctuation">.</span>length <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span> <span class="token number">5</span><span class="token punctuation">)</span> result <span class="token operator">+=</span> <span class="token number">4</span><span class="token punctuation">;</span>
  result <span class="token operator">+=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>v <span class="token operator">=</span><span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> v<span class="token punctuation">.</span>profit <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>
  <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>result<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">get</span> <span class="token function">voyageProfitFactor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>voyage<span class="token punctuation">.</span>zone <span class="token operator">===</span> <span class="token string">&quot;china&quot;</span><span class="token punctuation">)</span> result <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>voyage<span class="token punctuation">.</span>zone <span class="token operator">===</span> <span class="token string">&quot;east-indies&quot;</span><span class="token punctuation">)</span> result <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  result <span class="token operator">+=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>historyLengthFactor<span class="token punctuation">;</span>
  result <span class="token operator">+=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>voyageLengthFactor<span class="token punctuation">;</span>
  <span class="token keyword">return</span> result<span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">get</span> <span class="token function">voyageLengthFactor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>voyage<span class="token punctuation">.</span>length <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">14</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">get</span> <span class="token function">historyLengthFactor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>history<span class="token punctuation">.</span>length <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br></div></div><p>ä¸â€œä¸­å›½ç»éªŒâ€ç›¸å…³çš„ä»£ç åˆ™æ¸…æ™°è¡¨è¿°å‡ºåœ¨åŸºæœ¬é€»è¾‘ä¹‹ä¸Šçš„ä¸€ç³»åˆ—å˜ä½“é€»è¾‘ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">ExperiencedChinaRating</span> <span class="token keyword">extends</span> <span class="token class-name">Rating</span> <span class="token punctuation">{</span>
 <span class="token keyword">get</span> <span class="token function">captainHistoryRisk</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token keyword">super</span><span class="token punctuation">.</span>captainHistoryRisk <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>result<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">get</span> <span class="token function">voyageLengthFactor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>voyage<span class="token punctuation">.</span>length <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">12</span><span class="token punctuation">)</span> result <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>voyage<span class="token punctuation">.</span>length <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">18</span><span class="token punctuation">)</span> result <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> result<span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">get</span> <span class="token function">historyLengthFactor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>history<span class="token punctuation">.</span>length <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">get</span> <span class="token function">voyageProfitFactor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">super</span><span class="token punctuation">.</span>voyageProfitFactor <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h2 id="_10-5-å¼•å…¥ç‰¹ä¾‹-introduce-special-case" tabindex="-1"><a class="header-anchor" href="#_10-5-å¼•å…¥ç‰¹ä¾‹-introduce-special-case" aria-hidden="true">#</a> 10.5 å¼•å…¥ç‰¹ä¾‹ï¼ˆIntroduce Special Caseï¼‰</h2><p>æ›¾ç”¨åï¼šå¼•å…¥ Null å¯¹è±¡ï¼ˆIntroduce Null Objectï¼‰</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>aCustomer <span class="token operator">===</span> <span class="token string">&quot;unknown&quot;</span><span class="token punctuation">)</span> customerName <span class="token operator">=</span> <span class="token string">&quot;occupant&quot;</span><span class="token punctuation">;</span>


<span class="token keyword">class</span> <span class="token class-name">UnknownCustomer</span> <span class="token punctuation">{</span>
  <span class="token keyword">get</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token string">&quot;occupant&quot;</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="åŠ¨æœº-4" tabindex="-1"><a class="header-anchor" href="#åŠ¨æœº-4" aria-hidden="true">#</a> åŠ¨æœº</h3><p>ä¸€ç§å¸¸è§çš„é‡å¤ä»£ç æ˜¯è¿™ç§æƒ…å†µï¼šä¸€ä¸ªæ•°æ®ç»“æ„çš„ä½¿ç”¨è€…éƒ½åœ¨æ£€æŸ¥æŸä¸ªç‰¹æ®Šçš„å€¼ï¼Œå¹¶ä¸”å½“è¿™ä¸ªç‰¹æ®Šå€¼å‡ºç°æ—¶æ‰€åšçš„å¤„ç†ä¹Ÿéƒ½ç›¸åŒã€‚å¦‚æœæˆ‘å‘ç°ä»£ç åº“ä¸­æœ‰å¤šå¤„ä»¥åŒæ ·æ–¹å¼åº”å¯¹åŒä¸€ä¸ªç‰¹æ®Šå€¼ï¼Œæˆ‘å°±ä¼šæƒ³è¦æŠŠè¿™ä¸ªå¤„ç†é€»è¾‘æ”¶æ‹¢åˆ°ä¸€å¤„ã€‚</p><p>å¤„ç†è¿™ç§æƒ…å†µçš„ä¸€ä¸ªå¥½åŠæ³•æ˜¯ä½¿ç”¨â€œç‰¹ä¾‹â€ï¼ˆSpecial Caseï¼‰æ¨¡å¼ï¼šåˆ›å»ºä¸€ä¸ªç‰¹ä¾‹å…ƒç´ ï¼Œç”¨ä»¥è¡¨è¾¾å¯¹è¿™ç§ç‰¹ä¾‹çš„å…±ç”¨è¡Œä¸ºçš„å¤„ç†ã€‚è¿™æ ·æˆ‘å°±å¯ä»¥ç”¨ä¸€ä¸ªå‡½æ•°è°ƒç”¨å–ä»£å¤§éƒ¨åˆ†ç‰¹ä¾‹æ£€æŸ¥é€»è¾‘ã€‚</p><p>ç‰¹ä¾‹æœ‰å‡ ç§è¡¨ç°å½¢å¼ã€‚å¦‚æœæˆ‘åªéœ€è¦ä»è¿™ä¸ªå¯¹è±¡è¯»å–æ•°æ®ï¼Œå¯ä»¥æä¾›ä¸€ä¸ªå­—é¢é‡å¯¹è±¡ï¼ˆliteral objectï¼‰ï¼Œå…¶ä¸­æ‰€æœ‰çš„å€¼éƒ½æ˜¯é¢„å…ˆå¡«å……å¥½çš„ã€‚å¦‚æœé™¤ç®€å•çš„æ•°å€¼ä¹‹å¤–è¿˜éœ€è¦æ›´å¤šçš„è¡Œä¸ºï¼Œå°±éœ€è¦åˆ›å»ºä¸€ä¸ªç‰¹æ®Šå¯¹è±¡ï¼Œå…¶ä¸­åŒ…å«æ‰€æœ‰å…±ç”¨è¡Œä¸ºæ‰€å¯¹åº”çš„å‡½æ•°ã€‚ç‰¹ä¾‹å¯¹è±¡å¯ä»¥ç”±ä¸€ä¸ªå°è£…ç±»æ¥è¿”å›ï¼Œä¹Ÿå¯ä»¥é€šè¿‡å˜æ¢æ’å…¥ä¸€ä¸ªæ•°æ®ç»“æ„ã€‚</p><p>ä¸€ä¸ªé€šå¸¸éœ€è¦ç‰¹ä¾‹å¤„ç†çš„å€¼å°±æ˜¯ nullï¼Œè¿™ä¹Ÿæ˜¯è¿™ä¸ªæ¨¡å¼å¸¸è¢«å«ä½œâ€œNull å¯¹è±¡â€ï¼ˆNull Objectï¼‰æ¨¡å¼çš„åŸå› â€”â€”æˆ‘å–œæ¬¢è¯´ï¼šNull å¯¹è±¡æ˜¯ç‰¹ä¾‹çš„ä¸€ç§ç‰¹ä¾‹ã€‚</p><h3 id="åšæ³•-4" tabindex="-1"><a class="header-anchor" href="#åšæ³•-4" aria-hidden="true">#</a> åšæ³•</h3><p>æˆ‘ä»¬ä»ä¸€ä¸ªä½œä¸ºå®¹å™¨çš„æ•°æ®ç»“æ„ï¼ˆæˆ–è€…ç±»ï¼‰å¼€å§‹ï¼Œå…¶ä¸­åŒ…å«ä¸€ä¸ªå±æ€§ï¼Œè¯¥å±æ€§å°±æ˜¯æˆ‘ä»¬è¦é‡æ„çš„ç›®æ ‡ã€‚å®¹å™¨çš„å®¢æˆ·ç«¯æ¯æ¬¡ä½¿ç”¨è¿™ä¸ªå±æ€§æ—¶ï¼Œéƒ½éœ€è¦å°†å…¶ä¸æŸä¸ªç‰¹ä¾‹å€¼åšæ¯”å¯¹ã€‚æˆ‘ä»¬å¸Œæœ›æŠŠè¿™ä¸ªç‰¹ä¾‹å€¼æ›¿æ¢ä¸ºä»£è¡¨è¿™ç§ç‰¹ä¾‹æƒ…å†µçš„ç±»æˆ–æ•°æ®ç»“æ„ã€‚</p><p>ç»™é‡æ„ç›®æ ‡æ·»åŠ æ£€æŸ¥ç‰¹ä¾‹çš„å±æ€§ï¼Œä»¤å…¶è¿”å› falseã€‚</p><p>åˆ›å»ºä¸€ä¸ªç‰¹ä¾‹å¯¹è±¡ï¼Œå…¶ä¸­åªæœ‰æ£€æŸ¥ç‰¹ä¾‹çš„å±æ€§ï¼Œè¿”å› trueã€‚</p><p>å¯¹â€œä¸ç‰¹ä¾‹å€¼åšæ¯”å¯¹â€çš„ä»£ç è¿ç”¨æç‚¼å‡½æ•°ï¼ˆ106ï¼‰ï¼Œç¡®ä¿æ‰€æœ‰å®¢æˆ·ç«¯éƒ½ä½¿ç”¨è¿™ä¸ªæ–°å‡½æ•°ï¼Œè€Œä¸å†ç›´æ¥åšç‰¹ä¾‹å€¼çš„æ¯”å¯¹ã€‚</p><p>å°†æ–°çš„ç‰¹ä¾‹å¯¹è±¡å¼•å…¥ä»£ç ä¸­ï¼Œå¯ä»¥ä»å‡½æ•°è°ƒç”¨ä¸­è¿”å›ï¼Œä¹Ÿå¯ä»¥åœ¨å˜æ¢å‡½æ•°ä¸­ç”Ÿæˆã€‚</p><p>ä¿®æ”¹ç‰¹ä¾‹æ¯”å¯¹å‡½æ•°çš„ä¸»ä½“ï¼Œåœ¨å…¶ä¸­ç›´æ¥ä½¿ç”¨æ£€æŸ¥ç‰¹ä¾‹çš„å±æ€§ã€‚</p><p>æµ‹è¯•ã€‚</p><p>ä½¿ç”¨å‡½æ•°ç»„åˆæˆç±»ï¼ˆ144ï¼‰æˆ–å‡½æ•°ç»„åˆæˆå˜æ¢ï¼ˆ149ï¼‰ï¼ŒæŠŠé€šç”¨çš„ç‰¹ä¾‹å¤„ç†é€»è¾‘éƒ½æ¬ç§»åˆ°æ–°å»ºçš„ç‰¹ä¾‹å¯¹è±¡ä¸­ã€‚</p><p>ç‰¹ä¾‹ç±»å¯¹äºç®€å•çš„è¯·æ±‚é€šå¸¸ä¼šè¿”å›å›ºå®šçš„å€¼ï¼Œå› æ­¤å¯ä»¥å°†å…¶å®ç°ä¸ºå­—é¢è®°å½•ï¼ˆliteral recordï¼‰ã€‚</p><p>å¯¹ç‰¹ä¾‹æ¯”å¯¹å‡½æ•°ä½¿ç”¨å†…è”å‡½æ•°ï¼ˆ115ï¼‰ï¼Œå°†å…¶å†…è”åˆ°ä»ç„¶éœ€è¦çš„åœ°æ–¹ã€‚</p><h3 id="èŒƒä¾‹-4" tabindex="-1"><a class="header-anchor" href="#èŒƒä¾‹-4" aria-hidden="true">#</a> èŒƒä¾‹</h3><p>ä¸€å®¶æä¾›å…¬å…±äº‹ä¸šæœåŠ¡çš„å…¬å¸å°†è‡ªå·±çš„æœåŠ¡å®‰è£…åœ¨å„ä¸ªåœºæ‰€ï¼ˆsiteï¼‰ã€‚</p><h4 id="class-site" tabindex="-1"><a class="header-anchor" href="#class-site" aria-hidden="true">#</a> class Site...</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">get</span> <span class="token function">customer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_customer<span class="token punctuation">;</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>ä»£è¡¨â€œé¡¾å®¢â€çš„ Customer ç±»æœ‰å¤šä¸ªå±æ€§ï¼Œæˆ‘åªè€ƒè™‘å…¶ä¸­ 3 ä¸ªã€‚</p><h4 id="class-customer" tabindex="-1"><a class="header-anchor" href="#class-customer" aria-hidden="true">#</a> class Customer...</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">get</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span>           <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span>
<span class="token keyword">get</span> <span class="token function">billingPlan</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span>
<span class="token keyword">set</span> <span class="token function">billingPlan</span><span class="token punctuation">(</span><span class="token parameter">arg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span>
<span class="token keyword">get</span> <span class="token function">paymentHistory</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œä¸€ä¸ªåœºæ‰€ä¼šå¯¹åº”ä¸€ä¸ªé¡¾å®¢ï¼Œä½†æœ‰äº›åœºæ‰€æ²¡æœ‰ä¸ä¹‹å¯¹åº”çš„é¡¾å®¢ï¼Œå¯èƒ½æ˜¯å› ä¸ºä¹‹å‰çš„ä½æˆ·æ¬èµ°äº†ï¼Œè€Œæ–°æ¬æ¥çš„ä½æˆ·æˆ‘è¿˜ä¸çŸ¥é“æ˜¯è°ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œæ•°æ®è®°å½•ä¸­çš„ customer å­—æ®µä¼šè¢«å¡«å……ä¸ºå­—ç¬¦ä¸²&quot;unknown&quot;ã€‚å› ä¸ºè¿™ç§æƒ…å†µæ—¶æœ‰å‘ç”Ÿï¼Œæ‰€ä»¥ Site å¯¹è±¡çš„å®¢æˆ·ç«¯å¿…é¡»æœ‰åŠæ³•å¤„ç†â€œé¡¾å®¢æœªçŸ¥â€çš„æƒ…å†µã€‚ä¸‹é¢æ˜¯ä¸€äº›ç¤ºä¾‹ä»£ç ç‰‡æ®µã€‚</p><h4 id="å®¢æˆ·ç«¯-1" tabindex="-1"><a class="header-anchor" href="#å®¢æˆ·ç«¯-1" aria-hidden="true">#</a> å®¢æˆ·ç«¯ 1...</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> aCustomer <span class="token operator">=</span> site<span class="token punctuation">.</span>customer<span class="token punctuation">;</span>
<span class="token comment">// ... lots of intervening code ...</span>
<span class="token keyword">let</span> customerName<span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>aCustomer <span class="token operator">===</span> <span class="token string">&quot;unknown&quot;</span><span class="token punctuation">)</span> customerName <span class="token operator">=</span> <span class="token string">&quot;occupant&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">else</span> customerName <span class="token operator">=</span> aCustomer<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="å®¢æˆ·ç«¯-2" tabindex="-1"><a class="header-anchor" href="#å®¢æˆ·ç«¯-2" aria-hidden="true">#</a> å®¢æˆ·ç«¯ 2...</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> plan <span class="token operator">=</span>
  aCustomer <span class="token operator">===</span> <span class="token string">&quot;unknown&quot;</span> <span class="token operator">?</span> registry<span class="token punctuation">.</span>billingPlans<span class="token punctuation">.</span>basic <span class="token operator">:</span> aCustomer<span class="token punctuation">.</span>billingPlan<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="å®¢æˆ·ç«¯-3" tabindex="-1"><a class="header-anchor" href="#å®¢æˆ·ç«¯-3" aria-hidden="true">#</a> å®¢æˆ·ç«¯ 3...</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>aCustomer <span class="token operator">!==</span> <span class="token string">&quot;unknown&quot;</span><span class="token punctuation">)</span> aCustomer<span class="token punctuation">.</span>billingPlan <span class="token operator">=</span> newPlan<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="å®¢æˆ·ç«¯-4" tabindex="-1"><a class="header-anchor" href="#å®¢æˆ·ç«¯-4" aria-hidden="true">#</a> å®¢æˆ·ç«¯ 4...</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> weeksDelinquent <span class="token operator">=</span>
  aCustomer <span class="token operator">===</span> <span class="token string">&quot;unknown&quot;</span>
    <span class="token operator">?</span> <span class="token number">0</span>
    <span class="token operator">:</span> aCustomer<span class="token punctuation">.</span>paymentHistory<span class="token punctuation">.</span>weeksDelinquentInLastYear<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>æµè§ˆæ•´ä¸ªä»£ç åº“ï¼Œæˆ‘çœ‹åˆ°æœ‰å¾ˆå¤šä½¿ç”¨ Site å¯¹è±¡çš„å®¢æˆ·ç«¯åœ¨å¤„ç†â€œé¡¾å®¢æœªçŸ¥â€çš„æƒ…å†µï¼Œå¤§å¤šæ•°éƒ½ç”¨äº†åŒæ ·çš„åº”å¯¹æ–¹å¼ï¼šç”¨&quot;occupant&quot;ï¼ˆå±…æ°‘ï¼‰ä½œä¸ºé¡¾å®¢åï¼Œä½¿ç”¨åŸºæœ¬çš„è®¡ä»·å¥—é¤ï¼Œå¹¶è®¤ä¸ºè¿™å®¶é¡¾å®¢æ²¡æœ‰æ¬ è´¹ã€‚åˆ°å¤„éƒ½åœ¨æ£€æŸ¥è¿™ç§ç‰¹ä¾‹ï¼Œå†åŠ ä¸Šå¯¹ç‰¹ä¾‹çš„å¤„ç†æ–¹å¼é«˜åº¦ä¸€è‡´ï¼Œè¿™äº›ç°è±¡å‘Šè¯‰æˆ‘ï¼šæ˜¯æ—¶å€™ä½¿ç”¨ç‰¹ä¾‹å¯¹è±¡ï¼ˆSpecial Case Objectï¼‰æ¨¡å¼äº†ã€‚</p><p>æˆ‘é¦–å…ˆç»™ Customer æ·»åŠ ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºæŒ‡ç¤ºâ€œè¿™ä¸ªé¡¾å®¢æ˜¯å¦æœªçŸ¥â€ã€‚</p><h4 id="class-customer-1" tabindex="-1"><a class="header-anchor" href="#class-customer-1" aria-hidden="true">#</a> class Customer...</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">get</span> <span class="token function">isUnknown</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>ç„¶åæˆ‘ç»™â€œæœªçŸ¥çš„é¡¾å®¢â€ä¸“é—¨åˆ›å»ºä¸€ä¸ªç±»ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">UnknownCustomer</span> <span class="token punctuation">{</span>
  <span class="token keyword">get</span> <span class="token function">isUnknown</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>æ³¨æ„ï¼Œæˆ‘æ²¡æœ‰æŠŠ UnknownCustomer ç±»å£°æ˜ä¸º Customer çš„å­ç±»ã€‚åœ¨å…¶ä»–ç¼–ç¨‹è¯­è¨€ï¼ˆå°¤å…¶æ˜¯é™æ€ç±»å‹çš„ç¼–ç¨‹è¯­è¨€ï¼‰ä¸­ï¼Œæˆ‘ä¼šéœ€è¦ç»§æ‰¿å…³ç³»ã€‚ä½† JavaScript æ˜¯ä¸€ç§åŠ¨æ€ç±»å‹è¯­è¨€ï¼ŒæŒ‰ç…§å®ƒçš„å­ç±»åŒ–è§„åˆ™ï¼Œè¿™é‡Œä¸å£°æ˜ç»§æ‰¿å…³ç³»åè€Œæ›´å¥½ã€‚</p><p>ä¸‹é¢å°±æ˜¯éº»çƒ¦ä¹‹å¤„äº†ã€‚æˆ‘å¿…é¡»åœ¨æ‰€æœ‰æœŸæœ›å¾—åˆ°&quot;unknown&quot;å€¼çš„åœ°æ–¹è¿”å›è¿™ä¸ªæ–°çš„ç‰¹ä¾‹å¯¹è±¡ï¼Œå¹¶ä¿®æ”¹æ‰€æœ‰æ£€æŸ¥&quot;unknown&quot;å€¼çš„åœ°æ–¹ï¼Œä»¤å…¶ä½¿ç”¨æ–°çš„ isUnknown å‡½æ•°ã€‚ä¸€èˆ¬è€Œè¨€ï¼Œæˆ‘æ€»æ˜¯å¸Œæœ›ç»†å¿ƒå®‰æ’ä¿®æ”¹è¿‡ç¨‹ï¼Œä½¿æˆ‘å¯ä»¥æ¯æ¬¡åšä¸€ç‚¹å°ä¿®æ”¹ï¼Œç„¶åé©¬ä¸Šæµ‹è¯•ã€‚ä½†å¦‚æœæˆ‘ä¿®æ”¹äº† Customer ç±»ï¼Œä½¿å…¶è¿”å› UnknownCustomer å¯¹è±¡ï¼ˆè€Œé&quot;unknown&quot;å­—ç¬¦ä¸²ï¼‰ï¼Œé‚£ä¹ˆå°±å¿…é¡»åŒæ—¶ä¿®æ”¹æ‰€æœ‰å®¢æˆ·ç«¯ï¼Œè®©å®ƒä»¬ä¸è¦æ£€æŸ¥&quot;unknown&quot;å­—ç¬¦ä¸²ï¼Œè€Œæ˜¯è°ƒç”¨ isUnknown å‡½æ•°â€”â€”è¿™ä¸¤ä¸ªä¿®æ”¹å¿…é¡»ä¸€æ¬¡å®Œæˆã€‚æˆ‘æ„Ÿè§‰è¿™ä¸€å¤§æ­¥ä¿®æ”¹å°±åƒä¸€å¤§å—éš¾åƒçš„é£Ÿç‰©ä¸€æ ·éš¾ä»¥ä¸‹å’½ã€‚</p><p>è¿˜å¥½ï¼Œé‡åˆ°è¿™ç§å›°å¢ƒæ—¶ï¼Œæœ‰ä¸€ä¸ªå¸¸ç”¨çš„æŠ€å·§å¯ä»¥å¸®å¿™ã€‚å¦‚æœæœ‰ä¸€æ®µä»£ç éœ€è¦åœ¨å¾ˆå¤šåœ°æ–¹åšä¿®æ”¹ï¼ˆä¾‹å¦‚æˆ‘ä»¬è¿™é‡Œçš„â€œä¸ç‰¹ä¾‹åšæ¯”å¯¹â€çš„ä»£ç ï¼‰ï¼Œæˆ‘ä¼šå…ˆå¯¹å…¶ä½¿ç”¨æç‚¼å‡½æ•°ï¼ˆ106ï¼‰ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">isUnknown</span><span class="token punctuation">(</span><span class="token parameter">arg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>arg <span class="token keyword">instanceof</span> <span class="token class-name">Customer</span> <span class="token operator">||</span> arg <span class="token operator">===</span> <span class="token string">&quot;unknown&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">investigate bad value: &amp;lt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>arg<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&amp;gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> arg <span class="token operator">===</span> <span class="token string">&quot;unknown&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>æˆ‘ä¼šæ”¾ä¸€ä¸ªé™·é˜±ï¼Œæ•æ‰æ„æ–™ä¹‹å¤–çš„å€¼ã€‚å¦‚æœåœ¨é‡æ„è¿‡ç¨‹ä¸­æˆ‘çŠ¯äº†é”™è¯¯ï¼Œå¼•å…¥äº†å¥‡æ€ªçš„è¡Œä¸ºï¼Œè¿™ä¸ªé™·é˜±ä¼šå¸®æˆ‘å‘ç°ã€‚</p><p>ç°åœ¨ï¼Œå‡¡æ˜¯æ£€æŸ¥æœªçŸ¥é¡¾å®¢çš„åœ°æ–¹ï¼Œéƒ½å¯ä»¥æ”¹ç”¨è¿™ä¸ªå‡½æ•°äº†ã€‚æˆ‘å¯ä»¥é€ä¸€ä¿®æ”¹è¿™äº›åœ°æ–¹ï¼Œæ¯æ¬¡ä¿®æ”¹ä¹‹åéƒ½å¯ä»¥æ‰§è¡Œæµ‹è¯•ã€‚</p><h4 id="å®¢æˆ·ç«¯-1-1" tabindex="-1"><a class="header-anchor" href="#å®¢æˆ·ç«¯-1-1" aria-hidden="true">#</a> å®¢æˆ·ç«¯ 1...</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> customerName<span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isUnknown</span><span class="token punctuation">(</span>aCustomer<span class="token punctuation">)</span><span class="token punctuation">)</span> customerName <span class="token operator">=</span> <span class="token string">&quot;occupant&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">else</span> customerName <span class="token operator">=</span> aCustomer<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>æ²¡ç”¨å¤šä¹…ï¼Œå°±å…¨éƒ¨ä¿®æ”¹å®Œäº†ã€‚</p><h4 id="å®¢æˆ·ç«¯-2-1" tabindex="-1"><a class="header-anchor" href="#å®¢æˆ·ç«¯-2-1" aria-hidden="true">#</a> å®¢æˆ·ç«¯ 2...</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> plan <span class="token operator">=</span> <span class="token function">isUnknown</span><span class="token punctuation">(</span>aCustomer<span class="token punctuation">)</span>
  <span class="token operator">?</span> registry<span class="token punctuation">.</span>billingPlans<span class="token punctuation">.</span>basic
  <span class="token operator">:</span> aCustomer<span class="token punctuation">.</span>billingPlan<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="å®¢æˆ·ç«¯-3-1" tabindex="-1"><a class="header-anchor" href="#å®¢æˆ·ç«¯-3-1" aria-hidden="true">#</a> å®¢æˆ·ç«¯ 3...</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isUnknown</span><span class="token punctuation">(</span>aCustomer<span class="token punctuation">)</span><span class="token punctuation">)</span> aCustomer<span class="token punctuation">.</span>billingPlan <span class="token operator">=</span> newPlan<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="å®¢æˆ·ç«¯-4-1" tabindex="-1"><a class="header-anchor" href="#å®¢æˆ·ç«¯-4-1" aria-hidden="true">#</a> å®¢æˆ·ç«¯ 4...</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> weeksDelinquent <span class="token operator">=</span> <span class="token function">isUnknown</span><span class="token punctuation">(</span>aCustomer<span class="token punctuation">)</span>
  <span class="token operator">?</span> <span class="token number">0</span>
  <span class="token operator">:</span> aCustomer<span class="token punctuation">.</span>paymentHistory<span class="token punctuation">.</span>weeksDelinquentInLastYear<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>å°†æ‰€æœ‰è°ƒç”¨å¤„éƒ½æ”¹ä¸ºä½¿ç”¨ isUnknown å‡½æ•°ä¹‹åï¼Œå°±å¯ä»¥ä¿®æ”¹ Site ç±»ï¼Œä»¤å…¶åœ¨é¡¾å®¢æœªçŸ¥æ—¶è¿”å› UnknownCustomer å¯¹è±¡ã€‚</p><h4 id="class-site-1" tabindex="-1"><a class="header-anchor" href="#class-site-1" aria-hidden="true">#</a> class Site...</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">get</span> <span class="token function">customer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_customer <span class="token operator">===</span> <span class="token string">&quot;unknown&quot;</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token keyword">new</span> <span class="token class-name">UnknownCustomer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_customer<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>ç„¶åä¿®æ”¹ isUnknown å‡½æ•°çš„åˆ¤æ–­é€»è¾‘ã€‚åšå®Œè¿™æ­¥ä¿®æ”¹ä¹‹åæˆ‘å¯ä»¥åšä¸€æ¬¡å…¨æ–‡æœç´¢ï¼Œåº”è¯¥æ²¡æœ‰ä»»ä½•åœ°æ–¹ä½¿ç”¨&quot;unknown&quot;å­—ç¬¦ä¸²äº†ã€‚</p><h4 id="å®¢æˆ·ç«¯-1-2" tabindex="-1"><a class="header-anchor" href="#å®¢æˆ·ç«¯-1-2" aria-hidden="true">#</a> å®¢æˆ·ç«¯ 1...</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">isUnknown</span><span class="token punctuation">(</span><span class="token parameter">arg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>arg <span class="token keyword">instanceof</span> <span class="token class-name">Customer</span> <span class="token operator">||</span> arg <span class="token keyword">instanceof</span> <span class="token class-name">UnknownCustomer</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">investigate bad value: &amp;lt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>arg<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&amp;gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> arg<span class="token punctuation">.</span>isUnknown<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>æµ‹è¯•ï¼Œä»¥ç¡®ä¿ä¸€åˆ‡è¿è½¬å¦‚å¸¸ã€‚</p><p>ç°åœ¨ï¼Œæœ‰è¶£çš„éƒ¨åˆ†å¼€å§‹äº†ã€‚æˆ‘å¯ä»¥é€ä¸€æŸ¥çœ‹å®¢æˆ·ç«¯æ£€æŸ¥ç‰¹ä¾‹çš„ä»£ç ï¼Œçœ‹å®ƒä»¬å¤„ç†ç‰¹ä¾‹çš„é€»è¾‘ï¼Œå¹¶è€ƒè™‘æ˜¯å¦èƒ½ç”¨å‡½æ•°ç»„åˆæˆç±»ï¼ˆ144ï¼‰å°†å…¶æ›¿æ¢ä¸ºä¸€ä¸ªå…±åŒçš„ã€ç¬¦åˆé¢„æœŸçš„å€¼ã€‚æ­¤åˆ»ï¼Œæœ‰å¤šå¤„å®¢æˆ·ç«¯ä»£ç ç”¨å­—ç¬¦ä¸²&quot;occupant&quot;æ¥ä½œä¸ºæœªçŸ¥é¡¾å®¢çš„åå­—ï¼Œå°±åƒä¸‹é¢è¿™æ ·ã€‚</p><h4 id="å®¢æˆ·ç«¯-1-3" tabindex="-1"><a class="header-anchor" href="#å®¢æˆ·ç«¯-1-3" aria-hidden="true">#</a> å®¢æˆ·ç«¯ 1...</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> customerName<span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isUnknown</span><span class="token punctuation">(</span>aCustomer<span class="token punctuation">)</span><span class="token punctuation">)</span> customerName <span class="token operator">=</span> <span class="token string">&quot;occupant&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">else</span> customerName <span class="token operator">=</span> aCustomer<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>æˆ‘å¯ä»¥åœ¨ UnknownCustomer ç±»ä¸­æ·»åŠ ä¸€ä¸ªåˆé€‚çš„å‡½æ•°ã€‚</p><h4 id="class-unknowncustomer" tabindex="-1"><a class="header-anchor" href="#class-unknowncustomer" aria-hidden="true">#</a> class UnknownCustomer...</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">get</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token string">&quot;occupant&quot;</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>ç„¶åæˆ‘å°±å¯ä»¥å»æ‰æ‰€æœ‰æ¡ä»¶ä»£ç ã€‚</p><h4 id="å®¢æˆ·ç«¯-1-4" tabindex="-1"><a class="header-anchor" href="#å®¢æˆ·ç«¯-1-4" aria-hidden="true">#</a> å®¢æˆ·ç«¯ 1...</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> customerName <span class="token operator">=</span> aCustomer<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>æµ‹è¯•é€šè¿‡ä¹‹åï¼Œæˆ‘å¯èƒ½ä¼šç”¨å†…è”å˜é‡ï¼ˆ123ï¼‰æŠŠ customerName å˜é‡ä¹Ÿæ¶ˆé™¤æ‰ã€‚</p><p>æ¥ä¸‹æ¥å¤„ç†ä»£è¡¨â€œè®¡ä»·å¥—é¤â€çš„ billingPlan å±æ€§ã€‚</p><h4 id="å®¢æˆ·ç«¯-2-2" tabindex="-1"><a class="header-anchor" href="#å®¢æˆ·ç«¯-2-2" aria-hidden="true">#</a> å®¢æˆ·ç«¯ 2...</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> plan <span class="token operator">=</span> <span class="token function">isUnknown</span><span class="token punctuation">(</span>aCustomer<span class="token punctuation">)</span>
  <span class="token operator">?</span> registry<span class="token punctuation">.</span>billingPlans<span class="token punctuation">.</span>basic
  <span class="token operator">:</span> aCustomer<span class="token punctuation">.</span>billingPlan<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="å®¢æˆ·ç«¯-3-2" tabindex="-1"><a class="header-anchor" href="#å®¢æˆ·ç«¯-3-2" aria-hidden="true">#</a> å®¢æˆ·ç«¯ 3...</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isUnknown</span><span class="token punctuation">(</span>aCustomer<span class="token punctuation">)</span><span class="token punctuation">)</span> aCustomer<span class="token punctuation">.</span>billingPlan <span class="token operator">=</span> newPlan<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>å¯¹äºè¯»å–è¯¥å±æ€§çš„è¡Œä¸ºï¼Œæˆ‘çš„å¤„ç†æ–¹æ³•è·Ÿå‰é¢å¤„ç† name å±æ€§ä¸€æ ·â€”â€”æ‰¾åˆ°é€šç”¨çš„åº”å¯¹æ–¹å¼ï¼Œå¹¶åœ¨ UnknownCustomer ä¸­ä½¿ç”¨ä¹‹ã€‚è‡³äºå¯¹è¯¥å±æ€§çš„å†™æ“ä½œï¼Œå½“å‰çš„ä»£ç æ²¡æœ‰å¯¹æœªçŸ¥é¡¾å®¢è°ƒç”¨è¿‡è®¾å€¼å‡½æ•°ï¼Œæ‰€ä»¥åœ¨ç‰¹ä¾‹å¯¹è±¡ä¸­ï¼Œæˆ‘ä¼šä¿ç•™è®¾å€¼å‡½æ•°ï¼Œä½†å…¶ä¸­ä»€ä¹ˆéƒ½ä¸åšã€‚</p><h4 id="class-unknowncustomer-1" tabindex="-1"><a class="header-anchor" href="#class-unknowncustomer-1" aria-hidden="true">#</a> class UnknownCustomer...</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">get</span> <span class="token function">billingPlan</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token punctuation">{</span><span class="token keyword">return</span> registry<span class="token punctuation">.</span>billingPlans<span class="token punctuation">.</span>basic<span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">set</span> <span class="token function">billingPlan</span><span class="token punctuation">(</span><span class="token parameter">arg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ignore */</span> <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="è¯»å–çš„ä¾‹å­" tabindex="-1"><a class="header-anchor" href="#è¯»å–çš„ä¾‹å­" aria-hidden="true">#</a> è¯»å–çš„ä¾‹å­...</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> plan <span class="token operator">=</span> aCustomer<span class="token punctuation">.</span>billingPlan<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="æ›´æ–°çš„ä¾‹å­" tabindex="-1"><a class="header-anchor" href="#æ›´æ–°çš„ä¾‹å­" aria-hidden="true">#</a> æ›´æ–°çš„ä¾‹å­...</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>aCustomer<span class="token punctuation">.</span>billingPlan <span class="token operator">=</span> newPlan<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>ç‰¹ä¾‹å¯¹è±¡æ˜¯å€¼å¯¹è±¡ï¼Œå› æ­¤åº”è¯¥å§‹ç»ˆæ˜¯ä¸å¯å˜çš„ï¼Œå³ä¾¿å®ƒä»¬æ›¿ä»£çš„åŸå¯¹è±¡æœ¬èº«æ˜¯å¯å˜çš„ã€‚</p><p>æœ€åä¸€ä¸ªä¾‹å­åˆ™æ›´éº»çƒ¦ä¸€äº›ï¼Œå› ä¸ºç‰¹ä¾‹å¯¹è±¡éœ€è¦è¿”å›å¦ä¸€ä¸ªå¯¹è±¡ï¼Œåè€…åˆæœ‰å…¶è‡ªå·±çš„å±æ€§ã€‚</p><h4 id="å®¢æˆ·ç«¯" tabindex="-1"><a class="header-anchor" href="#å®¢æˆ·ç«¯" aria-hidden="true">#</a> å®¢æˆ·ç«¯...</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> weeksDelinquent <span class="token operator">=</span> <span class="token function">isUnknown</span><span class="token punctuation">(</span>aCustomer<span class="token punctuation">)</span>
  <span class="token operator">?</span> <span class="token number">0</span>
  <span class="token operator">:</span> aCustomer<span class="token punctuation">.</span>paymentHistory<span class="token punctuation">.</span>weeksDelinquentInLastYear<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>ä¸€èˆ¬çš„åŸåˆ™æ˜¯ï¼šå¦‚æœç‰¹ä¾‹å¯¹è±¡éœ€è¦è¿”å›å…³è”å¯¹è±¡ï¼Œè¢«è¿”å›çš„é€šå¸¸ä¹Ÿæ˜¯ç‰¹ä¾‹å¯¹è±¡ã€‚æ‰€ä»¥ï¼Œæˆ‘éœ€è¦åˆ›å»ºä¸€ä¸ªä»£è¡¨â€œç©ºæ”¯ä»˜è®°å½•â€çš„ç‰¹ä¾‹ç±» NullPaymentHistoryã€‚</p><h4 id="class-unknowncustomer-2" tabindex="-1"><a class="header-anchor" href="#class-unknowncustomer-2" aria-hidden="true">#</a> class UnknownCustomer...</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">get</span> <span class="token function">paymentHistory</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">NullPaymentHistory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="class-nullpaymenthistory" tabindex="-1"><a class="header-anchor" href="#class-nullpaymenthistory" aria-hidden="true">#</a> class NullPaymentHistory...</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">get</span> <span class="token function">weeksDelinquentInLastYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="å®¢æˆ·ç«¯-5" tabindex="-1"><a class="header-anchor" href="#å®¢æˆ·ç«¯-5" aria-hidden="true">#</a> å®¢æˆ·ç«¯...</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> weeksDelinquent <span class="token operator">=</span> aCustomer<span class="token punctuation">.</span>paymentHistory<span class="token punctuation">.</span>weeksDelinquentInLastYear<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>æˆ‘ç»§ç»­æŸ¥çœ‹å®¢æˆ·ç«¯ä»£ç ï¼Œå¯»æ‰¾æ˜¯å¦æœ‰èƒ½ç”¨å¤šæ€è¡Œä¸ºå–ä»£çš„åœ°æ–¹ã€‚ä½†ä¹Ÿä¼šæœ‰ä¾‹å¤–æƒ…å†µâ€”â€”å®¢æˆ·ç«¯ä¸æƒ³ä½¿ç”¨ç‰¹ä¾‹å¯¹è±¡æä¾›çš„é€»è¾‘ï¼Œè€Œæ˜¯æƒ³åšä¸€äº›åˆ«çš„å¤„ç†ã€‚æˆ‘å¯èƒ½æœ‰ 23 å¤„å®¢æˆ·ç«¯ä»£ç ç”¨&quot;occupant&quot;ä½œä¸ºæœªçŸ¥é¡¾å®¢çš„åå­—ï¼Œä½†è¿˜æœ‰ä¸€å¤„ç”¨äº†åˆ«çš„å€¼ã€‚</p><h4 id="å®¢æˆ·ç«¯-6" tabindex="-1"><a class="header-anchor" href="#å®¢æˆ·ç«¯-6" aria-hidden="true">#</a> å®¢æˆ·ç«¯...</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token operator">!</span><span class="token function">isUnknown</span><span class="token punctuation">(</span>aCustomer<span class="token punctuation">)</span> <span class="token operator">?</span> aCustomer<span class="token punctuation">.</span>name <span class="token operator">:</span> <span class="token string">&quot;unknown occupant&quot;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘åªèƒ½åœ¨å®¢æˆ·ç«¯ä¿ç•™ç‰¹ä¾‹æ£€æŸ¥çš„é€»è¾‘ã€‚æˆ‘ä¼šå¯¹å…¶åšäº›ä¿®æ”¹ï¼Œè®©å®ƒä½¿ç”¨ aCustomer å¯¹è±¡èº«ä¸Šçš„ isUnknown å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯å¯¹å…¨å±€çš„ isUnknown å‡½æ•°ä½¿ç”¨å†…è”å‡½æ•°ï¼ˆ115ï¼‰ã€‚</p><h4 id="å®¢æˆ·ç«¯-7" tabindex="-1"><a class="header-anchor" href="#å®¢æˆ·ç«¯-7" aria-hidden="true">#</a> å®¢æˆ·ç«¯...</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> name <span class="token operator">=</span> aCustomer<span class="token punctuation">.</span>isUnknown <span class="token operator">?</span> <span class="token string">&quot;unknown occupant&quot;</span> <span class="token operator">:</span> aCustomer<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>å¤„ç†å®Œæ‰€æœ‰å®¢æˆ·ç«¯ä»£ç åï¼Œå…¨å±€çš„ isUnknown å‡½æ•°åº”è¯¥æ²¡äººå†è°ƒç”¨äº†ï¼Œå¯ä»¥ç”¨ç§»é™¤æ­»ä»£ç ï¼ˆ237ï¼‰å°†å…¶ç§»é™¤ã€‚</p><h3 id="èŒƒä¾‹-ä½¿ç”¨å¯¹è±¡å­—é¢é‡" tabindex="-1"><a class="header-anchor" href="#èŒƒä¾‹-ä½¿ç”¨å¯¹è±¡å­—é¢é‡" aria-hidden="true">#</a> èŒƒä¾‹ï¼šä½¿ç”¨å¯¹è±¡å­—é¢é‡</h3><p>æˆ‘ä»¬åœ¨ä¸Šé¢å¤„ç†çš„å…¶å®æ˜¯ä¸€äº›å¾ˆç®€å•çš„å€¼ï¼Œå´è¦åˆ›å»ºä¸€ä¸ªè¿™æ ·çš„ç±»ï¼Œæœªå…æœ‰ç‚¹å„¿å¤§åŠ¨å¹²æˆˆã€‚ä½†åœ¨ä¸Šé¢è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘å¿…é¡»åˆ›å»ºè¿™æ ·ä¸€ä¸ªç±»ï¼Œå› ä¸º Customer ç±»æ˜¯å…è®¸ä½¿ç”¨è€…æ›´æ–°å…¶å†…å®¹çš„ã€‚ä½†å¦‚æœé¢å¯¹ä¸€ä¸ªåªè¯»çš„æ•°æ®ç»“æ„ï¼Œæˆ‘å°±å¯ä»¥æ”¹ç”¨å­—é¢é‡å¯¹è±¡ï¼ˆliteral objectï¼‰ã€‚</p><p>è¿˜æ˜¯å‰é¢è¿™ä¸ªä¾‹å­â€”â€”å‡ ä¹å®Œå…¨ä¸€æ ·ï¼Œé™¤äº†ä¸€ä»¶äº‹ï¼šè¿™æ¬¡æ²¡æœ‰å®¢æˆ·ç«¯å¯¹ Customer å¯¹è±¡åšæ›´æ–°æ“ä½œï¼š</p><h4 id="class-site-2" tabindex="-1"><a class="header-anchor" href="#class-site-2" aria-hidden="true">#</a> class Site...</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">get</span> <span class="token function">customer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_customer<span class="token punctuation">;</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="class-customer-2" tabindex="-1"><a class="header-anchor" href="#class-customer-2" aria-hidden="true">#</a> class Customer...</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">get</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span>           <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span>
<span class="token keyword">get</span> <span class="token function">billingPlan</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span>
<span class="token keyword">set</span> <span class="token function">billingPlan</span><span class="token punctuation">(</span><span class="token parameter">arg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span>
<span class="token keyword">get</span> <span class="token function">paymentHistory</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="å®¢æˆ·ç«¯-1-5" tabindex="-1"><a class="header-anchor" href="#å®¢æˆ·ç«¯-1-5" aria-hidden="true">#</a> å®¢æˆ·ç«¯ 1...</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> aCustomer <span class="token operator">=</span> site<span class="token punctuation">.</span>customer<span class="token punctuation">;</span>
<span class="token comment">// ... lots of intervening code ...</span>
<span class="token keyword">let</span> customerName<span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>aCustomer <span class="token operator">===</span> <span class="token string">&quot;unknown&quot;</span><span class="token punctuation">)</span> customerName <span class="token operator">=</span> <span class="token string">&quot;occupant&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">else</span> customerName <span class="token operator">=</span> aCustomer<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="å®¢æˆ·ç«¯-2-3" tabindex="-1"><a class="header-anchor" href="#å®¢æˆ·ç«¯-2-3" aria-hidden="true">#</a> å®¢æˆ·ç«¯ 2...</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> plan <span class="token operator">=</span>
  aCustomer <span class="token operator">===</span> <span class="token string">&quot;unknown&quot;</span> <span class="token operator">?</span> registry<span class="token punctuation">.</span>billingPlans<span class="token punctuation">.</span>basic <span class="token operator">:</span> aCustomer<span class="token punctuation">.</span>billingPlan<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="å®¢æˆ·ç«¯-3-3" tabindex="-1"><a class="header-anchor" href="#å®¢æˆ·ç«¯-3-3" aria-hidden="true">#</a> å®¢æˆ·ç«¯ 3...</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> weeksDelinquent <span class="token operator">=</span>
  aCustomer <span class="token operator">===</span> <span class="token string">&quot;unknown&quot;</span>
    <span class="token operator">?</span> <span class="token number">0</span>
    <span class="token operator">:</span> aCustomer<span class="token punctuation">.</span>paymentHistory<span class="token punctuation">.</span>weeksDelinquentInLastYear<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>å’Œå‰é¢çš„ä¾‹å­ä¸€æ ·ï¼Œæˆ‘é¦–å…ˆåœ¨ Customer ä¸­æ·»åŠ  isUnknown å±æ€§ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªåŒ…å«åŒåå­—æ®µçš„ç‰¹ä¾‹å¯¹è±¡ã€‚è¿™æ¬¡çš„åŒºåˆ«åœ¨äºï¼Œç‰¹ä¾‹å¯¹è±¡æ˜¯ä¸€ä¸ªå­—é¢é‡ã€‚</p><h4 id="class-customer-3" tabindex="-1"><a class="header-anchor" href="#class-customer-3" aria-hidden="true">#</a> class Customer...</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">get</span> <span class="token function">isUnknown</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="é¡¶å±‚ä½œç”¨åŸŸ" tabindex="-1"><a class="header-anchor" href="#é¡¶å±‚ä½œç”¨åŸŸ" aria-hidden="true">#</a> é¡¶å±‚ä½œç”¨åŸŸ...</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">createUnknownCustomer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">isUnknown</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>ç„¶åæˆ‘å¯¹æ£€æŸ¥ç‰¹ä¾‹çš„æ¡ä»¶é€»è¾‘è¿ç”¨æç‚¼å‡½æ•°ï¼ˆ106ï¼‰ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">isUnknown</span><span class="token punctuation">(</span><span class="token parameter">arg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> arg <span class="token operator">===</span> <span class="token string">&quot;unknown&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="å®¢æˆ·ç«¯-1-6" tabindex="-1"><a class="header-anchor" href="#å®¢æˆ·ç«¯-1-6" aria-hidden="true">#</a> å®¢æˆ·ç«¯ 1...</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> customerName<span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isUnknown</span><span class="token punctuation">(</span>aCustomer<span class="token punctuation">)</span><span class="token punctuation">)</span> customerName <span class="token operator">=</span> <span class="token string">&quot;occupant&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">else</span> customerName <span class="token operator">=</span> aCustomer<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="å®¢æˆ·ç«¯-2-4" tabindex="-1"><a class="header-anchor" href="#å®¢æˆ·ç«¯-2-4" aria-hidden="true">#</a> å®¢æˆ·ç«¯ 2...</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> plan <span class="token operator">=</span> <span class="token function">isUnknown</span><span class="token punctuation">(</span>aCustomer<span class="token punctuation">)</span>
  <span class="token operator">?</span> registry<span class="token punctuation">.</span>billingPlans<span class="token punctuation">.</span>basic
  <span class="token operator">:</span> aCustomer<span class="token punctuation">.</span>billingPlan<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="å®¢æˆ·ç«¯-3-4" tabindex="-1"><a class="header-anchor" href="#å®¢æˆ·ç«¯-3-4" aria-hidden="true">#</a> å®¢æˆ·ç«¯ 3...</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> weeksDelinquent <span class="token operator">=</span> <span class="token function">isUnknown</span><span class="token punctuation">(</span>aCustomer<span class="token punctuation">)</span>
  <span class="token operator">?</span> <span class="token number">0</span>
  <span class="token operator">:</span> aCustomer<span class="token punctuation">.</span>paymentHistory<span class="token punctuation">.</span>weeksDelinquentInLastYear<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>ä¿®æ”¹ Site ç±»å’Œåšæ¡ä»¶åˆ¤æ–­çš„ isUnknown å‡½æ•°ï¼Œå¼€å§‹ä½¿ç”¨ç‰¹ä¾‹å¯¹è±¡ã€‚</p><h4 id="class-site-3" tabindex="-1"><a class="header-anchor" href="#class-site-3" aria-hidden="true">#</a> class Site...</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">get</span> <span class="token function">customer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_customer <span class="token operator">===</span> <span class="token string">&quot;unknown&quot;</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token function">createUnknownCustomer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_customer<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="é¡¶å±‚ä½œç”¨åŸŸ-1" tabindex="-1"><a class="header-anchor" href="#é¡¶å±‚ä½œç”¨åŸŸ-1" aria-hidden="true">#</a> é¡¶å±‚ä½œç”¨åŸŸ...</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">isUnknown</span><span class="token punctuation">(</span><span class="token parameter">arg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> arg<span class="token punctuation">.</span>isUnknown<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>ç„¶åæŠŠâ€œä»¥æ ‡å‡†æ–¹å¼åº”å¯¹ç‰¹ä¾‹â€çš„åœ°æ–¹éƒ½æ›¿æ¢æˆä½¿ç”¨ç‰¹ä¾‹å­—é¢é‡çš„å€¼ã€‚é¦–å…ˆä»â€œåå­—â€å¼€å§‹ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">createUnknownCustomer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">isUnknown</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;occupant&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="å®¢æˆ·ç«¯-1-7" tabindex="-1"><a class="header-anchor" href="#å®¢æˆ·ç«¯-1-7" aria-hidden="true">#</a> å®¢æˆ·ç«¯ 1...</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> customerName <span class="token operator">=</span> aCustomer<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>æ¥ç€æ˜¯â€œè®¡ä»·å¥—é¤â€ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">createUnknownCustomer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">isUnknown</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;occupant&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">billingPlan</span><span class="token operator">:</span> registry<span class="token punctuation">.</span>billingPlans<span class="token punctuation">.</span>basic<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="å®¢æˆ·ç«¯-2-5" tabindex="-1"><a class="header-anchor" href="#å®¢æˆ·ç«¯-2-5" aria-hidden="true">#</a> å®¢æˆ·ç«¯ 2...</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> plan <span class="token operator">=</span> aCustomer<span class="token punctuation">.</span>billingPlan<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>åŒæ ·ï¼Œæˆ‘å¯ä»¥åœ¨å­—é¢é‡å¯¹è±¡ä¸­åˆ›å»ºä¸€ä¸ªåµŒå¥—çš„ç©ºæ”¯ä»˜è®°å½•å¯¹è±¡ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">createUnknownCustomer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">isUnknown</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;occupant&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">billingPlan</span><span class="token operator">:</span> registry<span class="token punctuation">.</span>billingPlans<span class="token punctuation">.</span>basic<span class="token punctuation">,</span>
    <span class="token literal-property property">paymentHistory</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">weeksDelinquentInLastYear</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h4 id="å®¢æˆ·ç«¯-3-5" tabindex="-1"><a class="header-anchor" href="#å®¢æˆ·ç«¯-3-5" aria-hidden="true">#</a> å®¢æˆ·ç«¯ 3...</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> weeksDelinquent <span class="token operator">=</span> aCustomer<span class="token punctuation">.</span>paymentHistory<span class="token punctuation">.</span>weeksDelinquentInLastYear<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>å¦‚æœä½¿ç”¨äº†è¿™æ ·çš„å­—é¢é‡ï¼Œåº”è¯¥ä½¿ç”¨è¯¸å¦‚ Object.freeze çš„æ–¹æ³•å°†å…¶å†»ç»“ï¼Œä½¿å…¶ä¸å¯å˜ã€‚é€šå¸¸ï¼Œæˆ‘è¿˜æ˜¯å–œæ¬¢ç”¨ç±»å¤šä¸€ç‚¹ã€‚</p><h3 id="èŒƒä¾‹-ä½¿ç”¨å˜æ¢" tabindex="-1"><a class="header-anchor" href="#èŒƒä¾‹-ä½¿ç”¨å˜æ¢" aria-hidden="true">#</a> èŒƒä¾‹ï¼šä½¿ç”¨å˜æ¢</h3><p>å‰é¢ä¸¤ä¸ªä¾‹å­éƒ½æ¶‰åŠäº†ä¸€ä¸ªç±»ï¼Œå…¶å®æœ¬é‡æ„æ‰‹æ³•ä¹ŸåŒæ ·é€‚ç”¨äºè®°å½•ï¼Œåªè¦å¢åŠ ä¸€ä¸ªå˜æ¢æ­¥éª¤å³å¯ã€‚</p><p>å‡è®¾æˆ‘ä»¬çš„è¾“å…¥æ˜¯ä¸€ä¸ªç®€å•çš„è®°å½•ç»“æ„ï¼Œå¤§æ¦‚åƒè¿™æ ·ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">{</span>
 <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Acme Boston&quot;</span><span class="token punctuation">,</span>
 <span class="token literal-property property">location</span><span class="token operator">:</span> <span class="token string">&quot;Malden MA&quot;</span><span class="token punctuation">,</span>
 <span class="token comment">// more site details</span>
 <span class="token literal-property property">customer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Acme Industries&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">billingPlan</span><span class="token operator">:</span> <span class="token string">&quot;plan-451&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">paymentHistory</span><span class="token operator">:</span> <span class="token punctuation">{</span>
   <span class="token literal-property property">weeksDelinquentInLastYear</span><span class="token operator">:</span> <span class="token number">7</span>
   <span class="token comment">//more</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// more</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>æœ‰æ—¶é¡¾å®¢çš„åå­—æœªçŸ¥ï¼Œæ­¤æ—¶æ ‡è®°çš„æ–¹å¼ä¸å‰é¢ä¸€æ ·ï¼šå°† customer å­—æ®µæ ‡è®°ä¸ºå­—ç¬¦ä¸²&quot;unknown&quot;ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">{</span>
<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Warehouse Unit 15&quot;</span><span class="token punctuation">,</span>
<span class="token literal-property property">location</span><span class="token operator">:</span> <span class="token string">&quot;Malden MA&quot;</span><span class="token punctuation">,</span>
<span class="token comment">// more site details</span>
<span class="token literal-property property">customer</span><span class="token operator">:</span> <span class="token string">&quot;unknown&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>å®¢æˆ·ç«¯ä»£ç ä¹Ÿç±»ä¼¼ï¼Œä¼šæ£€æŸ¥â€œæœªçŸ¥é¡¾å®¢â€çš„æƒ…å†µï¼š</p><h4 id="å®¢æˆ·ç«¯-1-8" tabindex="-1"><a class="header-anchor" href="#å®¢æˆ·ç«¯-1-8" aria-hidden="true">#</a> å®¢æˆ·ç«¯ 1...</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> site <span class="token operator">=</span> <span class="token function">acquireSiteData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> aCustomer <span class="token operator">=</span> site<span class="token punctuation">.</span>customer<span class="token punctuation">;</span>
<span class="token comment">// ... lots of intervening code ...</span>
<span class="token keyword">let</span> customerName<span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>aCustomer <span class="token operator">===</span> <span class="token string">&quot;unknown&quot;</span><span class="token punctuation">)</span> customerName <span class="token operator">=</span> <span class="token string">&quot;occupant&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">else</span> customerName <span class="token operator">=</span> aCustomer<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="å®¢æˆ·ç«¯-2-6" tabindex="-1"><a class="header-anchor" href="#å®¢æˆ·ç«¯-2-6" aria-hidden="true">#</a> å®¢æˆ·ç«¯ 2...</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> plan <span class="token operator">=</span>
  aCustomer <span class="token operator">===</span> <span class="token string">&quot;unknown&quot;</span> <span class="token operator">?</span> registry<span class="token punctuation">.</span>billingPlans<span class="token punctuation">.</span>basic <span class="token operator">:</span> aCustomer<span class="token punctuation">.</span>billingPlan<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="å®¢æˆ·ç«¯-3-6" tabindex="-1"><a class="header-anchor" href="#å®¢æˆ·ç«¯-3-6" aria-hidden="true">#</a> å®¢æˆ·ç«¯ 3...</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> weeksDelinquent <span class="token operator">=</span>
  aCustomer <span class="token operator">===</span> <span class="token string">&quot;unknown&quot;</span>
    <span class="token operator">?</span> <span class="token number">0</span>
    <span class="token operator">:</span> aCustomer<span class="token punctuation">.</span>paymentHistory<span class="token punctuation">.</span>weeksDelinquentInLastYear<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>æˆ‘é¦–å…ˆè¦è®© Site æ•°æ®ç»“æ„ç»è¿‡ä¸€æ¬¡å˜æ¢ï¼Œç›®å‰å˜æ¢ä¸­åªåšäº†æ·±å¤åˆ¶ï¼Œæ²¡æœ‰å¯¹æ•°æ®åšä»»ä½•å¤„ç†ã€‚</p><h4 id="å®¢æˆ·ç«¯-1-9" tabindex="-1"><a class="header-anchor" href="#å®¢æˆ·ç«¯-1-9" aria-hidden="true">#</a> å®¢æˆ·ç«¯ 1...</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> rawSite <span class="token operator">=</span> <span class="token function">acquireSiteData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> site <span class="token operator">=</span> <span class="token function">enrichSite</span><span class="token punctuation">(</span>rawSite<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> aCustomer <span class="token operator">=</span> site<span class="token punctuation">.</span>customer<span class="token punctuation">;</span>
<span class="token comment">// ... lots of intervening code ...</span>
<span class="token keyword">let</span> customerName<span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>aCustomer <span class="token operator">===</span> <span class="token string">&quot;unknown&quot;</span><span class="token punctuation">)</span> customerName <span class="token operator">=</span> <span class="token string">&quot;occupant&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">else</span> customerName <span class="token operator">=</span> aCustomer<span class="token punctuation">.</span>name<span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">enrichSite</span><span class="token punctuation">(</span><span class="token parameter">inputSite</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> _<span class="token punctuation">.</span><span class="token function">cloneDeep</span><span class="token punctuation">(</span>inputSite<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>ç„¶åå¯¹â€œæ£€æŸ¥æœªçŸ¥é¡¾å®¢â€çš„ä»£ç è¿ç”¨æç‚¼å‡½æ•°ï¼ˆ106ï¼‰ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">isUnknown</span><span class="token punctuation">(</span><span class="token parameter">aCustomer</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> aCustomer <span class="token operator">===</span> <span class="token string">&quot;unknown&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="å®¢æˆ·ç«¯-1-10" tabindex="-1"><a class="header-anchor" href="#å®¢æˆ·ç«¯-1-10" aria-hidden="true">#</a> å®¢æˆ·ç«¯ 1...</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> rawSite <span class="token operator">=</span> <span class="token function">acquireSiteData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> site <span class="token operator">=</span> <span class="token function">enrichSite</span><span class="token punctuation">(</span>rawSite<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> aCustomer <span class="token operator">=</span> site<span class="token punctuation">.</span>customer<span class="token punctuation">;</span>
<span class="token comment">// ... lots of intervening code ...</span>
<span class="token keyword">let</span> customerName<span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isUnknown</span><span class="token punctuation">(</span>aCustomer<span class="token punctuation">)</span><span class="token punctuation">)</span> customerName <span class="token operator">=</span> <span class="token string">&quot;occupant&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">else</span> customerName <span class="token operator">=</span> aCustomer<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="å®¢æˆ·ç«¯-2-7" tabindex="-1"><a class="header-anchor" href="#å®¢æˆ·ç«¯-2-7" aria-hidden="true">#</a> å®¢æˆ·ç«¯ 2...</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> plan <span class="token operator">=</span> <span class="token function">isUnknown</span><span class="token punctuation">(</span>aCustomer<span class="token punctuation">)</span>
  <span class="token operator">?</span> registry<span class="token punctuation">.</span>billingPlans<span class="token punctuation">.</span>basic
  <span class="token operator">:</span> aCustomer<span class="token punctuation">.</span>billingPlan<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="å®¢æˆ·ç«¯-3-7" tabindex="-1"><a class="header-anchor" href="#å®¢æˆ·ç«¯-3-7" aria-hidden="true">#</a> å®¢æˆ·ç«¯ 3...</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> weeksDelinquent <span class="token operator">=</span> <span class="token function">isUnknown</span><span class="token punctuation">(</span>aCustomer<span class="token punctuation">)</span>
  <span class="token operator">?</span> <span class="token number">0</span>
  <span class="token operator">:</span> aCustomer<span class="token punctuation">.</span>paymentHistory<span class="token punctuation">.</span>weeksDelinquentInLastYear<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>ç„¶åå¼€å§‹å¯¹ Site æ•°æ®åšå¢å¼ºï¼Œé¦–å…ˆæ˜¯ç»™ customer å­—æ®µåŠ ä¸Š isUnknown å±æ€§ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">enrichSite</span><span class="token punctuation">(</span><span class="token parameter">aSite</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> result <span class="token operator">=</span> _<span class="token punctuation">.</span><span class="token function">cloneDeep</span><span class="token punctuation">(</span>aSite<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> unknownCustomer <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">isUnknown</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isUnknown</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>customer<span class="token punctuation">)</span><span class="token punctuation">)</span> result<span class="token punctuation">.</span>customer <span class="token operator">=</span> unknownCustomer<span class="token punctuation">;</span>
  <span class="token keyword">else</span> result<span class="token punctuation">.</span>customer<span class="token punctuation">.</span>isUnknown <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>éšåä¿®æ”¹æ£€æŸ¥ç‰¹ä¾‹çš„æ¡ä»¶é€»è¾‘ï¼Œå¼€å§‹ä½¿ç”¨æ–°çš„å±æ€§ã€‚åŸæ¥çš„æ£€æŸ¥é€»è¾‘ä¹Ÿä¿ç•™ä¸åŠ¨ï¼Œæ‰€ä»¥ç°åœ¨çš„æ£€æŸ¥é€»è¾‘åº”è¯¥æ—¢èƒ½åº”å¯¹åŸæ¥çš„ Site æ•°æ®ï¼Œä¹Ÿèƒ½åº”å¯¹å¢å¼ºåçš„ Site æ•°æ®ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">isUnknown</span><span class="token punctuation">(</span><span class="token parameter">aCustomer</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>aCustomer <span class="token operator">===</span> <span class="token string">&quot;unknown&quot;</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token keyword">else</span> <span class="token keyword">return</span> aCustomer<span class="token punctuation">.</span>isUnknown<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>æµ‹è¯•ï¼Œç¡®ä¿ä¸€åˆ‡æ­£å¸¸ï¼Œç„¶åé’ˆå¯¹ç‰¹ä¾‹ä½¿ç”¨å‡½æ•°ç»„åˆæˆå˜æ¢ï¼ˆ149ï¼‰ã€‚é¦–å…ˆæŠŠâ€œæœªçŸ¥é¡¾å®¢çš„åå­—â€çš„å¤„ç†é€»è¾‘æ¬è¿›å¢å¼ºå‡½æ•°ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">enrichSite</span><span class="token punctuation">(</span><span class="token parameter">aSite</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> result <span class="token operator">=</span> _<span class="token punctuation">.</span><span class="token function">cloneDeep</span><span class="token punctuation">(</span>aSite<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> unknownCustomer <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">isUnknown</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;occupant&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isUnknown</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>customer<span class="token punctuation">)</span><span class="token punctuation">)</span> result<span class="token punctuation">.</span>customer <span class="token operator">=</span> unknownCustomer<span class="token punctuation">;</span>
  <span class="token keyword">else</span> result<span class="token punctuation">.</span>customer<span class="token punctuation">.</span>isUnknown <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h4 id="å®¢æˆ·ç«¯-1-11" tabindex="-1"><a class="header-anchor" href="#å®¢æˆ·ç«¯-1-11" aria-hidden="true">#</a> å®¢æˆ·ç«¯ 1...</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> rawSite <span class="token operator">=</span> <span class="token function">acquireSiteData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> site <span class="token operator">=</span> <span class="token function">enrichSite</span><span class="token punctuation">(</span>rawSite<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> aCustomer <span class="token operator">=</span> site<span class="token punctuation">.</span>customer<span class="token punctuation">;</span>
<span class="token comment">// ... lots of intervening code ...</span>
<span class="token keyword">const</span> customerName <span class="token operator">=</span> aCustomer<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>æµ‹è¯•ï¼Œç„¶åæ˜¯â€œæœªçŸ¥é¡¾å®¢çš„è®¡ä»·å¥—é¤â€çš„å¤„ç†é€»è¾‘ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">enrichSite</span><span class="token punctuation">(</span><span class="token parameter">aSite</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> result <span class="token operator">=</span> _<span class="token punctuation">.</span><span class="token function">cloneDeep</span><span class="token punctuation">(</span>aSite<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> unknownCustomer <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">isUnknown</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;occupant&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">billingPlan</span><span class="token operator">:</span> registry<span class="token punctuation">.</span>billingPlans<span class="token punctuation">.</span>basic<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isUnknown</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>customer<span class="token punctuation">)</span><span class="token punctuation">)</span> result<span class="token punctuation">.</span>customer <span class="token operator">=</span> unknownCustomer<span class="token punctuation">;</span>
  <span class="token keyword">else</span> result<span class="token punctuation">.</span>customer<span class="token punctuation">.</span>isUnknown <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h4 id="å®¢æˆ·ç«¯-2-8" tabindex="-1"><a class="header-anchor" href="#å®¢æˆ·ç«¯-2-8" aria-hidden="true">#</a> å®¢æˆ·ç«¯ 2...</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> plan <span class="token operator">=</span> aCustomer<span class="token punctuation">.</span>billingPlan<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>å†æ¬¡æµ‹è¯•ï¼Œç„¶åå¤„ç†æœ€åä¸€å¤„å®¢æˆ·ç«¯ä»£ç ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">enrichSite</span><span class="token punctuation">(</span><span class="token parameter">aSite</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> result <span class="token operator">=</span> _<span class="token punctuation">.</span><span class="token function">cloneDeep</span><span class="token punctuation">(</span>aSite<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> unknownCustomer <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">isUnknown</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;occupant&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">billingPlan</span><span class="token operator">:</span> registry<span class="token punctuation">.</span>billingPlans<span class="token punctuation">.</span>basic<span class="token punctuation">,</span>
    <span class="token literal-property property">paymentHistory</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">weeksDelinquentInLastYear</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isUnknown</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>customer<span class="token punctuation">)</span><span class="token punctuation">)</span> result<span class="token punctuation">.</span>customer <span class="token operator">=</span> unknownCustomer<span class="token punctuation">;</span>
  <span class="token keyword">else</span> result<span class="token punctuation">.</span>customer<span class="token punctuation">.</span>isUnknown <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h4 id="å®¢æˆ·ç«¯-3-8" tabindex="-1"><a class="header-anchor" href="#å®¢æˆ·ç«¯-3-8" aria-hidden="true">#</a> å®¢æˆ·ç«¯ 3...</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> weeksDelinquent <span class="token operator">=</span> aCustomer<span class="token punctuation">.</span>paymentHistory<span class="token punctuation">.</span>weeksDelinquentInLastYear<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="_10-6-å¼•å…¥æ–­è¨€-introduce-assertion" tabindex="-1"><a class="header-anchor" href="#_10-6-å¼•å…¥æ–­è¨€-introduce-assertion" aria-hidden="true">#</a> 10.6 å¼•å…¥æ–­è¨€ï¼ˆIntroduce Assertionï¼‰</h2><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>discountRate<span class="token punctuation">)</span>
  base <span class="token operator">=</span> base <span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>discountRate <span class="token operator">*</span> base<span class="token punctuation">)</span><span class="token punctuation">;</span>


  <span class="token function">assert</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>discountRate<span class="token operator">&amp;</span>gt<span class="token punctuation">;</span><span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>discountRate<span class="token punctuation">)</span>
  base <span class="token operator">=</span> base <span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>discountRate <span class="token operator">*</span> base<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="åŠ¨æœº-5" tabindex="-1"><a class="header-anchor" href="#åŠ¨æœº-5" aria-hidden="true">#</a> åŠ¨æœº</h3><p>å¸¸å¸¸ä¼šæœ‰è¿™æ ·ä¸€æ®µä»£ç ï¼šåªæœ‰å½“æŸä¸ªæ¡ä»¶ä¸ºçœŸæ—¶ï¼Œè¯¥æ®µä»£ç æ‰èƒ½æ­£å¸¸è¿è¡Œã€‚ä¾‹å¦‚ï¼Œå¹³æ–¹æ ¹è®¡ç®—åªå¯¹æ­£å€¼æ‰èƒ½è¿›è¡Œï¼Œåˆä¾‹å¦‚ï¼ŒæŸä¸ªå¯¹è±¡å¯èƒ½å‡è®¾ä¸€ç»„å­—æ®µä¸­è‡³å°‘æœ‰ä¸€ä¸ªä¸ç­‰äº nullã€‚</p><p>è¿™æ ·çš„å‡è®¾é€šå¸¸å¹¶æ²¡æœ‰åœ¨ä»£ç ä¸­æ˜ç¡®è¡¨ç°å‡ºæ¥ï¼Œä½ å¿…é¡»é˜…è¯»æ•´ä¸ªç®—æ³•æ‰èƒ½çœ‹å‡ºã€‚æœ‰æ—¶ç¨‹åºå‘˜ä¼šä»¥æ³¨é‡Šå†™å‡ºè¿™æ ·çš„å‡è®¾ï¼Œè€Œæˆ‘è¦ä»‹ç»çš„æ˜¯ä¸€ç§æ›´å¥½çš„æŠ€æœ¯â€”â€”ä½¿ç”¨æ–­è¨€æ˜ç¡®æ ‡æ˜è¿™äº›å‡è®¾ã€‚</p><p>æ–­è¨€æ˜¯ä¸€ä¸ªæ¡ä»¶è¡¨è¾¾å¼ï¼Œåº”è¯¥æ€»æ˜¯ä¸ºçœŸã€‚å¦‚æœå®ƒå¤±è´¥ï¼Œè¡¨ç¤ºç¨‹åºå‘˜çŠ¯äº†é”™è¯¯ã€‚æ–­è¨€çš„å¤±è´¥ä¸åº”è¯¥è¢«ç³»ç»Ÿä»»ä½•åœ°æ–¹æ•æ‰ã€‚æ•´ä¸ªç¨‹åºçš„è¡Œä¸ºåœ¨æœ‰æ²¡æœ‰æ–­è¨€å‡ºç°çš„æ—¶å€™éƒ½åº”è¯¥å®Œå…¨ä¸€æ ·ã€‚å®é™…ä¸Šï¼Œæœ‰äº›ç¼–ç¨‹è¯­è¨€ä¸­çš„æ–­è¨€å¯ä»¥åœ¨ç¼–è¯‘æœŸç”¨ä¸€ä¸ªå¼€å…³å®Œå…¨ç¦ç”¨æ‰ã€‚</p><p>æˆ‘å¸¸çœ‹è§æœ‰äººé¼“åŠ±ç”¨æ–­è¨€æ¥å‘ç°ç¨‹åºä¸­çš„é”™è¯¯ã€‚è¿™å›ºç„¶æ˜¯ä¸€ä»¶å¥½äº‹ï¼Œä½†å´ä¸æ˜¯ä½¿ç”¨æ–­è¨€çš„å”¯ä¸€ç†ç”±ã€‚æ–­è¨€æ˜¯ä¸€ç§å¾ˆæœ‰ä»·å€¼çš„äº¤æµå½¢å¼â€”â€”å®ƒä»¬å‘Šè¯‰é˜…è¯»è€…ï¼Œç¨‹åºåœ¨æ‰§è¡Œåˆ°è¿™ä¸€ç‚¹æ—¶ï¼Œå¯¹å½“å‰çŠ¶æ€åšäº†ä½•ç§å‡è®¾ã€‚å¦å¤–æ–­è¨€å¯¹è°ƒè¯•ä¹Ÿå¾ˆæœ‰å¸®åŠ©ã€‚è€Œä¸”ï¼Œå› ä¸ºå®ƒä»¬åœ¨äº¤æµä¸Šå¾ˆæœ‰ä»·å€¼ï¼Œå³ä½¿è§£å†³äº†å½“ä¸‹æ­£åœ¨è¿½è¸ªçš„é”™è¯¯ï¼Œæˆ‘è¿˜æ˜¯å€¾å‘äºæŠŠæ–­è¨€ç•™ç€ã€‚è‡ªæµ‹è¯•çš„ä»£ç é™ä½äº†æ–­è¨€åœ¨è°ƒè¯•æ–¹é¢çš„ä»·å€¼ï¼Œå› ä¸ºé€æ­¥é€¼è¿‘çš„å•å…ƒæµ‹è¯•é€šå¸¸èƒ½æ›´å¥½åœ°å¸®åŠ©è°ƒè¯•ï¼Œä½†æˆ‘ä»ç„¶çœ‹é‡æ–­è¨€åœ¨äº¤æµæ–¹é¢çš„ä»·å€¼ã€‚</p><h3 id="åšæ³•-5" tabindex="-1"><a class="header-anchor" href="#åšæ³•-5" aria-hidden="true">#</a> åšæ³•</h3><p>å¦‚æœä½ å‘ç°ä»£ç å‡è®¾æŸä¸ªæ¡ä»¶å§‹ç»ˆä¸ºçœŸï¼Œå°±åŠ å…¥ä¸€ä¸ªæ–­è¨€æ˜ç¡®è¯´æ˜è¿™ç§æƒ…å†µã€‚</p><p>å› ä¸ºæ–­è¨€åº”è¯¥ä¸ä¼šå¯¹ç³»ç»Ÿè¿è¡Œé€ æˆä»»ä½•å½±å“ï¼Œæ‰€ä»¥â€œåŠ å…¥æ–­è¨€â€æ°¸è¿œéƒ½åº”è¯¥æ˜¯è¡Œä¸ºä¿æŒçš„ã€‚</p><h3 id="èŒƒä¾‹-5" tabindex="-1"><a class="header-anchor" href="#èŒƒä¾‹-5" aria-hidden="true">#</a> èŒƒä¾‹</h3><p>ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼šæŠ˜æ‰£ã€‚é¡¾å®¢ï¼ˆcustomerï¼‰ä¼šè·å¾—ä¸€ä¸ªæŠ˜æ‰£ç‡ï¼ˆdiscount rateï¼‰ï¼Œå¯ä»¥ç”¨äºæ‰€æœ‰å…¶è´­ä¹°çš„å•†å“ã€‚</p><h4 id="class-customer-4" tabindex="-1"><a class="header-anchor" href="#class-customer-4" aria-hidden="true">#</a> class Customer...</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">applyDiscount</span><span class="token punctuation">(</span><span class="token parameter">aNumber</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>discountRate<span class="token punctuation">)</span>
    <span class="token operator">?</span> aNumber <span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>discountRate <span class="token operator">*</span> aNumber<span class="token punctuation">)</span>
    <span class="token operator">:</span> aNumber<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>è¿™é‡Œæœ‰ä¸€ä¸ªå‡è®¾ï¼šæŠ˜æ‰£ç‡æ°¸è¿œæ˜¯æ­£æ•°ã€‚æˆ‘å¯ä»¥ç”¨æ–­è¨€æ˜ç¡®æ ‡ç¤ºå‡ºè¿™ä¸ªå‡è®¾ã€‚ä½†åœ¨ä¸€ä¸ªä¸‰å…ƒè¡¨è¾¾å¼ä¸­æ²¡åŠæ³•å¾ˆç®€å•åœ°æ’å…¥æ–­è¨€ï¼Œæ‰€ä»¥æˆ‘é¦–å…ˆè¦æŠŠè¿™ä¸ªè¡¨è¾¾å¼è½¬æ¢æˆ if-else çš„å½¢å¼ã€‚</p><h4 id="class-customer-5" tabindex="-1"><a class="header-anchor" href="#class-customer-5" aria-hidden="true">#</a> class Customer...</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">applyDiscount</span><span class="token punctuation">(</span><span class="token parameter">aNumber</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>discountRate<span class="token punctuation">)</span> <span class="token keyword">return</span> aNumber<span class="token punctuation">;</span>
  <span class="token keyword">else</span> <span class="token keyword">return</span> aNumber <span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>discountRate <span class="token operator">*</span> aNumber<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>ç°åœ¨æˆ‘å°±å¯ä»¥è½»æ¾åœ°åŠ å…¥æ–­è¨€äº†ã€‚</p><h4 id="class-customer-6" tabindex="-1"><a class="header-anchor" href="#class-customer-6" aria-hidden="true">#</a> class Customer...</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">applyDiscount</span><span class="token punctuation">(</span><span class="token parameter">aNumber</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>discountRate<span class="token punctuation">)</span> <span class="token keyword">return</span> aNumber<span class="token punctuation">;</span>
  <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token function">assert</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>discountRate <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span><span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> aNumber <span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>discountRate <span class="token operator">*</span> aNumber<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>å¯¹è¿™ä¸ªä¾‹å­è€Œè¨€ï¼Œæˆ‘æ›´æ„¿æ„æŠŠæ–­è¨€æ”¾åœ¨è®¾å€¼å‡½æ•°ä¸Šã€‚å¦‚æœåœ¨ applyDiscount å‡½æ•°å¤„å‘ç”Ÿæ–­è¨€å¤±è´¥ï¼Œæˆ‘è¿˜å¾—å…ˆè´¹åŠ›ææ¸…æ¥šéæ³•çš„æŠ˜æ‰£ç‡å€¼èµ·åˆæ˜¯ä»å“ªå„¿æ”¾è¿›å»çš„ã€‚</p><h4 id="class-customer-7" tabindex="-1"><a class="header-anchor" href="#class-customer-7" aria-hidden="true">#</a> class Customer...</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">set</span> <span class="token function">discountRate</span><span class="token punctuation">(</span><span class="token parameter">aNumber</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">assert</span><span class="token punctuation">(</span><span class="token keyword">null</span> <span class="token operator">===</span> aNumber <span class="token operator">||</span> aNumber <span class="token operator">&amp;</span>gt<span class="token punctuation">;</span><span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>_discountRate <span class="token operator">=</span> aNumber<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>çœŸæ­£å¼•èµ·é”™è¯¯çš„æºå¤´æœ‰å¯èƒ½å¾ˆéš¾å‘ç°â€”â€”ä¹Ÿè®¸æ˜¯è¾“å…¥æ•°æ®ä¸­è¯¯å†™äº†ä¸€ä¸ªå‡å·ï¼Œä¹Ÿè®¸æ˜¯æŸå¤„ä»£ç åšæ•°æ®è½¬æ¢æ—¶çŠ¯äº†é”™è¯¯ã€‚åƒè¿™æ ·çš„æ–­è¨€å¯¹äºå‘ç°é”™è¯¯æºå¤´ç‰¹åˆ«æœ‰å¸®åŠ©ã€‚</p><p>æ³¨æ„ï¼Œä¸è¦æ»¥ç”¨æ–­è¨€ã€‚æˆ‘ä¸ä¼šä½¿ç”¨æ–­è¨€æ¥æ£€æŸ¥æ‰€æœ‰â€œæˆ‘è®¤ä¸ºåº”è¯¥ä¸ºçœŸâ€çš„æ¡ä»¶ï¼Œåªç”¨æ¥æ£€æŸ¥â€œå¿…é¡»ä¸ºçœŸâ€çš„æ¡ä»¶ã€‚æ»¥ç”¨æ–­è¨€å¯èƒ½ä¼šé€ æˆä»£ç é‡å¤ï¼Œå°¤å…¶æ˜¯åœ¨å¤„ç†ä¸Šé¢è¿™æ ·çš„æ¡ä»¶é€»è¾‘æ—¶ã€‚æ‰€ä»¥æˆ‘å‘ç°ï¼Œå¾ˆæœ‰å¿…è¦å»æ‰æ¡ä»¶é€»è¾‘ä¸­çš„é‡å¤ï¼Œé€šå¸¸å¯ä»¥å€ŸåŠ©æç‚¼å‡½æ•°ï¼ˆ106ï¼‰æ‰‹æ³•ã€‚</p><p>æˆ‘åªç”¨æ–­è¨€é¢„é˜²ç¨‹åºå‘˜çš„é”™è¯¯ã€‚å¦‚æœè¦ä»æŸä¸ªå¤–éƒ¨æ•°æ®æºè¯»å–æ•°æ®ï¼Œé‚£ä¹ˆæ‰€æœ‰å¯¹è¾“å…¥å€¼çš„æ£€æŸ¥éƒ½åº”è¯¥æ˜¯ç¨‹åºçš„ä¸€ç­‰å…¬æ°‘ï¼Œè€Œä¸èƒ½ç”¨æ–­è¨€å®ç°â€”â€”é™¤éæˆ‘å¯¹è¿™ä¸ªå¤–éƒ¨æ•°æ®æºæœ‰ç»å¯¹çš„ä¿¡å¿ƒã€‚æ–­è¨€æ˜¯å¸®åŠ©æˆ‘ä»¬è·Ÿè¸ª bug çš„æœ€åä¸€æ‹›ï¼Œæ‰€ä»¥ï¼Œæˆ–è®¸å¬æ¥è®½åˆºï¼Œåªæœ‰å½“æˆ‘è®¤ä¸ºæ–­è¨€ç»å¯¹ä¸ä¼šå¤±è´¥çš„æ—¶å€™ï¼Œæˆ‘æ‰ä¼šä½¿ç”¨æ–­è¨€ã€‚</p><!--]--></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/yuan-yy/edit/main/demo/src/book/chongGou/ch10.md" rel="noopener noreferrer" target="_blank" arialabel="ç¼–è¾‘æ­¤é¡µ" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewbox="0 0 1024 1024" arialabelledby="edit"><title id="edit" lang="en">edit icon</title><g fill="currentColor"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></g></svg><!--]-->ç¼–è¾‘æ­¤é¡µ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><!----><!----></footer><nav class="page-nav"><a href="/vuepress2.4/book/chongGou/ch9.html" class="nav-link prev" arialabel="ç¬¬ 9 ç«  é‡æ–°ç»„ç»‡æ•°æ®"><div class="hint"><span class="arrow left"></span>ä¸Šä¸€é¡µ</div><div class="link"><!---->ç¬¬ 9 ç«  é‡æ–°ç»„ç»‡æ•°æ®</div></a><a href="/vuepress2.4/book/chongGou/ch11.html" class="nav-link next" arialabel="ç¬¬ 11 ç«  é‡æ„ API"><div class="hint">ä¸‹ä¸€é¡µ<span class="arrow right"></span></div><div class="link">ç¬¬ 11 ç«  é‡æ„ API<!----></div></a></nav><!----><!----></main><!--]--><footer class="footer-wrapper"><div class="footer">å‚»ç“œéƒ½èƒ½å†™å‡ºè®¡ç®—æœºå¯ä»¥ç†è§£çš„ä»£ç ã€‚å”¯æœ‰èƒ½å†™å‡ºäººç±»å®¹æ˜“ç†è§£çš„ä»£ç çš„ï¼Œæ‰æ˜¯ä¼˜ç§€çš„ç¨‹åºå‘˜ã€‚</div><div class="copyright">Copyright Â© 2022 YY</div></footer></div><!--]--><!----><!--[--><!-- Root element of PhotoSwipe. Must have class pswp. --><div class="pswp" tabindex="-1" role="dialog" aria-hidden="true"><!-- Background of PhotoSwipe. 
    Itâ€™s a separate element, as animating opacity is faster than rgba().--><div class="pswp__bg"></div><!-- Slides wrapper with overflow:hidden. --><div class="pswp__scroll-wrap"><!-- Container that holds slides. PhotoSwipe keeps only 3 slides in DOM to save memory. --><div class="pswp__container"><!-- donâ€™t modify these 3 pswp__item elements, data is added later on --><div class="pswp__item"></div><div class="pswp__item"></div><div class="pswp__item"></div></div><!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. --><div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><!--  Controls are self-explanatory. Order can be changed. --><div class="pswp__counter"></div><button class="pswp__button pswp__button--close" title="å…³é—­"></button><button class="pswp__button pswp__button--share" title="åˆ†äº«"></button><button class="pswp__button pswp__button--fs" title="åˆ‡æ¢å…¨å±"></button><button class="pswp__button pswp__button--zoom" title="ç¼©æ”¾"></button><!-- Preloader demo https://codepen.io/dimsemenov/pen/yyBWoR --><!-- element will get class pswp__preloader--active when preloader is running --><div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div><button class="pswp__button pswp__button--arrow--left" title="ä¸Šä¸€ä¸ª (å·¦ç®­å¤´)"></button><button class="pswp__button pswp__button--arrow--right" title="ä¸‹ä¸€ä¸ª (å³ç®­å¤´)"></button><div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div><!--]--><!----><div id="pwa-install"><!----><div id="install-modal-wrapper" style="display:none;"><div class="background"></div><div class="install-modal"><div class="header"><button class="close-button" aria-label="å…³é—­"><svg xmlns="http://www.w3.org/2000/svg" class="icon close-icon" viewbox="0 0 1024 1024" arialabelledby="close"><title id="close" lang="en">close icon</title><g fill="currentColor"><path d="M589.654 511.965 1007.212 84.22a49.777 49.777 0 0 0-.73-70.02 49.046 49.046 0 0 0-69.687.665L519.967 441.946 85.882 14.2a49.08 49.08 0 0 0-69.687.664 49.777 49.777 0 0 0 .664 70.019l433.454 427.082L16.859 939.048a49.777 49.777 0 0 0-.664 70.019 49.013 49.013 0 0 0 69.687.663l434.085-427.746 416.828 427.083A49.013 49.013 0 0 0 972.037 1024a48.416 48.416 0 0 0 34.512-14.27 49.777 49.777 0 0 0 .73-70.019z"></path></g></svg></button><div class="logo"><!--v-if--><div class="title"><h1></h1><p class="desc">è¯¥åº”ç”¨å¯ä»¥å®‰è£…åœ¨æ‚¨çš„ PC æˆ–ç§»åŠ¨è®¾å¤‡ä¸Šã€‚è¿™å°†ä½¿è¯¥ Web åº”ç”¨ç¨‹åºå¤–è§‚å’Œè¡Œä¸ºä¸å…¶ä»–åº”ç”¨ç¨‹åºç›¸åŒã€‚å®ƒå°†åœ¨å‡ºç°åœ¨åº”ç”¨ç¨‹åºåˆ—è¡¨ä¸­ï¼Œå¹¶å¯ä»¥å›ºå®šåˆ°ä¸»å±å¹•ï¼Œå¼€å§‹èœå•æˆ–ä»»åŠ¡æ ã€‚æ­¤ Web åº”ç”¨ç¨‹åºè¿˜å°†èƒ½å¤Ÿä¸å…¶ä»–åº”ç”¨ç¨‹åºå’Œæ‚¨çš„æ“ä½œç³»ç»Ÿå®‰å…¨åœ°è¿›è¡Œäº¤äº’ã€‚</p></div></div></div><div class="content"><div class="highlight"><!--v-if--><!--v-if--></div><div class="description"><h3>è¯¦æƒ…</h3><p></p></div></div><div class="button-wrapper"><button class="install-button">å®‰è£… <span></span></button><button class="cancel-button">å–æ¶ˆ</button></div></div></div></div><!--]--></div>
    <script type="module" src="/vuepress2.4/assets/app.d843d859.js" defer></script>
  </body>
</html>
